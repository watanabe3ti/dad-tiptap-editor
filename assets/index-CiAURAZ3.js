(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();function Of(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Lv(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var o=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return r[n]}})}),t}var Aa={exports:{}},hi={},Da={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function Fv(){if(rm)return ge;rm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function k(N){return N===null||typeof N!="object"?null:(N=m&&N[m]||N["@@iterator"],typeof N=="function"?N:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function C(N,q,fe){this.props=N,this.context=q,this.refs=w,this.updater=fe||v}C.prototype.isReactComponent={},C.prototype.setState=function(N,q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,q,"setState")},C.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function E(){}E.prototype=C.prototype;function A(N,q,fe){this.props=N,this.context=q,this.refs=w,this.updater=fe||v}var b=A.prototype=new E;b.constructor=A,x(b,C.prototype),b.isPureReactComponent=!0;var T=Array.isArray,I=Object.prototype.hasOwnProperty,O={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function L(N,q,fe){var ye,Se={},we=null,Te=null;if(q!=null)for(ye in q.ref!==void 0&&(Te=q.ref),q.key!==void 0&&(we=""+q.key),q)I.call(q,ye)&&!W.hasOwnProperty(ye)&&(Se[ye]=q[ye]);var _e=arguments.length-2;if(_e===1)Se.children=fe;else if(1<_e){for(var Oe=Array(_e),At=0;At<_e;At++)Oe[At]=arguments[At+2];Se.children=Oe}if(N&&N.defaultProps)for(ye in _e=N.defaultProps,_e)Se[ye]===void 0&&(Se[ye]=_e[ye]);return{$$typeof:r,type:N,key:we,ref:Te,props:Se,_owner:O.current}}function F(N,q){return{$$typeof:r,type:N.type,key:q,ref:N.ref,props:N.props,_owner:N._owner}}function K(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function X(N){var q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(fe){return q[fe]})}var ae=/\/+/g;function xe(N,q){return typeof N=="object"&&N!==null&&N.key!=null?X(""+N.key):q.toString(36)}function V(N,q,fe,ye,Se){var we=typeof N;(we==="undefined"||we==="boolean")&&(N=null);var Te=!1;if(N===null)Te=!0;else switch(we){case"string":case"number":Te=!0;break;case"object":switch(N.$$typeof){case r:case e:Te=!0}}if(Te)return Te=N,Se=Se(Te),N=ye===""?"."+xe(Te,0):ye,T(Se)?(fe="",N!=null&&(fe=N.replace(ae,"$&/")+"/"),V(Se,q,fe,"",function(At){return At})):Se!=null&&(K(Se)&&(Se=F(Se,fe+(!Se.key||Te&&Te.key===Se.key?"":(""+Se.key).replace(ae,"$&/")+"/")+N)),q.push(Se)),1;if(Te=0,ye=ye===""?".":ye+":",T(N))for(var _e=0;_e<N.length;_e++){we=N[_e];var Oe=ye+xe(we,_e);Te+=V(we,q,fe,Oe,Se)}else if(Oe=k(N),typeof Oe=="function")for(N=Oe.call(N),_e=0;!(we=N.next()).done;)we=we.value,Oe=ye+xe(we,_e++),Te+=V(we,q,fe,Oe,Se);else if(we==="object")throw q=String(N),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Te}function he(N,q,fe){if(N==null)return N;var ye=[],Se=0;return V(N,ye,"","",function(we){return q.call(fe,we,Se++)}),ye}function pe(N){if(N._status===-1){var q=N._result;q=q(),q.then(function(fe){(N._status===0||N._status===-1)&&(N._status=1,N._result=fe)},function(fe){(N._status===0||N._status===-1)&&(N._status=2,N._result=fe)}),N._status===-1&&(N._status=0,N._result=q)}if(N._status===1)return N._result.default;throw N._result}var ke={current:null},G={transition:null},Y={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:G,ReactCurrentOwner:O};function B(){throw Error("act(...) is not supported in production builds of React.")}return ge.Children={map:he,forEach:function(N,q,fe){he(N,function(){q.apply(this,arguments)},fe)},count:function(N){var q=0;return he(N,function(){q++}),q},toArray:function(N){return he(N,function(q){return q})||[]},only:function(N){if(!K(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ge.Component=C,ge.Fragment=t,ge.Profiler=o,ge.PureComponent=A,ge.StrictMode=n,ge.Suspense=f,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,ge.act=B,ge.cloneElement=function(N,q,fe){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ye=x({},N.props),Se=N.key,we=N.ref,Te=N._owner;if(q!=null){if(q.ref!==void 0&&(we=q.ref,Te=O.current),q.key!==void 0&&(Se=""+q.key),N.type&&N.type.defaultProps)var _e=N.type.defaultProps;for(Oe in q)I.call(q,Oe)&&!W.hasOwnProperty(Oe)&&(ye[Oe]=q[Oe]===void 0&&_e!==void 0?_e[Oe]:q[Oe])}var Oe=arguments.length-2;if(Oe===1)ye.children=fe;else if(1<Oe){_e=Array(Oe);for(var At=0;At<Oe;At++)_e[At]=arguments[At+2];ye.children=_e}return{$$typeof:r,type:N.type,key:Se,ref:we,props:ye,_owner:Te}},ge.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:s,_context:N},N.Consumer=N},ge.createElement=L,ge.createFactory=function(N){var q=L.bind(null,N);return q.type=N,q},ge.createRef=function(){return{current:null}},ge.forwardRef=function(N){return{$$typeof:a,render:N}},ge.isValidElement=K,ge.lazy=function(N){return{$$typeof:p,_payload:{_status:-1,_result:N},_init:pe}},ge.memo=function(N,q){return{$$typeof:d,type:N,compare:q===void 0?null:q}},ge.startTransition=function(N){var q=G.transition;G.transition={};try{N()}finally{G.transition=q}},ge.unstable_act=B,ge.useCallback=function(N,q){return ke.current.useCallback(N,q)},ge.useContext=function(N){return ke.current.useContext(N)},ge.useDebugValue=function(){},ge.useDeferredValue=function(N){return ke.current.useDeferredValue(N)},ge.useEffect=function(N,q){return ke.current.useEffect(N,q)},ge.useId=function(){return ke.current.useId()},ge.useImperativeHandle=function(N,q,fe){return ke.current.useImperativeHandle(N,q,fe)},ge.useInsertionEffect=function(N,q){return ke.current.useInsertionEffect(N,q)},ge.useLayoutEffect=function(N,q){return ke.current.useLayoutEffect(N,q)},ge.useMemo=function(N,q){return ke.current.useMemo(N,q)},ge.useReducer=function(N,q,fe){return ke.current.useReducer(N,q,fe)},ge.useRef=function(N){return ke.current.useRef(N)},ge.useState=function(N){return ke.current.useState(N)},ge.useSyncExternalStore=function(N,q,fe){return ke.current.useSyncExternalStore(N,q,fe)},ge.useTransition=function(){return ke.current.useTransition()},ge.version="18.3.1",ge}var om;function Rf(){return om||(om=1,Da.exports=Fv()),Da.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function Bv(){if(im)return hi;im=1;var r=Rf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(a,f,d){var p,m={},k=null,v=null;d!==void 0&&(k=""+d),f.key!==void 0&&(k=""+f.key),f.ref!==void 0&&(v=f.ref);for(p in f)n.call(f,p)&&!s.hasOwnProperty(p)&&(m[p]=f[p]);if(a&&a.defaultProps)for(p in f=a.defaultProps,f)m[p]===void 0&&(m[p]=f[p]);return{$$typeof:e,type:a,key:k,ref:v,props:m,_owner:o.current}}return hi.Fragment=t,hi.jsx=c,hi.jsxs=c,hi}var sm;function qv(){return sm||(sm=1,Aa.exports=Bv()),Aa.exports}var Ge=qv(),Le=Rf();const mt=Of(Le);var Ws={},Na={exports:{}},bt={},Oa={exports:{}},Ra={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function Vv(){return lm||(lm=1,function(r){function e(G,Y){var B=G.length;G.push(Y);e:for(;0<B;){var N=B-1>>>1,q=G[N];if(0<o(q,Y))G[N]=Y,G[B]=q,B=N;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var Y=G[0],B=G.pop();if(B!==Y){G[0]=B;e:for(var N=0,q=G.length,fe=q>>>1;N<fe;){var ye=2*(N+1)-1,Se=G[ye],we=ye+1,Te=G[we];if(0>o(Se,B))we<q&&0>o(Te,Se)?(G[N]=Te,G[we]=B,N=we):(G[N]=Se,G[ye]=B,N=ye);else if(we<q&&0>o(Te,B))G[N]=Te,G[we]=B,N=we;else break e}}return Y}function o(G,Y){var B=G.sortIndex-Y.sortIndex;return B!==0?B:G.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var c=Date,a=c.now();r.unstable_now=function(){return c.now()-a}}var f=[],d=[],p=1,m=null,k=3,v=!1,x=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(G){for(var Y=t(d);Y!==null;){if(Y.callback===null)n(d);else if(Y.startTime<=G)n(d),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=t(d)}}function T(G){if(w=!1,b(G),!x)if(t(f)!==null)x=!0,pe(I);else{var Y=t(d);Y!==null&&ke(T,Y.startTime-G)}}function I(G,Y){x=!1,w&&(w=!1,E(L),L=-1),v=!0;var B=k;try{for(b(Y),m=t(f);m!==null&&(!(m.expirationTime>Y)||G&&!X());){var N=m.callback;if(typeof N=="function"){m.callback=null,k=m.priorityLevel;var q=N(m.expirationTime<=Y);Y=r.unstable_now(),typeof q=="function"?m.callback=q:m===t(f)&&n(f),b(Y)}else n(f);m=t(f)}if(m!==null)var fe=!0;else{var ye=t(d);ye!==null&&ke(T,ye.startTime-Y),fe=!1}return fe}finally{m=null,k=B,v=!1}}var O=!1,W=null,L=-1,F=5,K=-1;function X(){return!(r.unstable_now()-K<F)}function ae(){if(W!==null){var G=r.unstable_now();K=G;var Y=!0;try{Y=W(!0,G)}finally{Y?xe():(O=!1,W=null)}}else O=!1}var xe;if(typeof A=="function")xe=function(){A(ae)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,he=V.port2;V.port1.onmessage=ae,xe=function(){he.postMessage(null)}}else xe=function(){C(ae,0)};function pe(G){W=G,O||(O=!0,xe())}function ke(G,Y){L=C(function(){G(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){x||v||(x=!0,pe(I))},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_getFirstCallbackNode=function(){return t(f)},r.unstable_next=function(G){switch(k){case 1:case 2:case 3:var Y=3;break;default:Y=k}var B=k;k=Y;try{return G()}finally{k=B}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var B=k;k=G;try{return Y()}finally{k=B}},r.unstable_scheduleCallback=function(G,Y,B){var N=r.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?N+B:N):B=N,G){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=B+q,G={id:p++,callback:Y,priorityLevel:G,startTime:B,expirationTime:q,sortIndex:-1},B>N?(G.sortIndex=B,e(d,G),t(f)===null&&G===t(d)&&(w?(E(L),L=-1):w=!0,ke(T,B-N))):(G.sortIndex=q,e(f,G),x||v||(x=!0,pe(I))),G},r.unstable_shouldYield=X,r.unstable_wrapCallback=function(G){var Y=k;return function(){var B=k;k=Y;try{return G.apply(this,arguments)}finally{k=B}}}}(Ra)),Ra}var cm;function $v(){return cm||(cm=1,Oa.exports=Vv()),Oa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am;function jv(){if(am)return bt;am=1;var r=Rf(),e=$v();function t(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function s(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(o[i]=l,i=0;i<l.length;i++)n.add(l[i])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function k(i){return f.call(m,i)?!0:f.call(p,i)?!1:d.test(i)?m[i]=!0:(p[i]=!0,!1)}function v(i,l,u,h){if(u!==null&&u.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,l,u,h){if(l===null||typeof l>"u"||v(i,l,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(i,l,u,h,g,y,S){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=l,this.sanitizeURL=y,this.removeEmptyString=S}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new w(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];C[l]=new w(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new w(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new w(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new w(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new w(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new w(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new w(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new w(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function A(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(E,A);C[l]=new w(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(E,A);C[l]=new w(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(E,A);C[l]=new w(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new w(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new w(i,1,!1,i.toLowerCase(),null,!0,!0)});function b(i,l,u,h){var g=C.hasOwnProperty(l)?C[l]:null;(g!==null?g.type!==0:h||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(x(l,u,g,h)&&(u=null),h||g===null?k(l)&&(u===null?i.removeAttribute(l):i.setAttribute(l,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(l=g.attributeName,h=g.attributeNamespace,u===null?i.removeAttribute(l):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,h?i.setAttributeNS(h,l,u):i.setAttribute(l,u))))}var T=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),O=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),X=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),G=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=G&&i[G]||i["@@iterator"],typeof i=="function"?i:null)}var B=Object.assign,N;function q(i){if(N===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);N=l&&l[1]||""}return`
`+N+i}var fe=!1;function ye(i,l){if(!i||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(z){var h=z}Reflect.construct(i,[],l)}else{try{l.call()}catch(z){h=z}i.call(l.prototype)}else{try{throw Error()}catch(z){h=z}i()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var g=z.stack.split(`
`),y=h.stack.split(`
`),S=g.length-1,_=y.length-1;1<=S&&0<=_&&g[S]!==y[_];)_--;for(;1<=S&&0<=_;S--,_--)if(g[S]!==y[_]){if(S!==1||_!==1)do if(S--,_--,0>_||g[S]!==y[_]){var M=`
`+g[S].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=S&&0<=_);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?q(i):""}function Se(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=ye(i.type,!1),i;case 11:return i=ye(i.type.render,!1),i;case 1:return i=ye(i.type,!0),i;default:return""}}function we(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case W:return"Fragment";case O:return"Portal";case F:return"Profiler";case L:return"StrictMode";case xe:return"Suspense";case V:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case X:return(i.displayName||"Context")+".Consumer";case K:return(i._context.displayName||"Context")+".Provider";case ae:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case he:return l=i.displayName||null,l!==null?l:we(i.type)||"Memo";case pe:l=i._payload,i=i._init;try{return we(i(l))}catch{}}return null}function Te(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(l);case 8:return l===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function _e(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Oe(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function At(i){var l=Oe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),h=""+i[l];if(!i.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return g.call(this)},set:function(S){h=""+S,y.call(this,S)}}),Object.defineProperty(i,l,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Pi(i){i._valueTracker||(i._valueTracker=At(i))}function ad(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),h="";return i&&(h=Oe(i)?i.checked?"true":"false":i.value),i=h,i!==u?(l.setValue(i),!0):!1}function zi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function zl(i,l){var u=l.checked;return B({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function ud(i,l){var u=l.defaultValue==null?"":l.defaultValue,h=l.checked!=null?l.checked:l.defaultChecked;u=_e(l.value!=null?l.value:u),i._wrapperState={initialChecked:h,initialValue:u,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function fd(i,l){l=l.checked,l!=null&&b(i,"checked",l,!1)}function Ll(i,l){fd(i,l);var u=_e(l.value),h=l.type;if(u!=null)h==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?Fl(i,l.type,u):l.hasOwnProperty("defaultValue")&&Fl(i,l.type,_e(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function dd(i,l,u){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var h=l.type;if(!(h!=="submit"&&h!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,u||l===i.value||(i.value=l),i.defaultValue=l}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Fl(i,l,u){(l!=="number"||zi(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var To=Array.isArray;function Lr(i,l,u,h){if(i=i.options,l){l={};for(var g=0;g<u.length;g++)l["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=l.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&h&&(i[u].defaultSelected=!0)}else{for(u=""+_e(u),l=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}l!==null||i[g].disabled||(l=i[g])}l!==null&&(l.selected=!0)}}function Bl(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return B({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hd(i,l){var u=l.value;if(u==null){if(u=l.children,l=l.defaultValue,u!=null){if(l!=null)throw Error(t(92));if(To(u)){if(1<u.length)throw Error(t(93));u=u[0]}l=u}l==null&&(l=""),u=l}i._wrapperState={initialValue:_e(u)}}function pd(i,l){var u=_e(l.value),h=_e(l.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),l.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),h!=null&&(i.defaultValue=""+h)}function md(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function gd(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ql(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?gd(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Li,yd=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,u,h,g){MSApp.execUnsafeLocalFunction(function(){return i(l,u,h,g)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Li=Li||document.createElement("div"),Li.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Li.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function Ao(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var Do={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V1=["Webkit","ms","Moz","O"];Object.keys(Do).forEach(function(i){V1.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),Do[l]=Do[i]})});function kd(i,l,u){return l==null||typeof l=="boolean"||l===""?"":u||typeof l!="number"||l===0||Do.hasOwnProperty(i)&&Do[i]?(""+l).trim():l+"px"}function vd(i,l){i=i.style;for(var u in l)if(l.hasOwnProperty(u)){var h=u.indexOf("--")===0,g=kd(u,l[u],h);u==="float"&&(u="cssFloat"),h?i.setProperty(u,g):i[u]=g}}var $1=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vl(i,l){if(l){if($1[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function $l(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jl=null;function Hl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ul=null,Fr=null,Br=null;function xd(i){if(i=Yo(i)){if(typeof Ul!="function")throw Error(t(280));var l=i.stateNode;l&&(l=ls(l),Ul(i.stateNode,i.type,l))}}function Sd(i){Fr?Br?Br.push(i):Br=[i]:Fr=i}function wd(){if(Fr){var i=Fr,l=Br;if(Br=Fr=null,xd(i),l)for(i=0;i<l.length;i++)xd(l[i])}}function Cd(i,l){return i(l)}function Ed(){}var Wl=!1;function _d(i,l,u){if(Wl)return i(l,u);Wl=!0;try{return Cd(i,l,u)}finally{Wl=!1,(Fr!==null||Br!==null)&&(Ed(),wd())}}function No(i,l){var u=i.stateNode;if(u===null)return null;var h=ls(u);if(h===null)return null;u=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,l,typeof u));return u}var Kl=!1;if(a)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){Kl=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{Kl=!1}function j1(i,l,u,h,g,y,S,_,M){var z=Array.prototype.slice.call(arguments,3);try{l.apply(u,z)}catch(j){this.onError(j)}}var Ro=!1,Fi=null,Bi=!1,Jl=null,H1={onError:function(i){Ro=!0,Fi=i}};function U1(i,l,u,h,g,y,S,_,M){Ro=!1,Fi=null,j1.apply(H1,arguments)}function W1(i,l,u,h,g,y,S,_,M){if(U1.apply(this,arguments),Ro){if(Ro){var z=Fi;Ro=!1,Fi=null}else throw Error(t(198));Bi||(Bi=!0,Jl=z)}}function ar(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,l.flags&4098&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function bd(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Md(i){if(ar(i)!==i)throw Error(t(188))}function K1(i){var l=i.alternate;if(!l){if(l=ar(i),l===null)throw Error(t(188));return l!==i?null:i}for(var u=i,h=l;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return Md(g),i;if(y===h)return Md(g),l;y=y.sibling}throw Error(t(188))}if(u.return!==h.return)u=g,h=y;else{for(var S=!1,_=g.child;_;){if(_===u){S=!0,u=g,h=y;break}if(_===h){S=!0,h=g,u=y;break}_=_.sibling}if(!S){for(_=y.child;_;){if(_===u){S=!0,u=y,h=g;break}if(_===h){S=!0,h=y,u=g;break}_=_.sibling}if(!S)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:l}function Td(i){return i=K1(i),i!==null?Ad(i):null}function Ad(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Ad(i);if(l!==null)return l;i=i.sibling}return null}var Dd=e.unstable_scheduleCallback,Nd=e.unstable_cancelCallback,J1=e.unstable_shouldYield,G1=e.unstable_requestPaint,Be=e.unstable_now,Q1=e.unstable_getCurrentPriorityLevel,Gl=e.unstable_ImmediatePriority,Od=e.unstable_UserBlockingPriority,qi=e.unstable_NormalPriority,Z1=e.unstable_LowPriority,Rd=e.unstable_IdlePriority,Vi=null,nn=null;function Y1(i){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Vi,i,void 0,(i.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:tk,X1=Math.log,ek=Math.LN2;function tk(i){return i>>>=0,i===0?32:31-(X1(i)/ek|0)|0}var $i=64,ji=4194304;function Io(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Hi(i,l){var u=i.pendingLanes;if(u===0)return 0;var h=0,g=i.suspendedLanes,y=i.pingedLanes,S=u&268435455;if(S!==0){var _=S&~g;_!==0?h=Io(_):(y&=S,y!==0&&(h=Io(y)))}else S=u&~g,S!==0?h=Io(S):y!==0&&(h=Io(y));if(h===0)return 0;if(l!==0&&l!==h&&!(l&g)&&(g=h&-h,y=l&-l,g>=y||g===16&&(y&4194240)!==0))return l;if(h&4&&(h|=u&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=h;0<l;)u=31-Ut(l),g=1<<u,h|=i[u],l&=~g;return h}function nk(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rk(i,l){for(var u=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes;0<y;){var S=31-Ut(y),_=1<<S,M=g[S];M===-1?(!(_&u)||_&h)&&(g[S]=nk(_,l)):M<=l&&(i.expiredLanes|=_),y&=~_}}function Ql(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Id(){var i=$i;return $i<<=1,!($i&4194240)&&($i=64),i}function Zl(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function Po(i,l,u){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Ut(l),i[l]=u}function ok(i,l){var u=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-Ut(u),y=1<<g;l[g]=0,h[g]=-1,i[g]=-1,u&=~y}}function Yl(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var h=31-Ut(u),g=1<<h;g&l|i[h]&l&&(i[h]|=l),u&=~g}}var be=0;function Pd(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var zd,Xl,Ld,Fd,Bd,ec=!1,Ui=[],bn=null,Mn=null,Tn=null,zo=new Map,Lo=new Map,An=[],ik="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qd(i,l){switch(i){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":zo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(l.pointerId)}}function Fo(i,l,u,h,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:l,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},l!==null&&(l=Yo(l),l!==null&&Xl(l)),i):(i.eventSystemFlags|=h,l=i.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),i)}function sk(i,l,u,h,g){switch(l){case"focusin":return bn=Fo(bn,i,l,u,h,g),!0;case"dragenter":return Mn=Fo(Mn,i,l,u,h,g),!0;case"mouseover":return Tn=Fo(Tn,i,l,u,h,g),!0;case"pointerover":var y=g.pointerId;return zo.set(y,Fo(zo.get(y)||null,i,l,u,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Lo.set(y,Fo(Lo.get(y)||null,i,l,u,h,g)),!0}return!1}function Vd(i){var l=ur(i.target);if(l!==null){var u=ar(l);if(u!==null){if(l=u.tag,l===13){if(l=bd(u),l!==null){i.blockedOn=l,Bd(i.priority,function(){Ld(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Wi(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=nc(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);jl=h,u.target.dispatchEvent(h),jl=null}else return l=Yo(u),l!==null&&Xl(l),i.blockedOn=u,!1;l.shift()}return!0}function $d(i,l,u){Wi(i)&&u.delete(l)}function lk(){ec=!1,bn!==null&&Wi(bn)&&(bn=null),Mn!==null&&Wi(Mn)&&(Mn=null),Tn!==null&&Wi(Tn)&&(Tn=null),zo.forEach($d),Lo.forEach($d)}function Bo(i,l){i.blockedOn===l&&(i.blockedOn=null,ec||(ec=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lk)))}function qo(i){function l(g){return Bo(g,i)}if(0<Ui.length){Bo(Ui[0],i);for(var u=1;u<Ui.length;u++){var h=Ui[u];h.blockedOn===i&&(h.blockedOn=null)}}for(bn!==null&&Bo(bn,i),Mn!==null&&Bo(Mn,i),Tn!==null&&Bo(Tn,i),zo.forEach(l),Lo.forEach(l),u=0;u<An.length;u++)h=An[u],h.blockedOn===i&&(h.blockedOn=null);for(;0<An.length&&(u=An[0],u.blockedOn===null);)Vd(u),u.blockedOn===null&&An.shift()}var qr=T.ReactCurrentBatchConfig,Ki=!0;function ck(i,l,u,h){var g=be,y=qr.transition;qr.transition=null;try{be=1,tc(i,l,u,h)}finally{be=g,qr.transition=y}}function ak(i,l,u,h){var g=be,y=qr.transition;qr.transition=null;try{be=4,tc(i,l,u,h)}finally{be=g,qr.transition=y}}function tc(i,l,u,h){if(Ki){var g=nc(i,l,u,h);if(g===null)vc(i,l,h,Ji,u),qd(i,h);else if(sk(g,i,l,u,h))h.stopPropagation();else if(qd(i,h),l&4&&-1<ik.indexOf(i)){for(;g!==null;){var y=Yo(g);if(y!==null&&zd(y),y=nc(i,l,u,h),y===null&&vc(i,l,h,Ji,u),y===g)break;g=y}g!==null&&h.stopPropagation()}else vc(i,l,h,null,u)}}var Ji=null;function nc(i,l,u,h){if(Ji=null,i=Hl(h),i=ur(i),i!==null)if(l=ar(i),l===null)i=null;else if(u=l.tag,u===13){if(i=bd(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return Ji=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q1()){case Gl:return 1;case Od:return 4;case qi:case Z1:return 16;case Rd:return 536870912;default:return 16}default:return 16}}var Dn=null,rc=null,Gi=null;function Hd(){if(Gi)return Gi;var i,l=rc,u=l.length,h,g="value"in Dn?Dn.value:Dn.textContent,y=g.length;for(i=0;i<u&&l[i]===g[i];i++);var S=u-i;for(h=1;h<=S&&l[u-h]===g[y-h];h++);return Gi=g.slice(i,1<h?1-h:void 0)}function Qi(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Zi(){return!0}function Ud(){return!1}function Dt(i){function l(u,h,g,y,S){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var _ in i)i.hasOwnProperty(_)&&(u=i[_],this[_]=u?u(y):y[_]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Zi:Ud,this.isPropagationStopped=Ud,this}return B(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),l}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oc=Dt(Vr),Vo=B({},Vr,{view:0,detail:0}),uk=Dt(Vo),ic,sc,$o,Yi=B({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$o&&($o&&i.type==="mousemove"?(ic=i.screenX-$o.screenX,sc=i.screenY-$o.screenY):sc=ic=0,$o=i),ic)},movementY:function(i){return"movementY"in i?i.movementY:sc}}),Wd=Dt(Yi),fk=B({},Yi,{dataTransfer:0}),dk=Dt(fk),hk=B({},Vo,{relatedTarget:0}),lc=Dt(hk),pk=B({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),mk=Dt(pk),gk=B({},Vr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),yk=Dt(gk),kk=B({},Vr,{data:0}),Kd=Dt(kk),vk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wk(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Sk[i])?!!l[i]:!1}function cc(){return wk}var Ck=B({},Vo,{key:function(i){if(i.key){var l=vk[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Qi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?xk[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(i){return i.type==="keypress"?Qi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ek=Dt(Ck),_k=B({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jd=Dt(_k),bk=B({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),Mk=Dt(bk),Tk=B({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ak=Dt(Tk),Dk=B({},Yi,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Nk=Dt(Dk),Ok=[9,13,27,32],ac=a&&"CompositionEvent"in window,jo=null;a&&"documentMode"in document&&(jo=document.documentMode);var Rk=a&&"TextEvent"in window&&!jo,Gd=a&&(!ac||jo&&8<jo&&11>=jo),Qd=" ",Zd=!1;function Yd(i,l){switch(i){case"keyup":return Ok.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xd(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var $r=!1;function Ik(i,l){switch(i){case"compositionend":return Xd(l);case"keypress":return l.which!==32?null:(Zd=!0,Qd);case"textInput":return i=l.data,i===Qd&&Zd?null:i;default:return null}}function Pk(i,l){if($r)return i==="compositionend"||!ac&&Yd(i,l)?(i=Hd(),Gi=rc=Dn=null,$r=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Gd&&l.locale!=="ko"?null:l.data;default:return null}}var zk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eh(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!zk[i.type]:l==="textarea"}function th(i,l,u,h){Sd(h),l=rs(l,"onChange"),0<l.length&&(u=new oc("onChange","change",null,u,h),i.push({event:u,listeners:l}))}var Ho=null,Uo=null;function Lk(i){vh(i,0)}function Xi(i){var l=Kr(i);if(ad(l))return i}function Fk(i,l){if(i==="change")return l}var nh=!1;if(a){var uc;if(a){var fc="oninput"in document;if(!fc){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),fc=typeof rh.oninput=="function"}uc=fc}else uc=!1;nh=uc&&(!document.documentMode||9<document.documentMode)}function oh(){Ho&&(Ho.detachEvent("onpropertychange",ih),Uo=Ho=null)}function ih(i){if(i.propertyName==="value"&&Xi(Uo)){var l=[];th(l,Uo,i,Hl(i)),_d(Lk,l)}}function Bk(i,l,u){i==="focusin"?(oh(),Ho=l,Uo=u,Ho.attachEvent("onpropertychange",ih)):i==="focusout"&&oh()}function qk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xi(Uo)}function Vk(i,l){if(i==="click")return Xi(l)}function $k(i,l){if(i==="input"||i==="change")return Xi(l)}function jk(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Wt=typeof Object.is=="function"?Object.is:jk;function Wo(i,l){if(Wt(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),h=Object.keys(l);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!f.call(l,g)||!Wt(i[g],l[g]))return!1}return!0}function sh(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function lh(i,l){var u=sh(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=l&&h>=l)return{node:u,offset:l-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=sh(u)}}function ch(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?ch(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function ah(){for(var i=window,l=zi();l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=zi(i.document)}return l}function dc(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function Hk(i){var l=ah(),u=i.focusedElem,h=i.selectionRange;if(l!==u&&u&&u.ownerDocument&&ch(u.ownerDocument.documentElement,u)){if(h!==null&&dc(u)){if(l=h.start,i=h.end,i===void 0&&(i=l),"selectionStart"in u)u.selectionStart=l,u.selectionEnd=Math.min(i,u.value.length);else if(i=(l=u.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,y=Math.min(h.start,g);h=h.end===void 0?y:Math.min(h.end,g),!i.extend&&y>h&&(g=h,h=y,y=g),g=lh(u,y);var S=lh(u,h);g&&S&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(l=l.createRange(),l.setStart(g.node,g.offset),i.removeAllRanges(),y>h?(i.addRange(l),i.extend(S.node,S.offset)):(l.setEnd(S.node,S.offset),i.addRange(l)))}}for(l=[],i=u;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<l.length;u++)i=l[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Uk=a&&"documentMode"in document&&11>=document.documentMode,jr=null,hc=null,Ko=null,pc=!1;function uh(i,l,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;pc||jr==null||jr!==zi(h)||(h=jr,"selectionStart"in h&&dc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ko&&Wo(Ko,h)||(Ko=h,h=rs(hc,"onSelect"),0<h.length&&(l=new oc("onSelect","select",null,l,u),i.push({event:l,listeners:h}),l.target=jr)))}function es(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var Hr={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionend:es("Transition","TransitionEnd")},mc={},fh={};a&&(fh=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function ts(i){if(mc[i])return mc[i];if(!Hr[i])return i;var l=Hr[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in fh)return mc[i]=l[u];return i}var dh=ts("animationend"),hh=ts("animationiteration"),ph=ts("animationstart"),mh=ts("transitionend"),gh=new Map,yh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(i,l){gh.set(i,l),s(l,[i])}for(var gc=0;gc<yh.length;gc++){var yc=yh[gc],Wk=yc.toLowerCase(),Kk=yc[0].toUpperCase()+yc.slice(1);Nn(Wk,"on"+Kk)}Nn(dh,"onAnimationEnd"),Nn(hh,"onAnimationIteration"),Nn(ph,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(mh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function kh(i,l,u){var h=i.type||"unknown-event";i.currentTarget=u,W1(h,l,void 0,i),i.currentTarget=null}function vh(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],g=h.event;h=h.listeners;e:{var y=void 0;if(l)for(var S=h.length-1;0<=S;S--){var _=h[S],M=_.instance,z=_.currentTarget;if(_=_.listener,M!==y&&g.isPropagationStopped())break e;kh(g,_,z),y=M}else for(S=0;S<h.length;S++){if(_=h[S],M=_.instance,z=_.currentTarget,_=_.listener,M!==y&&g.isPropagationStopped())break e;kh(g,_,z),y=M}}}if(Bi)throw i=Jl,Bi=!1,Jl=null,i}function De(i,l){var u=l[_c];u===void 0&&(u=l[_c]=new Set);var h=i+"__bubble";u.has(h)||(xh(l,i,2,!1),u.add(h))}function kc(i,l,u){var h=0;l&&(h|=4),xh(u,i,h,l)}var ns="_reactListening"+Math.random().toString(36).slice(2);function Go(i){if(!i[ns]){i[ns]=!0,n.forEach(function(u){u!=="selectionchange"&&(Jk.has(u)||kc(u,!1,i),kc(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[ns]||(l[ns]=!0,kc("selectionchange",!1,l))}}function xh(i,l,u,h){switch(jd(l)){case 1:var g=ck;break;case 4:g=ak;break;default:g=tc}u=g.bind(null,l,u,i),g=void 0,!Kl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(l,u,{capture:!0,passive:g}):i.addEventListener(l,u,!0):g!==void 0?i.addEventListener(l,u,{passive:g}):i.addEventListener(l,u,!1)}function vc(i,l,u,h,g){var y=h;if(!(l&1)&&!(l&2)&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var _=h.stateNode.containerInfo;if(_===g||_.nodeType===8&&_.parentNode===g)break;if(S===4)for(S=h.return;S!==null;){var M=S.tag;if((M===3||M===4)&&(M=S.stateNode.containerInfo,M===g||M.nodeType===8&&M.parentNode===g))return;S=S.return}for(;_!==null;){if(S=ur(_),S===null)return;if(M=S.tag,M===5||M===6){h=y=S;continue e}_=_.parentNode}}h=h.return}_d(function(){var z=y,j=Hl(u),U=[];e:{var $=gh.get(i);if($!==void 0){var Z=oc,te=i;switch(i){case"keypress":if(Qi(u)===0)break e;case"keydown":case"keyup":Z=Ek;break;case"focusin":te="focus",Z=lc;break;case"focusout":te="blur",Z=lc;break;case"beforeblur":case"afterblur":Z=lc;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=dk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Mk;break;case dh:case hh:case ph:Z=mk;break;case mh:Z=Ak;break;case"scroll":Z=uk;break;case"wheel":Z=Nk;break;case"copy":case"cut":case"paste":Z=yk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Jd}var re=(l&4)!==0,qe=!re&&i==="scroll",R=re?$!==null?$+"Capture":null:$;re=[];for(var D=z,P;D!==null;){P=D;var J=P.stateNode;if(P.tag===5&&J!==null&&(P=J,R!==null&&(J=No(D,R),J!=null&&re.push(Qo(D,J,P)))),qe)break;D=D.return}0<re.length&&($=new Z($,te,null,u,j),U.push({event:$,listeners:re}))}}if(!(l&7)){e:{if($=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",$&&u!==jl&&(te=u.relatedTarget||u.fromElement)&&(ur(te)||te[mn]))break e;if((Z||$)&&($=j.window===j?j:($=j.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(te=u.relatedTarget||u.toElement,Z=z,te=te?ur(te):null,te!==null&&(qe=ar(te),te!==qe||te.tag!==5&&te.tag!==6)&&(te=null)):(Z=null,te=z),Z!==te)){if(re=Wd,J="onMouseLeave",R="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(re=Jd,J="onPointerLeave",R="onPointerEnter",D="pointer"),qe=Z==null?$:Kr(Z),P=te==null?$:Kr(te),$=new re(J,D+"leave",Z,u,j),$.target=qe,$.relatedTarget=P,J=null,ur(j)===z&&(re=new re(R,D+"enter",te,u,j),re.target=P,re.relatedTarget=qe,J=re),qe=J,Z&&te)t:{for(re=Z,R=te,D=0,P=re;P;P=Ur(P))D++;for(P=0,J=R;J;J=Ur(J))P++;for(;0<D-P;)re=Ur(re),D--;for(;0<P-D;)R=Ur(R),P--;for(;D--;){if(re===R||R!==null&&re===R.alternate)break t;re=Ur(re),R=Ur(R)}re=null}else re=null;Z!==null&&Sh(U,$,Z,re,!1),te!==null&&qe!==null&&Sh(U,qe,te,re,!0)}}e:{if($=z?Kr(z):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var oe=Fk;else if(eh($))if(nh)oe=$k;else{oe=qk;var ie=Bk}else(Z=$.nodeName)&&Z.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(oe=Vk);if(oe&&(oe=oe(i,z))){th(U,oe,u,j);break e}ie&&ie(i,$,z),i==="focusout"&&(ie=$._wrapperState)&&ie.controlled&&$.type==="number"&&Fl($,"number",$.value)}switch(ie=z?Kr(z):window,i){case"focusin":(eh(ie)||ie.contentEditable==="true")&&(jr=ie,hc=z,Ko=null);break;case"focusout":Ko=hc=jr=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,uh(U,u,j);break;case"selectionchange":if(Uk)break;case"keydown":case"keyup":uh(U,u,j)}var se;if(ac)e:{switch(i){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else $r?Yd(i,u)&&(ce="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ce="onCompositionStart");ce&&(Gd&&u.locale!=="ko"&&($r||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&$r&&(se=Hd()):(Dn=j,rc="value"in Dn?Dn.value:Dn.textContent,$r=!0)),ie=rs(z,ce),0<ie.length&&(ce=new Kd(ce,i,null,u,j),U.push({event:ce,listeners:ie}),se?ce.data=se:(se=Xd(u),se!==null&&(ce.data=se)))),(se=Rk?Ik(i,u):Pk(i,u))&&(z=rs(z,"onBeforeInput"),0<z.length&&(j=new Kd("onBeforeInput","beforeinput",null,u,j),U.push({event:j,listeners:z}),j.data=se))}vh(U,l)})}function Qo(i,l,u){return{instance:i,listener:l,currentTarget:u}}function rs(i,l){for(var u=l+"Capture",h=[];i!==null;){var g=i,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=No(i,u),y!=null&&h.unshift(Qo(i,y,g)),y=No(i,l),y!=null&&h.push(Qo(i,y,g))),i=i.return}return h}function Ur(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Sh(i,l,u,h,g){for(var y=l._reactName,S=[];u!==null&&u!==h;){var _=u,M=_.alternate,z=_.stateNode;if(M!==null&&M===h)break;_.tag===5&&z!==null&&(_=z,g?(M=No(u,y),M!=null&&S.unshift(Qo(u,M,_))):g||(M=No(u,y),M!=null&&S.push(Qo(u,M,_)))),u=u.return}S.length!==0&&i.push({event:l,listeners:S})}var Gk=/\r\n?/g,Qk=/\u0000|\uFFFD/g;function wh(i){return(typeof i=="string"?i:""+i).replace(Gk,`
`).replace(Qk,"")}function is(i,l,u){if(l=wh(l),wh(i)!==l&&u)throw Error(t(425))}function ss(){}var xc=null,Sc=null;function wc(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Cc=typeof setTimeout=="function"?setTimeout:void 0,Zk=typeof clearTimeout=="function"?clearTimeout:void 0,Ch=typeof Promise=="function"?Promise:void 0,Yk=typeof queueMicrotask=="function"?queueMicrotask:typeof Ch<"u"?function(i){return Ch.resolve(null).then(i).catch(Xk)}:Cc;function Xk(i){setTimeout(function(){throw i})}function Ec(i,l){var u=l,h=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(h===0){i.removeChild(g),qo(l);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=g}while(u);qo(l)}function On(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function Eh(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return i;l--}else u==="/$"&&l++}i=i.previousSibling}return null}var Wr=Math.random().toString(36).slice(2),rn="__reactFiber$"+Wr,Zo="__reactProps$"+Wr,mn="__reactContainer$"+Wr,_c="__reactEvents$"+Wr,ev="__reactListeners$"+Wr,tv="__reactHandles$"+Wr;function ur(i){var l=i[rn];if(l)return l;for(var u=i.parentNode;u;){if(l=u[mn]||u[rn]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=Eh(i);i!==null;){if(u=i[rn])return u;i=Eh(i)}return l}i=u,u=i.parentNode}return null}function Yo(i){return i=i[rn]||i[mn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Kr(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ls(i){return i[Zo]||null}var bc=[],Jr=-1;function Rn(i){return{current:i}}function Ne(i){0>Jr||(i.current=bc[Jr],bc[Jr]=null,Jr--)}function Ae(i,l){Jr++,bc[Jr]=i.current,i.current=l}var In={},it=Rn(In),St=Rn(!1),fr=In;function Gr(i,l){var u=i.type.contextTypes;if(!u)return In;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===l)return h.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in u)g[y]=l[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=g),g}function wt(i){return i=i.childContextTypes,i!=null}function cs(){Ne(St),Ne(it)}function _h(i,l,u){if(it.current!==In)throw Error(t(168));Ae(it,l),Ae(St,u)}function bh(i,l,u){var h=i.stateNode;if(l=l.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var g in h)if(!(g in l))throw Error(t(108,Te(i)||"Unknown",g));return B({},u,h)}function as(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||In,fr=it.current,Ae(it,i),Ae(St,St.current),!0}function Mh(i,l,u){var h=i.stateNode;if(!h)throw Error(t(169));u?(i=bh(i,l,fr),h.__reactInternalMemoizedMergedChildContext=i,Ne(St),Ne(it),Ae(it,i)):Ne(St),Ae(St,u)}var gn=null,us=!1,Mc=!1;function Th(i){gn===null?gn=[i]:gn.push(i)}function nv(i){us=!0,Th(i)}function Pn(){if(!Mc&&gn!==null){Mc=!0;var i=0,l=be;try{var u=gn;for(be=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}gn=null,us=!1}catch(g){throw gn!==null&&(gn=gn.slice(i+1)),Dd(Gl,Pn),g}finally{be=l,Mc=!1}}return null}var Qr=[],Zr=0,fs=null,ds=0,Pt=[],zt=0,dr=null,yn=1,kn="";function hr(i,l){Qr[Zr++]=ds,Qr[Zr++]=fs,fs=i,ds=l}function Ah(i,l,u){Pt[zt++]=yn,Pt[zt++]=kn,Pt[zt++]=dr,dr=i;var h=yn;i=kn;var g=32-Ut(h)-1;h&=~(1<<g),u+=1;var y=32-Ut(l)+g;if(30<y){var S=g-g%5;y=(h&(1<<S)-1).toString(32),h>>=S,g-=S,yn=1<<32-Ut(l)+g|u<<g|h,kn=y+i}else yn=1<<y|u<<g|h,kn=i}function Tc(i){i.return!==null&&(hr(i,1),Ah(i,1,0))}function Ac(i){for(;i===fs;)fs=Qr[--Zr],Qr[Zr]=null,ds=Qr[--Zr],Qr[Zr]=null;for(;i===dr;)dr=Pt[--zt],Pt[zt]=null,kn=Pt[--zt],Pt[zt]=null,yn=Pt[--zt],Pt[zt]=null}var Nt=null,Ot=null,Re=!1,Kt=null;function Dh(i,l){var u=qt(5,null,null,0);u.elementType="DELETED",u.stateNode=l,u.return=i,l=i.deletions,l===null?(i.deletions=[u],i.flags|=16):l.push(u)}function Nh(i,l){switch(i.tag){case 5:var u=i.type;return l=l.nodeType!==1||u.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,Nt=i,Ot=On(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,Nt=i,Ot=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(u=dr!==null?{id:yn,overflow:kn}:null,i.memoizedState={dehydrated:l,treeContext:u,retryLane:1073741824},u=qt(18,null,null,0),u.stateNode=l,u.return=i,i.child=u,Nt=i,Ot=null,!0):!1;default:return!1}}function Dc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Nc(i){if(Re){var l=Ot;if(l){var u=l;if(!Nh(i,l)){if(Dc(i))throw Error(t(418));l=On(u.nextSibling);var h=Nt;l&&Nh(i,l)?Dh(h,u):(i.flags=i.flags&-4097|2,Re=!1,Nt=i)}}else{if(Dc(i))throw Error(t(418));i.flags=i.flags&-4097|2,Re=!1,Nt=i}}}function Oh(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Nt=i}function hs(i){if(i!==Nt)return!1;if(!Re)return Oh(i),Re=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!wc(i.type,i.memoizedProps)),l&&(l=Ot)){if(Dc(i))throw Rh(),Error(t(418));for(;l;)Dh(i,l),l=On(l.nextSibling)}if(Oh(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(l===0){Ot=On(i.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++}i=i.nextSibling}Ot=null}}else Ot=Nt?On(i.stateNode.nextSibling):null;return!0}function Rh(){for(var i=Ot;i;)i=On(i.nextSibling)}function Yr(){Ot=Nt=null,Re=!1}function Oc(i){Kt===null?Kt=[i]:Kt.push(i)}var rv=T.ReactCurrentBatchConfig;function Xo(i,l,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,i));var g=h,y=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===y?l.ref:(l=function(S){var _=g.refs;S===null?delete _[y]:_[y]=S},l._stringRef=y,l)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function ps(i,l){throw i=Object.prototype.toString.call(l),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function Ih(i){var l=i._init;return l(i._payload)}function Ph(i){function l(R,D){if(i){var P=R.deletions;P===null?(R.deletions=[D],R.flags|=16):P.push(D)}}function u(R,D){if(!i)return null;for(;D!==null;)l(R,D),D=D.sibling;return null}function h(R,D){for(R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function g(R,D){return R=jn(R,D),R.index=0,R.sibling=null,R}function y(R,D,P){return R.index=P,i?(P=R.alternate,P!==null?(P=P.index,P<D?(R.flags|=2,D):P):(R.flags|=2,D)):(R.flags|=1048576,D)}function S(R){return i&&R.alternate===null&&(R.flags|=2),R}function _(R,D,P,J){return D===null||D.tag!==6?(D=Ca(P,R.mode,J),D.return=R,D):(D=g(D,P),D.return=R,D)}function M(R,D,P,J){var oe=P.type;return oe===W?j(R,D,P.props.children,J,P.key):D!==null&&(D.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===pe&&Ih(oe)===D.type)?(J=g(D,P.props),J.ref=Xo(R,D,P),J.return=R,J):(J=Fs(P.type,P.key,P.props,null,R.mode,J),J.ref=Xo(R,D,P),J.return=R,J)}function z(R,D,P,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Ea(P,R.mode,J),D.return=R,D):(D=g(D,P.children||[]),D.return=R,D)}function j(R,D,P,J,oe){return D===null||D.tag!==7?(D=Sr(P,R.mode,J,oe),D.return=R,D):(D=g(D,P),D.return=R,D)}function U(R,D,P){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Ca(""+D,R.mode,P),D.return=R,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case I:return P=Fs(D.type,D.key,D.props,null,R.mode,P),P.ref=Xo(R,null,D),P.return=R,P;case O:return D=Ea(D,R.mode,P),D.return=R,D;case pe:var J=D._init;return U(R,J(D._payload),P)}if(To(D)||Y(D))return D=Sr(D,R.mode,P,null),D.return=R,D;ps(R,D)}return null}function $(R,D,P,J){var oe=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return oe!==null?null:_(R,D,""+P,J);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case I:return P.key===oe?M(R,D,P,J):null;case O:return P.key===oe?z(R,D,P,J):null;case pe:return oe=P._init,$(R,D,oe(P._payload),J)}if(To(P)||Y(P))return oe!==null?null:j(R,D,P,J,null);ps(R,P)}return null}function Z(R,D,P,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number")return R=R.get(P)||null,_(D,R,""+J,oe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return R=R.get(J.key===null?P:J.key)||null,M(D,R,J,oe);case O:return R=R.get(J.key===null?P:J.key)||null,z(D,R,J,oe);case pe:var ie=J._init;return Z(R,D,P,ie(J._payload),oe)}if(To(J)||Y(J))return R=R.get(P)||null,j(D,R,J,oe,null);ps(D,J)}return null}function te(R,D,P,J){for(var oe=null,ie=null,se=D,ce=D=0,Je=null;se!==null&&ce<P.length;ce++){se.index>ce?(Je=se,se=null):Je=se.sibling;var Ce=$(R,se,P[ce],J);if(Ce===null){se===null&&(se=Je);break}i&&se&&Ce.alternate===null&&l(R,se),D=y(Ce,D,ce),ie===null?oe=Ce:ie.sibling=Ce,ie=Ce,se=Je}if(ce===P.length)return u(R,se),Re&&hr(R,ce),oe;if(se===null){for(;ce<P.length;ce++)se=U(R,P[ce],J),se!==null&&(D=y(se,D,ce),ie===null?oe=se:ie.sibling=se,ie=se);return Re&&hr(R,ce),oe}for(se=h(R,se);ce<P.length;ce++)Je=Z(se,R,ce,P[ce],J),Je!==null&&(i&&Je.alternate!==null&&se.delete(Je.key===null?ce:Je.key),D=y(Je,D,ce),ie===null?oe=Je:ie.sibling=Je,ie=Je);return i&&se.forEach(function(Hn){return l(R,Hn)}),Re&&hr(R,ce),oe}function re(R,D,P,J){var oe=Y(P);if(typeof oe!="function")throw Error(t(150));if(P=oe.call(P),P==null)throw Error(t(151));for(var ie=oe=null,se=D,ce=D=0,Je=null,Ce=P.next();se!==null&&!Ce.done;ce++,Ce=P.next()){se.index>ce?(Je=se,se=null):Je=se.sibling;var Hn=$(R,se,Ce.value,J);if(Hn===null){se===null&&(se=Je);break}i&&se&&Hn.alternate===null&&l(R,se),D=y(Hn,D,ce),ie===null?oe=Hn:ie.sibling=Hn,ie=Hn,se=Je}if(Ce.done)return u(R,se),Re&&hr(R,ce),oe;if(se===null){for(;!Ce.done;ce++,Ce=P.next())Ce=U(R,Ce.value,J),Ce!==null&&(D=y(Ce,D,ce),ie===null?oe=Ce:ie.sibling=Ce,ie=Ce);return Re&&hr(R,ce),oe}for(se=h(R,se);!Ce.done;ce++,Ce=P.next())Ce=Z(se,R,ce,Ce.value,J),Ce!==null&&(i&&Ce.alternate!==null&&se.delete(Ce.key===null?ce:Ce.key),D=y(Ce,D,ce),ie===null?oe=Ce:ie.sibling=Ce,ie=Ce);return i&&se.forEach(function(zv){return l(R,zv)}),Re&&hr(R,ce),oe}function qe(R,D,P,J){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case I:e:{for(var oe=P.key,ie=D;ie!==null;){if(ie.key===oe){if(oe=P.type,oe===W){if(ie.tag===7){u(R,ie.sibling),D=g(ie,P.props.children),D.return=R,R=D;break e}}else if(ie.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===pe&&Ih(oe)===ie.type){u(R,ie.sibling),D=g(ie,P.props),D.ref=Xo(R,ie,P),D.return=R,R=D;break e}u(R,ie);break}else l(R,ie);ie=ie.sibling}P.type===W?(D=Sr(P.props.children,R.mode,J,P.key),D.return=R,R=D):(J=Fs(P.type,P.key,P.props,null,R.mode,J),J.ref=Xo(R,D,P),J.return=R,R=J)}return S(R);case O:e:{for(ie=P.key;D!==null;){if(D.key===ie)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){u(R,D.sibling),D=g(D,P.children||[]),D.return=R,R=D;break e}else{u(R,D);break}else l(R,D);D=D.sibling}D=Ea(P,R.mode,J),D.return=R,R=D}return S(R);case pe:return ie=P._init,qe(R,D,ie(P._payload),J)}if(To(P))return te(R,D,P,J);if(Y(P))return re(R,D,P,J);ps(R,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,D!==null&&D.tag===6?(u(R,D.sibling),D=g(D,P),D.return=R,R=D):(u(R,D),D=Ca(P,R.mode,J),D.return=R,R=D),S(R)):u(R,D)}return qe}var Xr=Ph(!0),zh=Ph(!1),ms=Rn(null),gs=null,eo=null,Rc=null;function Ic(){Rc=eo=gs=null}function Pc(i){var l=ms.current;Ne(ms),i._currentValue=l}function zc(i,l,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),i===u)break;i=i.return}}function to(i,l){gs=i,Rc=eo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&l&&(Ct=!0),i.firstContext=null)}function Lt(i){var l=i._currentValue;if(Rc!==i)if(i={context:i,memoizedValue:l,next:null},eo===null){if(gs===null)throw Error(t(308));eo=i,gs.dependencies={lanes:0,firstContext:i}}else eo=eo.next=i;return l}var pr=null;function Lc(i){pr===null?pr=[i]:pr.push(i)}function Lh(i,l,u,h){var g=l.interleaved;return g===null?(u.next=u,Lc(l)):(u.next=g.next,g.next=u),l.interleaved=u,vn(i,h)}function vn(i,l){i.lanes|=l;var u=i.alternate;for(u!==null&&(u.lanes|=l),u=i,i=i.return;i!==null;)i.childLanes|=l,u=i.alternate,u!==null&&(u.childLanes|=l),u=i,i=i.return;return u.tag===3?u.stateNode:null}var zn=!1;function Fc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fh(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function xn(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function Ln(i,l,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,ve&2){var g=h.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),h.pending=l,vn(i,u)}return g=h.interleaved,g===null?(l.next=l,Lc(h)):(l.next=g.next,g.next=l),h.interleaved=l,vn(i,u)}function ys(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194240)!==0)){var h=l.lanes;h&=i.pendingLanes,u|=h,l.lanes=u,Yl(i,u)}}function Bh(i,l){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?g=y=S:y=y.next=S,u=u.next}while(u!==null);y===null?g=y=l:y=y.next=l}else g=y=l;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}function ks(i,l,u,h){var g=i.updateQueue;zn=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,_=g.shared.pending;if(_!==null){g.shared.pending=null;var M=_,z=M.next;M.next=null,S===null?y=z:S.next=z,S=M;var j=i.alternate;j!==null&&(j=j.updateQueue,_=j.lastBaseUpdate,_!==S&&(_===null?j.firstBaseUpdate=z:_.next=z,j.lastBaseUpdate=M))}if(y!==null){var U=g.baseState;S=0,j=z=M=null,_=y;do{var $=_.lane,Z=_.eventTime;if((h&$)===$){j!==null&&(j=j.next={eventTime:Z,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var te=i,re=_;switch($=l,Z=u,re.tag){case 1:if(te=re.payload,typeof te=="function"){U=te.call(Z,U,$);break e}U=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=re.payload,$=typeof te=="function"?te.call(Z,U,$):te,$==null)break e;U=B({},U,$);break e;case 2:zn=!0}}_.callback!==null&&_.lane!==0&&(i.flags|=64,$=g.effects,$===null?g.effects=[_]:$.push(_))}else Z={eventTime:Z,lane:$,tag:_.tag,payload:_.payload,callback:_.callback,next:null},j===null?(z=j=Z,M=U):j=j.next=Z,S|=$;if(_=_.next,_===null){if(_=g.shared.pending,_===null)break;$=_,_=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);if(j===null&&(M=U),g.baseState=M,g.firstBaseUpdate=z,g.lastBaseUpdate=j,l=g.shared.interleaved,l!==null){g=l;do S|=g.lane,g=g.next;while(g!==l)}else y===null&&(g.shared.lanes=0);yr|=S,i.lanes=S,i.memoizedState=U}}function qh(i,l,u){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var h=i[l],g=h.callback;if(g!==null){if(h.callback=null,h=u,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var ei={},on=Rn(ei),ti=Rn(ei),ni=Rn(ei);function mr(i){if(i===ei)throw Error(t(174));return i}function Bc(i,l){switch(Ae(ni,l),Ae(ti,i),Ae(on,ei),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:ql(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=ql(l,i)}Ne(on),Ae(on,l)}function no(){Ne(on),Ne(ti),Ne(ni)}function Vh(i){mr(ni.current);var l=mr(on.current),u=ql(l,i.type);l!==u&&(Ae(ti,i),Ae(on,u))}function qc(i){ti.current===i&&(Ne(on),Ne(ti))}var Ie=Rn(0);function vs(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Vc=[];function $c(){for(var i=0;i<Vc.length;i++)Vc[i]._workInProgressVersionPrimary=null;Vc.length=0}var xs=T.ReactCurrentDispatcher,jc=T.ReactCurrentBatchConfig,gr=0,Pe=null,je=null,We=null,Ss=!1,ri=!1,oi=0,ov=0;function st(){throw Error(t(321))}function Hc(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!Wt(i[u],l[u]))return!1;return!0}function Uc(i,l,u,h,g,y){if(gr=y,Pe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,xs.current=i===null||i.memoizedState===null?cv:av,i=u(h,g),ri){y=0;do{if(ri=!1,oi=0,25<=y)throw Error(t(301));y+=1,We=je=null,l.updateQueue=null,xs.current=uv,i=u(h,g)}while(ri)}if(xs.current=Es,l=je!==null&&je.next!==null,gr=0,We=je=Pe=null,Ss=!1,l)throw Error(t(300));return i}function Wc(){var i=oi!==0;return oi=0,i}function sn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Pe.memoizedState=We=i:We=We.next=i,We}function Ft(){if(je===null){var i=Pe.alternate;i=i!==null?i.memoizedState:null}else i=je.next;var l=We===null?Pe.memoizedState:We.next;if(l!==null)We=l,je=i;else{if(i===null)throw Error(t(310));je=i,i={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},We===null?Pe.memoizedState=We=i:We=We.next=i}return We}function ii(i,l){return typeof l=="function"?l(i):l}function Kc(i){var l=Ft(),u=l.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var h=je,g=h.baseQueue,y=u.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}h.baseQueue=g=y,u.pending=null}if(g!==null){y=g.next,h=h.baseState;var _=S=null,M=null,z=y;do{var j=z.lane;if((gr&j)===j)M!==null&&(M=M.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:i(h,z.action);else{var U={lane:j,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};M===null?(_=M=U,S=h):M=M.next=U,Pe.lanes|=j,yr|=j}z=z.next}while(z!==null&&z!==y);M===null?S=h:M.next=_,Wt(h,l.memoizedState)||(Ct=!0),l.memoizedState=h,l.baseState=S,l.baseQueue=M,u.lastRenderedState=h}if(i=u.interleaved,i!==null){g=i;do y=g.lane,Pe.lanes|=y,yr|=y,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[l.memoizedState,u.dispatch]}function Jc(i){var l=Ft(),u=l.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var h=u.dispatch,g=u.pending,y=l.memoizedState;if(g!==null){u.pending=null;var S=g=g.next;do y=i(y,S.action),S=S.next;while(S!==g);Wt(y,l.memoizedState)||(Ct=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),u.lastRenderedState=y}return[y,h]}function $h(){}function jh(i,l){var u=Pe,h=Ft(),g=l(),y=!Wt(h.memoizedState,g);if(y&&(h.memoizedState=g,Ct=!0),h=h.queue,Gc(Wh.bind(null,u,h,i),[i]),h.getSnapshot!==l||y||We!==null&&We.memoizedState.tag&1){if(u.flags|=2048,si(9,Uh.bind(null,u,h,g,l),void 0,null),Ke===null)throw Error(t(349));gr&30||Hh(u,l,g)}return g}function Hh(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=Pe.updateQueue,l===null?(l={lastEffect:null,stores:null},Pe.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function Uh(i,l,u,h){l.value=u,l.getSnapshot=h,Kh(l)&&Jh(i)}function Wh(i,l,u){return u(function(){Kh(l)&&Jh(i)})}function Kh(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!Wt(i,u)}catch{return!0}}function Jh(i){var l=vn(i,1);l!==null&&Zt(l,i,1,-1)}function Gh(i){var l=sn();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:i},l.queue=i,i=i.dispatch=lv.bind(null,Pe,i),[l.memoizedState,i]}function si(i,l,u,h){return i={tag:i,create:l,destroy:u,deps:h,next:null},l=Pe.updateQueue,l===null?(l={lastEffect:null,stores:null},Pe.updateQueue=l,l.lastEffect=i.next=i):(u=l.lastEffect,u===null?l.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,l.lastEffect=i)),i}function Qh(){return Ft().memoizedState}function ws(i,l,u,h){var g=sn();Pe.flags|=i,g.memoizedState=si(1|l,u,void 0,h===void 0?null:h)}function Cs(i,l,u,h){var g=Ft();h=h===void 0?null:h;var y=void 0;if(je!==null){var S=je.memoizedState;if(y=S.destroy,h!==null&&Hc(h,S.deps)){g.memoizedState=si(l,u,y,h);return}}Pe.flags|=i,g.memoizedState=si(1|l,u,y,h)}function Zh(i,l){return ws(8390656,8,i,l)}function Gc(i,l){return Cs(2048,8,i,l)}function Yh(i,l){return Cs(4,2,i,l)}function Xh(i,l){return Cs(4,4,i,l)}function ep(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function tp(i,l,u){return u=u!=null?u.concat([i]):null,Cs(4,4,ep.bind(null,l,i),u)}function Qc(){}function np(i,l){var u=Ft();l=l===void 0?null:l;var h=u.memoizedState;return h!==null&&l!==null&&Hc(l,h[1])?h[0]:(u.memoizedState=[i,l],i)}function rp(i,l){var u=Ft();l=l===void 0?null:l;var h=u.memoizedState;return h!==null&&l!==null&&Hc(l,h[1])?h[0]:(i=i(),u.memoizedState=[i,l],i)}function op(i,l,u){return gr&21?(Wt(u,l)||(u=Id(),Pe.lanes|=u,yr|=u,i.baseState=!0),l):(i.baseState&&(i.baseState=!1,Ct=!0),i.memoizedState=u)}function iv(i,l){var u=be;be=u!==0&&4>u?u:4,i(!0);var h=jc.transition;jc.transition={};try{i(!1),l()}finally{be=u,jc.transition=h}}function ip(){return Ft().memoizedState}function sv(i,l,u){var h=Vn(i);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},sp(i))lp(l,u);else if(u=Lh(i,l,u,h),u!==null){var g=pt();Zt(u,i,h,g),cp(u,l,h)}}function lv(i,l,u){var h=Vn(i),g={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(sp(i))lp(l,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var S=l.lastRenderedState,_=y(S,u);if(g.hasEagerState=!0,g.eagerState=_,Wt(_,S)){var M=l.interleaved;M===null?(g.next=g,Lc(l)):(g.next=M.next,M.next=g),l.interleaved=g;return}}catch{}finally{}u=Lh(i,l,g,h),u!==null&&(g=pt(),Zt(u,i,h,g),cp(u,l,h))}}function sp(i){var l=i.alternate;return i===Pe||l!==null&&l===Pe}function lp(i,l){ri=Ss=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function cp(i,l,u){if(u&4194240){var h=l.lanes;h&=i.pendingLanes,u|=h,l.lanes=u,Yl(i,u)}}var Es={readContext:Lt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},cv={readContext:Lt,useCallback:function(i,l){return sn().memoizedState=[i,l===void 0?null:l],i},useContext:Lt,useEffect:Zh,useImperativeHandle:function(i,l,u){return u=u!=null?u.concat([i]):null,ws(4194308,4,ep.bind(null,l,i),u)},useLayoutEffect:function(i,l){return ws(4194308,4,i,l)},useInsertionEffect:function(i,l){return ws(4,2,i,l)},useMemo:function(i,l){var u=sn();return l=l===void 0?null:l,i=i(),u.memoizedState=[i,l],i},useReducer:function(i,l,u){var h=sn();return l=u!==void 0?u(l):l,h.memoizedState=h.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},h.queue=i,i=i.dispatch=sv.bind(null,Pe,i),[h.memoizedState,i]},useRef:function(i){var l=sn();return i={current:i},l.memoizedState=i},useState:Gh,useDebugValue:Qc,useDeferredValue:function(i){return sn().memoizedState=i},useTransition:function(){var i=Gh(!1),l=i[0];return i=iv.bind(null,i[1]),sn().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,u){var h=Pe,g=sn();if(Re){if(u===void 0)throw Error(t(407));u=u()}else{if(u=l(),Ke===null)throw Error(t(349));gr&30||Hh(h,l,u)}g.memoizedState=u;var y={value:u,getSnapshot:l};return g.queue=y,Zh(Wh.bind(null,h,y,i),[i]),h.flags|=2048,si(9,Uh.bind(null,h,y,u,l),void 0,null),u},useId:function(){var i=sn(),l=Ke.identifierPrefix;if(Re){var u=kn,h=yn;u=(h&~(1<<32-Ut(h)-1)).toString(32)+u,l=":"+l+"R"+u,u=oi++,0<u&&(l+="H"+u.toString(32)),l+=":"}else u=ov++,l=":"+l+"r"+u.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},av={readContext:Lt,useCallback:np,useContext:Lt,useEffect:Gc,useImperativeHandle:tp,useInsertionEffect:Yh,useLayoutEffect:Xh,useMemo:rp,useReducer:Kc,useRef:Qh,useState:function(){return Kc(ii)},useDebugValue:Qc,useDeferredValue:function(i){var l=Ft();return op(l,je.memoizedState,i)},useTransition:function(){var i=Kc(ii)[0],l=Ft().memoizedState;return[i,l]},useMutableSource:$h,useSyncExternalStore:jh,useId:ip,unstable_isNewReconciler:!1},uv={readContext:Lt,useCallback:np,useContext:Lt,useEffect:Gc,useImperativeHandle:tp,useInsertionEffect:Yh,useLayoutEffect:Xh,useMemo:rp,useReducer:Jc,useRef:Qh,useState:function(){return Jc(ii)},useDebugValue:Qc,useDeferredValue:function(i){var l=Ft();return je===null?l.memoizedState=i:op(l,je.memoizedState,i)},useTransition:function(){var i=Jc(ii)[0],l=Ft().memoizedState;return[i,l]},useMutableSource:$h,useSyncExternalStore:jh,useId:ip,unstable_isNewReconciler:!1};function Jt(i,l){if(i&&i.defaultProps){l=B({},l),i=i.defaultProps;for(var u in i)l[u]===void 0&&(l[u]=i[u]);return l}return l}function Zc(i,l,u,h){l=i.memoizedState,u=u(h,l),u=u==null?l:B({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var _s={isMounted:function(i){return(i=i._reactInternals)?ar(i)===i:!1},enqueueSetState:function(i,l,u){i=i._reactInternals;var h=pt(),g=Vn(i),y=xn(h,g);y.payload=l,u!=null&&(y.callback=u),l=Ln(i,y,g),l!==null&&(Zt(l,i,g,h),ys(l,i,g))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var h=pt(),g=Vn(i),y=xn(h,g);y.tag=1,y.payload=l,u!=null&&(y.callback=u),l=Ln(i,y,g),l!==null&&(Zt(l,i,g,h),ys(l,i,g))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=pt(),h=Vn(i),g=xn(u,h);g.tag=2,l!=null&&(g.callback=l),l=Ln(i,g,h),l!==null&&(Zt(l,i,h,u),ys(l,i,h))}};function ap(i,l,u,h,g,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,S):l.prototype&&l.prototype.isPureReactComponent?!Wo(u,h)||!Wo(g,y):!0}function up(i,l,u){var h=!1,g=In,y=l.contextType;return typeof y=="object"&&y!==null?y=Lt(y):(g=wt(l)?fr:it.current,h=l.contextTypes,y=(h=h!=null)?Gr(i,g):In),l=new l(u,y),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=_s,i.stateNode=l,l._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=y),l}function fp(i,l,u,h){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,h),l.state!==i&&_s.enqueueReplaceState(l,l.state,null)}function Yc(i,l,u,h){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},Fc(i);var y=l.contextType;typeof y=="object"&&y!==null?g.context=Lt(y):(y=wt(l)?fr:it.current,g.context=Gr(i,y)),g.state=i.memoizedState,y=l.getDerivedStateFromProps,typeof y=="function"&&(Zc(i,l,y,u),g.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(l=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),l!==g.state&&_s.enqueueReplaceState(g,g.state,null),ks(i,u,g,h),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function ro(i,l){try{var u="",h=l;do u+=Se(h),h=h.return;while(h);var g=u}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:l,stack:g,digest:null}}function Xc(i,l,u){return{value:i,source:null,stack:u??null,digest:l??null}}function ea(i,l){try{console.error(l.value)}catch(u){setTimeout(function(){throw u})}}var fv=typeof WeakMap=="function"?WeakMap:Map;function dp(i,l,u){u=xn(-1,u),u.tag=3,u.payload={element:null};var h=l.value;return u.callback=function(){Os||(Os=!0,ma=h),ea(i,l)},u}function hp(i,l,u){u=xn(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var g=l.value;u.payload=function(){return h(g)},u.callback=function(){ea(i,l)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){ea(i,l),typeof h!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})}),u}function pp(i,l,u){var h=i.pingCache;if(h===null){h=i.pingCache=new fv;var g=new Set;h.set(l,g)}else g=h.get(l),g===void 0&&(g=new Set,h.set(l,g));g.has(u)||(g.add(u),i=_v.bind(null,i,l,u),l.then(i,i))}function mp(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function gp(i,l,u,h,g){return i.mode&1?(i.flags|=65536,i.lanes=g,i):(i===l?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(l=xn(-1,1),l.tag=2,Ln(u,l,1))),u.lanes|=1),i)}var dv=T.ReactCurrentOwner,Ct=!1;function ht(i,l,u,h){l.child=i===null?zh(l,null,u,h):Xr(l,i.child,u,h)}function yp(i,l,u,h,g){u=u.render;var y=l.ref;return to(l,g),h=Uc(i,l,u,h,y,g),u=Wc(),i!==null&&!Ct?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~g,Sn(i,l,g)):(Re&&u&&Tc(l),l.flags|=1,ht(i,l,h,g),l.child)}function kp(i,l,u,h,g){if(i===null){var y=u.type;return typeof y=="function"&&!wa(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(l.tag=15,l.type=y,vp(i,l,y,h,g)):(i=Fs(u.type,null,h,l,l.mode,g),i.ref=l.ref,i.return=l,l.child=i)}if(y=i.child,!(i.lanes&g)){var S=y.memoizedProps;if(u=u.compare,u=u!==null?u:Wo,u(S,h)&&i.ref===l.ref)return Sn(i,l,g)}return l.flags|=1,i=jn(y,h),i.ref=l.ref,i.return=l,l.child=i}function vp(i,l,u,h,g){if(i!==null){var y=i.memoizedProps;if(Wo(y,h)&&i.ref===l.ref)if(Ct=!1,l.pendingProps=h=y,(i.lanes&g)!==0)i.flags&131072&&(Ct=!0);else return l.lanes=i.lanes,Sn(i,l,g)}return ta(i,l,u,h,g)}function xp(i,l,u){var h=l.pendingProps,g=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(io,Rt),Rt|=u;else{if(!(u&1073741824))return i=y!==null?y.baseLanes|u:u,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Ae(io,Rt),Rt|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:u,Ae(io,Rt),Rt|=h}else y!==null?(h=y.baseLanes|u,l.memoizedState=null):h=u,Ae(io,Rt),Rt|=h;return ht(i,l,g,u),l.child}function Sp(i,l){var u=l.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(l.flags|=512,l.flags|=2097152)}function ta(i,l,u,h,g){var y=wt(u)?fr:it.current;return y=Gr(l,y),to(l,g),u=Uc(i,l,u,h,y,g),h=Wc(),i!==null&&!Ct?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~g,Sn(i,l,g)):(Re&&h&&Tc(l),l.flags|=1,ht(i,l,u,g),l.child)}function wp(i,l,u,h,g){if(wt(u)){var y=!0;as(l)}else y=!1;if(to(l,g),l.stateNode===null)Ms(i,l),up(l,u,h),Yc(l,u,h,g),h=!0;else if(i===null){var S=l.stateNode,_=l.memoizedProps;S.props=_;var M=S.context,z=u.contextType;typeof z=="object"&&z!==null?z=Lt(z):(z=wt(u)?fr:it.current,z=Gr(l,z));var j=u.getDerivedStateFromProps,U=typeof j=="function"||typeof S.getSnapshotBeforeUpdate=="function";U||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(_!==h||M!==z)&&fp(l,S,h,z),zn=!1;var $=l.memoizedState;S.state=$,ks(l,h,S,g),M=l.memoizedState,_!==h||$!==M||St.current||zn?(typeof j=="function"&&(Zc(l,u,j,h),M=l.memoizedState),(_=zn||ap(l,u,_,h,$,M,z))?(U||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=M),S.props=h,S.state=M,S.context=z,h=_):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{S=l.stateNode,Fh(i,l),_=l.memoizedProps,z=l.type===l.elementType?_:Jt(l.type,_),S.props=z,U=l.pendingProps,$=S.context,M=u.contextType,typeof M=="object"&&M!==null?M=Lt(M):(M=wt(u)?fr:it.current,M=Gr(l,M));var Z=u.getDerivedStateFromProps;(j=typeof Z=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(_!==U||$!==M)&&fp(l,S,h,M),zn=!1,$=l.memoizedState,S.state=$,ks(l,h,S,g);var te=l.memoizedState;_!==U||$!==te||St.current||zn?(typeof Z=="function"&&(Zc(l,u,Z,h),te=l.memoizedState),(z=zn||ap(l,u,z,h,$,te,M)||!1)?(j||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,te,M),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,te,M)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=te),S.props=h,S.state=te,S.context=M,h=z):(typeof S.componentDidUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(l.flags|=1024),h=!1)}return na(i,l,u,h,y,g)}function na(i,l,u,h,g,y){Sp(i,l);var S=(l.flags&128)!==0;if(!h&&!S)return g&&Mh(l,u,!1),Sn(i,l,y);h=l.stateNode,dv.current=l;var _=S&&typeof u.getDerivedStateFromError!="function"?null:h.render();return l.flags|=1,i!==null&&S?(l.child=Xr(l,i.child,null,y),l.child=Xr(l,null,_,y)):ht(i,l,_,y),l.memoizedState=h.state,g&&Mh(l,u,!0),l.child}function Cp(i){var l=i.stateNode;l.pendingContext?_h(i,l.pendingContext,l.pendingContext!==l.context):l.context&&_h(i,l.context,!1),Bc(i,l.containerInfo)}function Ep(i,l,u,h,g){return Yr(),Oc(g),l.flags|=256,ht(i,l,u,h),l.child}var ra={dehydrated:null,treeContext:null,retryLane:0};function oa(i){return{baseLanes:i,cachePool:null,transitions:null}}function _p(i,l,u){var h=l.pendingProps,g=Ie.current,y=!1,S=(l.flags&128)!==0,_;if((_=S)||(_=i!==null&&i.memoizedState===null?!1:(g&2)!==0),_?(y=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Ae(Ie,g&1),i===null)return Nc(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(l.mode&1?i.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(S=h.children,i=h.fallback,y?(h=l.mode,y=l.child,S={mode:"hidden",children:S},!(h&1)&&y!==null?(y.childLanes=0,y.pendingProps=S):y=Bs(S,h,0,null),i=Sr(i,h,u,null),y.return=l,i.return=l,y.sibling=i,l.child=y,l.child.memoizedState=oa(u),l.memoizedState=ra,i):ia(l,S));if(g=i.memoizedState,g!==null&&(_=g.dehydrated,_!==null))return hv(i,l,S,h,_,g,u);if(y){y=h.fallback,S=l.mode,g=i.child,_=g.sibling;var M={mode:"hidden",children:h.children};return!(S&1)&&l.child!==g?(h=l.child,h.childLanes=0,h.pendingProps=M,l.deletions=null):(h=jn(g,M),h.subtreeFlags=g.subtreeFlags&14680064),_!==null?y=jn(_,y):(y=Sr(y,S,u,null),y.flags|=2),y.return=l,h.return=l,h.sibling=y,l.child=h,h=y,y=l.child,S=i.child.memoizedState,S=S===null?oa(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=i.childLanes&~u,l.memoizedState=ra,h}return y=i.child,i=y.sibling,h=jn(y,{mode:"visible",children:h.children}),!(l.mode&1)&&(h.lanes=u),h.return=l,h.sibling=null,i!==null&&(u=l.deletions,u===null?(l.deletions=[i],l.flags|=16):u.push(i)),l.child=h,l.memoizedState=null,h}function ia(i,l){return l=Bs({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function bs(i,l,u,h){return h!==null&&Oc(h),Xr(l,i.child,null,u),i=ia(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function hv(i,l,u,h,g,y,S){if(u)return l.flags&256?(l.flags&=-257,h=Xc(Error(t(422))),bs(i,l,S,h)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(y=h.fallback,g=l.mode,h=Bs({mode:"visible",children:h.children},g,0,null),y=Sr(y,g,S,null),y.flags|=2,h.return=l,y.return=l,h.sibling=y,l.child=h,l.mode&1&&Xr(l,i.child,null,S),l.child.memoizedState=oa(S),l.memoizedState=ra,y);if(!(l.mode&1))return bs(i,l,S,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var _=h.dgst;return h=_,y=Error(t(419)),h=Xc(y,h,void 0),bs(i,l,S,h)}if(_=(S&i.childLanes)!==0,Ct||_){if(h=Ke,h!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(h.suspendedLanes|S)?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,vn(i,g),Zt(h,i,g,-1))}return Sa(),h=Xc(Error(t(421))),bs(i,l,S,h)}return g.data==="$?"?(l.flags|=128,l.child=i.child,l=bv.bind(null,i),g._reactRetry=l,null):(i=y.treeContext,Ot=On(g.nextSibling),Nt=l,Re=!0,Kt=null,i!==null&&(Pt[zt++]=yn,Pt[zt++]=kn,Pt[zt++]=dr,yn=i.id,kn=i.overflow,dr=l),l=ia(l,h.children),l.flags|=4096,l)}function bp(i,l,u){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l),zc(i.return,l,u)}function sa(i,l,u,h,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(y.isBackwards=l,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=u,y.tailMode=g)}function Mp(i,l,u){var h=l.pendingProps,g=h.revealOrder,y=h.tail;if(ht(i,l,h.children,u),h=Ie.current,h&2)h=h&1|2,l.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bp(i,u,l);else if(i.tag===19)bp(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ae(Ie,h),!(l.mode&1))l.memoizedState=null;else switch(g){case"forwards":for(u=l.child,g=null;u!==null;)i=u.alternate,i!==null&&vs(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=l.child,l.child=null):(g=u.sibling,u.sibling=null),sa(l,!1,g,u,y);break;case"backwards":for(u=null,g=l.child,l.child=null;g!==null;){if(i=g.alternate,i!==null&&vs(i)===null){l.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}sa(l,!0,u,null,y);break;case"together":sa(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ms(i,l){!(l.mode&1)&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Sn(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),yr|=l.lanes,!(u&l.childLanes))return null;if(i!==null&&l.child!==i.child)throw Error(t(153));if(l.child!==null){for(i=l.child,u=jn(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=jn(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function pv(i,l,u){switch(l.tag){case 3:Cp(l),Yr();break;case 5:Vh(l);break;case 1:wt(l.type)&&as(l);break;case 4:Bc(l,l.stateNode.containerInfo);break;case 10:var h=l.type._context,g=l.memoizedProps.value;Ae(ms,h._currentValue),h._currentValue=g;break;case 13:if(h=l.memoizedState,h!==null)return h.dehydrated!==null?(Ae(Ie,Ie.current&1),l.flags|=128,null):u&l.child.childLanes?_p(i,l,u):(Ae(Ie,Ie.current&1),i=Sn(i,l,u),i!==null?i.sibling:null);Ae(Ie,Ie.current&1);break;case 19:if(h=(u&l.childLanes)!==0,i.flags&128){if(h)return Mp(i,l,u);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ae(Ie,Ie.current),h)break;return null;case 22:case 23:return l.lanes=0,xp(i,l,u)}return Sn(i,l,u)}var Tp,la,Ap,Dp;Tp=function(i,l){for(var u=l.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},la=function(){},Ap=function(i,l,u,h){var g=i.memoizedProps;if(g!==h){i=l.stateNode,mr(on.current);var y=null;switch(u){case"input":g=zl(i,g),h=zl(i,h),y=[];break;case"select":g=B({},g,{value:void 0}),h=B({},h,{value:void 0}),y=[];break;case"textarea":g=Bl(i,g),h=Bl(i,h),y=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=ss)}Vl(u,h);var S;u=null;for(z in g)if(!h.hasOwnProperty(z)&&g.hasOwnProperty(z)&&g[z]!=null)if(z==="style"){var _=g[z];for(S in _)_.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?y||(y=[]):(y=y||[]).push(z,null));for(z in h){var M=h[z];if(_=g!=null?g[z]:void 0,h.hasOwnProperty(z)&&M!==_&&(M!=null||_!=null))if(z==="style")if(_){for(S in _)!_.hasOwnProperty(S)||M&&M.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in M)M.hasOwnProperty(S)&&_[S]!==M[S]&&(u||(u={}),u[S]=M[S])}else u||(y||(y=[]),y.push(z,u)),u=M;else z==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,_=_?_.__html:void 0,M!=null&&_!==M&&(y=y||[]).push(z,M)):z==="children"?typeof M!="string"&&typeof M!="number"||(y=y||[]).push(z,""+M):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(M!=null&&z==="onScroll"&&De("scroll",i),y||_===M||(y=[])):(y=y||[]).push(z,M))}u&&(y=y||[]).push("style",u);var z=y;(l.updateQueue=z)&&(l.flags|=4)}},Dp=function(i,l,u,h){u!==h&&(l.flags|=4)};function li(i,l){if(!Re)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function lt(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(l)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=u,l}function mv(i,l,u){var h=l.pendingProps;switch(Ac(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(l),null;case 1:return wt(l.type)&&cs(),lt(l),null;case 3:return h=l.stateNode,no(),Ne(St),Ne(it),$c(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(hs(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Kt!==null&&(ka(Kt),Kt=null))),la(i,l),lt(l),null;case 5:qc(l);var g=mr(ni.current);if(u=l.type,i!==null&&l.stateNode!=null)Ap(i,l,u,h,g),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!h){if(l.stateNode===null)throw Error(t(166));return lt(l),null}if(i=mr(on.current),hs(l)){h=l.stateNode,u=l.type;var y=l.memoizedProps;switch(h[rn]=l,h[Zo]=y,i=(l.mode&1)!==0,u){case"dialog":De("cancel",h),De("close",h);break;case"iframe":case"object":case"embed":De("load",h);break;case"video":case"audio":for(g=0;g<Jo.length;g++)De(Jo[g],h);break;case"source":De("error",h);break;case"img":case"image":case"link":De("error",h),De("load",h);break;case"details":De("toggle",h);break;case"input":ud(h,y),De("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},De("invalid",h);break;case"textarea":hd(h,y),De("invalid",h)}Vl(u,y),g=null;for(var S in y)if(y.hasOwnProperty(S)){var _=y[S];S==="children"?typeof _=="string"?h.textContent!==_&&(y.suppressHydrationWarning!==!0&&is(h.textContent,_,i),g=["children",_]):typeof _=="number"&&h.textContent!==""+_&&(y.suppressHydrationWarning!==!0&&is(h.textContent,_,i),g=["children",""+_]):o.hasOwnProperty(S)&&_!=null&&S==="onScroll"&&De("scroll",h)}switch(u){case"input":Pi(h),dd(h,y,!0);break;case"textarea":Pi(h),md(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=ss)}h=g,l.updateQueue=h,h!==null&&(l.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=gd(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=S.createElement(u,{is:h.is}):(i=S.createElement(u),u==="select"&&(S=i,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):i=S.createElementNS(i,u),i[rn]=l,i[Zo]=h,Tp(i,l,!1,!1),l.stateNode=i;e:{switch(S=$l(u,h),u){case"dialog":De("cancel",i),De("close",i),g=h;break;case"iframe":case"object":case"embed":De("load",i),g=h;break;case"video":case"audio":for(g=0;g<Jo.length;g++)De(Jo[g],i);g=h;break;case"source":De("error",i),g=h;break;case"img":case"image":case"link":De("error",i),De("load",i),g=h;break;case"details":De("toggle",i),g=h;break;case"input":ud(i,h),g=zl(i,h),De("invalid",i);break;case"option":g=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},g=B({},h,{value:void 0}),De("invalid",i);break;case"textarea":hd(i,h),g=Bl(i,h),De("invalid",i);break;default:g=h}Vl(u,g),_=g;for(y in _)if(_.hasOwnProperty(y)){var M=_[y];y==="style"?vd(i,M):y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&yd(i,M)):y==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&Ao(i,M):typeof M=="number"&&Ao(i,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?M!=null&&y==="onScroll"&&De("scroll",i):M!=null&&b(i,y,M,S))}switch(u){case"input":Pi(i),dd(i,h,!1);break;case"textarea":Pi(i),md(i);break;case"option":h.value!=null&&i.setAttribute("value",""+_e(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Lr(i,!!h.multiple,y,!1):h.defaultValue!=null&&Lr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=ss)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return lt(l),null;case 6:if(i&&l.stateNode!=null)Dp(i,l,i.memoizedProps,h);else{if(typeof h!="string"&&l.stateNode===null)throw Error(t(166));if(u=mr(ni.current),mr(on.current),hs(l)){if(h=l.stateNode,u=l.memoizedProps,h[rn]=l,(y=h.nodeValue!==u)&&(i=Nt,i!==null))switch(i.tag){case 3:is(h.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&is(h.nodeValue,u,(i.mode&1)!==0)}y&&(l.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[rn]=l,l.stateNode=h}return lt(l),null;case 13:if(Ne(Ie),h=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Re&&Ot!==null&&l.mode&1&&!(l.flags&128))Rh(),Yr(),l.flags|=98560,y=!1;else if(y=hs(l),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[rn]=l}else Yr(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;lt(l),y=!1}else Kt!==null&&(ka(Kt),Kt=null),y=!0;if(!y)return l.flags&65536?l:null}return l.flags&128?(l.lanes=u,l):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(l.child.flags|=8192,l.mode&1&&(i===null||Ie.current&1?He===0&&(He=3):Sa())),l.updateQueue!==null&&(l.flags|=4),lt(l),null);case 4:return no(),la(i,l),i===null&&Go(l.stateNode.containerInfo),lt(l),null;case 10:return Pc(l.type._context),lt(l),null;case 17:return wt(l.type)&&cs(),lt(l),null;case 19:if(Ne(Ie),y=l.memoizedState,y===null)return lt(l),null;if(h=(l.flags&128)!==0,S=y.rendering,S===null)if(h)li(y,!1);else{if(He!==0||i!==null&&i.flags&128)for(i=l.child;i!==null;){if(S=vs(i),S!==null){for(l.flags|=128,li(y,!1),h=S.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),l.subtreeFlags=0,h=u,u=l.child;u!==null;)y=u,i=h,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,i=S.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ae(Ie,Ie.current&1|2),l.child}i=i.sibling}y.tail!==null&&Be()>so&&(l.flags|=128,h=!0,li(y,!1),l.lanes=4194304)}else{if(!h)if(i=vs(S),i!==null){if(l.flags|=128,h=!0,u=i.updateQueue,u!==null&&(l.updateQueue=u,l.flags|=4),li(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!Re)return lt(l),null}else 2*Be()-y.renderingStartTime>so&&u!==1073741824&&(l.flags|=128,h=!0,li(y,!1),l.lanes=4194304);y.isBackwards?(S.sibling=l.child,l.child=S):(u=y.last,u!==null?u.sibling=S:l.child=S,y.last=S)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Be(),l.sibling=null,u=Ie.current,Ae(Ie,h?u&1|2:u&1),l):(lt(l),null);case 22:case 23:return xa(),h=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(l.flags|=8192),h&&l.mode&1?Rt&1073741824&&(lt(l),l.subtreeFlags&6&&(l.flags|=8192)):lt(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function gv(i,l){switch(Ac(l),l.tag){case 1:return wt(l.type)&&cs(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return no(),Ne(St),Ne(it),$c(),i=l.flags,i&65536&&!(i&128)?(l.flags=i&-65537|128,l):null;case 5:return qc(l),null;case 13:if(Ne(Ie),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(t(340));Yr()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Ne(Ie),null;case 4:return no(),null;case 10:return Pc(l.type._context),null;case 22:case 23:return xa(),null;case 24:return null;default:return null}}var Ts=!1,ct=!1,yv=typeof WeakSet=="function"?WeakSet:Set,ee=null;function oo(i,l){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){ze(i,l,h)}else u.current=null}function ca(i,l,u){try{u()}catch(h){ze(i,l,h)}}var Np=!1;function kv(i,l){if(xc=Ki,i=ah(),dc(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var S=0,_=-1,M=-1,z=0,j=0,U=i,$=null;t:for(;;){for(var Z;U!==u||g!==0&&U.nodeType!==3||(_=S+g),U!==y||h!==0&&U.nodeType!==3||(M=S+h),U.nodeType===3&&(S+=U.nodeValue.length),(Z=U.firstChild)!==null;)$=U,U=Z;for(;;){if(U===i)break t;if($===u&&++z===g&&(_=S),$===y&&++j===h&&(M=S),(Z=U.nextSibling)!==null)break;U=$,$=U.parentNode}U=Z}u=_===-1||M===-1?null:{start:_,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(Sc={focusedElem:i,selectionRange:u},Ki=!1,ee=l;ee!==null;)if(l=ee,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,ee=i;else for(;ee!==null;){l=ee;try{var te=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var re=te.memoizedProps,qe=te.memoizedState,R=l.stateNode,D=R.getSnapshotBeforeUpdate(l.elementType===l.type?re:Jt(l.type,re),qe);R.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var P=l.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(J){ze(l,l.return,J)}if(i=l.sibling,i!==null){i.return=l.return,ee=i;break}ee=l.return}return te=Np,Np=!1,te}function ci(i,l,u){var h=l.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&i)===i){var y=g.destroy;g.destroy=void 0,y!==void 0&&ca(l,u,y)}g=g.next}while(g!==h)}}function As(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==l)}}function aa(i){var l=i.ref;if(l!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof l=="function"?l(i):l.current=i}}function Op(i){var l=i.alternate;l!==null&&(i.alternate=null,Op(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[rn],delete l[Zo],delete l[_c],delete l[ev],delete l[tv])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Rp(i){return i.tag===5||i.tag===3||i.tag===4}function Ip(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Rp(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ua(i,l,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?u.nodeType===8?u.parentNode.insertBefore(i,l):u.insertBefore(i,l):(u.nodeType===8?(l=u.parentNode,l.insertBefore(i,u)):(l=u,l.appendChild(i)),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=ss));else if(h!==4&&(i=i.child,i!==null))for(ua(i,l,u),i=i.sibling;i!==null;)ua(i,l,u),i=i.sibling}function fa(i,l,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(fa(i,l,u),i=i.sibling;i!==null;)fa(i,l,u),i=i.sibling}var et=null,Gt=!1;function Fn(i,l,u){for(u=u.child;u!==null;)Pp(i,l,u),u=u.sibling}function Pp(i,l,u){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Vi,u)}catch{}switch(u.tag){case 5:ct||oo(u,l);case 6:var h=et,g=Gt;et=null,Fn(i,l,u),et=h,Gt=g,et!==null&&(Gt?(i=et,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):et.removeChild(u.stateNode));break;case 18:et!==null&&(Gt?(i=et,u=u.stateNode,i.nodeType===8?Ec(i.parentNode,u):i.nodeType===1&&Ec(i,u),qo(i)):Ec(et,u.stateNode));break;case 4:h=et,g=Gt,et=u.stateNode.containerInfo,Gt=!0,Fn(i,l,u),et=h,Gt=g;break;case 0:case 11:case 14:case 15:if(!ct&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var y=g,S=y.destroy;y=y.tag,S!==void 0&&(y&2||y&4)&&ca(u,l,S),g=g.next}while(g!==h)}Fn(i,l,u);break;case 1:if(!ct&&(oo(u,l),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(_){ze(u,l,_)}Fn(i,l,u);break;case 21:Fn(i,l,u);break;case 22:u.mode&1?(ct=(h=ct)||u.memoizedState!==null,Fn(i,l,u),ct=h):Fn(i,l,u);break;default:Fn(i,l,u)}}function zp(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new yv),l.forEach(function(h){var g=Mv.bind(null,i,h);u.has(h)||(u.add(h),h.then(g,g))})}}function Qt(i,l){var u=l.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];try{var y=i,S=l,_=S;e:for(;_!==null;){switch(_.tag){case 5:et=_.stateNode,Gt=!1;break e;case 3:et=_.stateNode.containerInfo,Gt=!0;break e;case 4:et=_.stateNode.containerInfo,Gt=!0;break e}_=_.return}if(et===null)throw Error(t(160));Pp(y,S,g),et=null,Gt=!1;var M=g.alternate;M!==null&&(M.return=null),g.return=null}catch(z){ze(g,l,z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Lp(l,i),l=l.sibling}function Lp(i,l){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Qt(l,i),ln(i),h&4){try{ci(3,i,i.return),As(3,i)}catch(re){ze(i,i.return,re)}try{ci(5,i,i.return)}catch(re){ze(i,i.return,re)}}break;case 1:Qt(l,i),ln(i),h&512&&u!==null&&oo(u,u.return);break;case 5:if(Qt(l,i),ln(i),h&512&&u!==null&&oo(u,u.return),i.flags&32){var g=i.stateNode;try{Ao(g,"")}catch(re){ze(i,i.return,re)}}if(h&4&&(g=i.stateNode,g!=null)){var y=i.memoizedProps,S=u!==null?u.memoizedProps:y,_=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{_==="input"&&y.type==="radio"&&y.name!=null&&fd(g,y),$l(_,S);var z=$l(_,y);for(S=0;S<M.length;S+=2){var j=M[S],U=M[S+1];j==="style"?vd(g,U):j==="dangerouslySetInnerHTML"?yd(g,U):j==="children"?Ao(g,U):b(g,j,U,z)}switch(_){case"input":Ll(g,y);break;case"textarea":pd(g,y);break;case"select":var $=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var Z=y.value;Z!=null?Lr(g,!!y.multiple,Z,!1):$!==!!y.multiple&&(y.defaultValue!=null?Lr(g,!!y.multiple,y.defaultValue,!0):Lr(g,!!y.multiple,y.multiple?[]:"",!1))}g[Zo]=y}catch(re){ze(i,i.return,re)}}break;case 6:if(Qt(l,i),ln(i),h&4){if(i.stateNode===null)throw Error(t(162));g=i.stateNode,y=i.memoizedProps;try{g.nodeValue=y}catch(re){ze(i,i.return,re)}}break;case 3:if(Qt(l,i),ln(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{qo(l.containerInfo)}catch(re){ze(i,i.return,re)}break;case 4:Qt(l,i),ln(i);break;case 13:Qt(l,i),ln(i),g=i.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(pa=Be())),h&4&&zp(i);break;case 22:if(j=u!==null&&u.memoizedState!==null,i.mode&1?(ct=(z=ct)||j,Qt(l,i),ct=z):Qt(l,i),ln(i),h&8192){if(z=i.memoizedState!==null,(i.stateNode.isHidden=z)&&!j&&i.mode&1)for(ee=i,j=i.child;j!==null;){for(U=ee=j;ee!==null;){switch($=ee,Z=$.child,$.tag){case 0:case 11:case 14:case 15:ci(4,$,$.return);break;case 1:oo($,$.return);var te=$.stateNode;if(typeof te.componentWillUnmount=="function"){h=$,u=$.return;try{l=h,te.props=l.memoizedProps,te.state=l.memoizedState,te.componentWillUnmount()}catch(re){ze(h,u,re)}}break;case 5:oo($,$.return);break;case 22:if($.memoizedState!==null){qp(U);continue}}Z!==null?(Z.return=$,ee=Z):qp(U)}j=j.sibling}e:for(j=null,U=i;;){if(U.tag===5){if(j===null){j=U;try{g=U.stateNode,z?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(_=U.stateNode,M=U.memoizedProps.style,S=M!=null&&M.hasOwnProperty("display")?M.display:null,_.style.display=kd("display",S))}catch(re){ze(i,i.return,re)}}}else if(U.tag===6){if(j===null)try{U.stateNode.nodeValue=z?"":U.memoizedProps}catch(re){ze(i,i.return,re)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===i)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===i)break e;for(;U.sibling===null;){if(U.return===null||U.return===i)break e;j===U&&(j=null),U=U.return}j===U&&(j=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:Qt(l,i),ln(i),h&4&&zp(i);break;case 21:break;default:Qt(l,i),ln(i)}}function ln(i){var l=i.flags;if(l&2){try{e:{for(var u=i.return;u!==null;){if(Rp(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Ao(g,""),h.flags&=-33);var y=Ip(i);fa(i,y,g);break;case 3:case 4:var S=h.stateNode.containerInfo,_=Ip(i);ua(i,_,S);break;default:throw Error(t(161))}}catch(M){ze(i,i.return,M)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function vv(i,l,u){ee=i,Fp(i)}function Fp(i,l,u){for(var h=(i.mode&1)!==0;ee!==null;){var g=ee,y=g.child;if(g.tag===22&&h){var S=g.memoizedState!==null||Ts;if(!S){var _=g.alternate,M=_!==null&&_.memoizedState!==null||ct;_=Ts;var z=ct;if(Ts=S,(ct=M)&&!z)for(ee=g;ee!==null;)S=ee,M=S.child,S.tag===22&&S.memoizedState!==null?Vp(g):M!==null?(M.return=S,ee=M):Vp(g);for(;y!==null;)ee=y,Fp(y),y=y.sibling;ee=g,Ts=_,ct=z}Bp(i)}else g.subtreeFlags&8772&&y!==null?(y.return=g,ee=y):Bp(i)}}function Bp(i){for(;ee!==null;){var l=ee;if(l.flags&8772){var u=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:ct||As(5,l);break;case 1:var h=l.stateNode;if(l.flags&4&&!ct)if(u===null)h.componentDidMount();else{var g=l.elementType===l.type?u.memoizedProps:Jt(l.type,u.memoizedProps);h.componentDidUpdate(g,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=l.updateQueue;y!==null&&qh(l,y,h);break;case 3:var S=l.updateQueue;if(S!==null){if(u=null,l.child!==null)switch(l.child.tag){case 5:u=l.child.stateNode;break;case 1:u=l.child.stateNode}qh(l,S,u)}break;case 5:var _=l.stateNode;if(u===null&&l.flags&4){u=_;var M=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var z=l.alternate;if(z!==null){var j=z.memoizedState;if(j!==null){var U=j.dehydrated;U!==null&&qo(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ct||l.flags&512&&aa(l)}catch($){ze(l,l.return,$)}}if(l===i){ee=null;break}if(u=l.sibling,u!==null){u.return=l.return,ee=u;break}ee=l.return}}function qp(i){for(;ee!==null;){var l=ee;if(l===i){ee=null;break}var u=l.sibling;if(u!==null){u.return=l.return,ee=u;break}ee=l.return}}function Vp(i){for(;ee!==null;){var l=ee;try{switch(l.tag){case 0:case 11:case 15:var u=l.return;try{As(4,l)}catch(M){ze(l,u,M)}break;case 1:var h=l.stateNode;if(typeof h.componentDidMount=="function"){var g=l.return;try{h.componentDidMount()}catch(M){ze(l,g,M)}}var y=l.return;try{aa(l)}catch(M){ze(l,y,M)}break;case 5:var S=l.return;try{aa(l)}catch(M){ze(l,S,M)}}}catch(M){ze(l,l.return,M)}if(l===i){ee=null;break}var _=l.sibling;if(_!==null){_.return=l.return,ee=_;break}ee=l.return}}var xv=Math.ceil,Ds=T.ReactCurrentDispatcher,da=T.ReactCurrentOwner,Bt=T.ReactCurrentBatchConfig,ve=0,Ke=null,Ve=null,tt=0,Rt=0,io=Rn(0),He=0,ai=null,yr=0,Ns=0,ha=0,ui=null,Et=null,pa=0,so=1/0,wn=null,Os=!1,ma=null,Bn=null,Rs=!1,qn=null,Is=0,fi=0,ga=null,Ps=-1,zs=0;function pt(){return ve&6?Be():Ps!==-1?Ps:Ps=Be()}function Vn(i){return i.mode&1?ve&2&&tt!==0?tt&-tt:rv.transition!==null?(zs===0&&(zs=Id()),zs):(i=be,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function Zt(i,l,u,h){if(50<fi)throw fi=0,ga=null,Error(t(185));Po(i,u,h),(!(ve&2)||i!==Ke)&&(i===Ke&&(!(ve&2)&&(Ns|=u),He===4&&$n(i,tt)),_t(i,h),u===1&&ve===0&&!(l.mode&1)&&(so=Be()+500,us&&Pn()))}function _t(i,l){var u=i.callbackNode;rk(i,l);var h=Hi(i,i===Ke?tt:0);if(h===0)u!==null&&Nd(u),i.callbackNode=null,i.callbackPriority=0;else if(l=h&-h,i.callbackPriority!==l){if(u!=null&&Nd(u),l===1)i.tag===0?nv(jp.bind(null,i)):Th(jp.bind(null,i)),Yk(function(){!(ve&6)&&Pn()}),u=null;else{switch(Pd(h)){case 1:u=Gl;break;case 4:u=Od;break;case 16:u=qi;break;case 536870912:u=Rd;break;default:u=qi}u=Zp(u,$p.bind(null,i))}i.callbackPriority=l,i.callbackNode=u}}function $p(i,l){if(Ps=-1,zs=0,ve&6)throw Error(t(327));var u=i.callbackNode;if(lo()&&i.callbackNode!==u)return null;var h=Hi(i,i===Ke?tt:0);if(h===0)return null;if(h&30||h&i.expiredLanes||l)l=Ls(i,h);else{l=h;var g=ve;ve|=2;var y=Up();(Ke!==i||tt!==l)&&(wn=null,so=Be()+500,vr(i,l));do try{Cv();break}catch(_){Hp(i,_)}while(!0);Ic(),Ds.current=y,ve=g,Ve!==null?l=0:(Ke=null,tt=0,l=He)}if(l!==0){if(l===2&&(g=Ql(i),g!==0&&(h=g,l=ya(i,g))),l===1)throw u=ai,vr(i,0),$n(i,h),_t(i,Be()),u;if(l===6)$n(i,h);else{if(g=i.current.alternate,!(h&30)&&!Sv(g)&&(l=Ls(i,h),l===2&&(y=Ql(i),y!==0&&(h=y,l=ya(i,y))),l===1))throw u=ai,vr(i,0),$n(i,h),_t(i,Be()),u;switch(i.finishedWork=g,i.finishedLanes=h,l){case 0:case 1:throw Error(t(345));case 2:xr(i,Et,wn);break;case 3:if($n(i,h),(h&130023424)===h&&(l=pa+500-Be(),10<l)){if(Hi(i,0)!==0)break;if(g=i.suspendedLanes,(g&h)!==h){pt(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=Cc(xr.bind(null,i,Et,wn),l);break}xr(i,Et,wn);break;case 4:if($n(i,h),(h&4194240)===h)break;for(l=i.eventTimes,g=-1;0<h;){var S=31-Ut(h);y=1<<S,S=l[S],S>g&&(g=S),h&=~y}if(h=g,h=Be()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*xv(h/1960))-h,10<h){i.timeoutHandle=Cc(xr.bind(null,i,Et,wn),h);break}xr(i,Et,wn);break;case 5:xr(i,Et,wn);break;default:throw Error(t(329))}}}return _t(i,Be()),i.callbackNode===u?$p.bind(null,i):null}function ya(i,l){var u=ui;return i.current.memoizedState.isDehydrated&&(vr(i,l).flags|=256),i=Ls(i,l),i!==2&&(l=Et,Et=u,l!==null&&ka(l)),i}function ka(i){Et===null?Et=i:Et.push.apply(Et,i)}function Sv(i){for(var l=i;;){if(l.flags&16384){var u=l.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var g=u[h],y=g.getSnapshot;g=g.value;try{if(!Wt(y(),g))return!1}catch{return!1}}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function $n(i,l){for(l&=~ha,l&=~Ns,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var u=31-Ut(l),h=1<<u;i[u]=-1,l&=~h}}function jp(i){if(ve&6)throw Error(t(327));lo();var l=Hi(i,0);if(!(l&1))return _t(i,Be()),null;var u=Ls(i,l);if(i.tag!==0&&u===2){var h=Ql(i);h!==0&&(l=h,u=ya(i,h))}if(u===1)throw u=ai,vr(i,0),$n(i,l),_t(i,Be()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,xr(i,Et,wn),_t(i,Be()),null}function va(i,l){var u=ve;ve|=1;try{return i(l)}finally{ve=u,ve===0&&(so=Be()+500,us&&Pn())}}function kr(i){qn!==null&&qn.tag===0&&!(ve&6)&&lo();var l=ve;ve|=1;var u=Bt.transition,h=be;try{if(Bt.transition=null,be=1,i)return i()}finally{be=h,Bt.transition=u,ve=l,!(ve&6)&&Pn()}}function xa(){Rt=io.current,Ne(io)}function vr(i,l){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Zk(u)),Ve!==null)for(u=Ve.return;u!==null;){var h=u;switch(Ac(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&cs();break;case 3:no(),Ne(St),Ne(it),$c();break;case 5:qc(h);break;case 4:no();break;case 13:Ne(Ie);break;case 19:Ne(Ie);break;case 10:Pc(h.type._context);break;case 22:case 23:xa()}u=u.return}if(Ke=i,Ve=i=jn(i.current,null),tt=Rt=l,He=0,ai=null,ha=Ns=yr=0,Et=ui=null,pr!==null){for(l=0;l<pr.length;l++)if(u=pr[l],h=u.interleaved,h!==null){u.interleaved=null;var g=h.next,y=u.pending;if(y!==null){var S=y.next;y.next=g,h.next=S}u.pending=h}pr=null}return i}function Hp(i,l){do{var u=Ve;try{if(Ic(),xs.current=Es,Ss){for(var h=Pe.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Ss=!1}if(gr=0,We=je=Pe=null,ri=!1,oi=0,da.current=null,u===null||u.return===null){He=1,ai=l,Ve=null;break}e:{var y=i,S=u.return,_=u,M=l;if(l=tt,_.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var z=M,j=_,U=j.tag;if(!(j.mode&1)&&(U===0||U===11||U===15)){var $=j.alternate;$?(j.updateQueue=$.updateQueue,j.memoizedState=$.memoizedState,j.lanes=$.lanes):(j.updateQueue=null,j.memoizedState=null)}var Z=mp(S);if(Z!==null){Z.flags&=-257,gp(Z,S,_,y,l),Z.mode&1&&pp(y,z,l),l=Z,M=z;var te=l.updateQueue;if(te===null){var re=new Set;re.add(M),l.updateQueue=re}else te.add(M);break e}else{if(!(l&1)){pp(y,z,l),Sa();break e}M=Error(t(426))}}else if(Re&&_.mode&1){var qe=mp(S);if(qe!==null){!(qe.flags&65536)&&(qe.flags|=256),gp(qe,S,_,y,l),Oc(ro(M,_));break e}}y=M=ro(M,_),He!==4&&(He=2),ui===null?ui=[y]:ui.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,l&=-l,y.lanes|=l;var R=dp(y,M,l);Bh(y,R);break e;case 1:_=M;var D=y.type,P=y.stateNode;if(!(y.flags&128)&&(typeof D.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Bn===null||!Bn.has(P)))){y.flags|=65536,l&=-l,y.lanes|=l;var J=hp(y,_,l);Bh(y,J);break e}}y=y.return}while(y!==null)}Kp(u)}catch(oe){l=oe,Ve===u&&u!==null&&(Ve=u=u.return);continue}break}while(!0)}function Up(){var i=Ds.current;return Ds.current=Es,i===null?Es:i}function Sa(){(He===0||He===3||He===2)&&(He=4),Ke===null||!(yr&268435455)&&!(Ns&268435455)||$n(Ke,tt)}function Ls(i,l){var u=ve;ve|=2;var h=Up();(Ke!==i||tt!==l)&&(wn=null,vr(i,l));do try{wv();break}catch(g){Hp(i,g)}while(!0);if(Ic(),ve=u,Ds.current=h,Ve!==null)throw Error(t(261));return Ke=null,tt=0,He}function wv(){for(;Ve!==null;)Wp(Ve)}function Cv(){for(;Ve!==null&&!J1();)Wp(Ve)}function Wp(i){var l=Qp(i.alternate,i,Rt);i.memoizedProps=i.pendingProps,l===null?Kp(i):Ve=l,da.current=null}function Kp(i){var l=i;do{var u=l.alternate;if(i=l.return,l.flags&32768){if(u=gv(u,l),u!==null){u.flags&=32767,Ve=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{He=6,Ve=null;return}}else if(u=mv(u,l,Rt),u!==null){Ve=u;return}if(l=l.sibling,l!==null){Ve=l;return}Ve=l=i}while(l!==null);He===0&&(He=5)}function xr(i,l,u){var h=be,g=Bt.transition;try{Bt.transition=null,be=1,Ev(i,l,u,h)}finally{Bt.transition=g,be=h}return null}function Ev(i,l,u,h){do lo();while(qn!==null);if(ve&6)throw Error(t(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=u.lanes|u.childLanes;if(ok(i,y),i===Ke&&(Ve=Ke=null,tt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Rs||(Rs=!0,Zp(qi,function(){return lo(),null})),y=(u.flags&15990)!==0,u.subtreeFlags&15990||y){y=Bt.transition,Bt.transition=null;var S=be;be=1;var _=ve;ve|=4,da.current=null,kv(i,u),Lp(u,i),Hk(Sc),Ki=!!xc,Sc=xc=null,i.current=u,vv(u),G1(),ve=_,be=S,Bt.transition=y}else i.current=u;if(Rs&&(Rs=!1,qn=i,Is=g),y=i.pendingLanes,y===0&&(Bn=null),Y1(u.stateNode),_t(i,Be()),l!==null)for(h=i.onRecoverableError,u=0;u<l.length;u++)g=l[u],h(g.value,{componentStack:g.stack,digest:g.digest});if(Os)throw Os=!1,i=ma,ma=null,i;return Is&1&&i.tag!==0&&lo(),y=i.pendingLanes,y&1?i===ga?fi++:(fi=0,ga=i):fi=0,Pn(),null}function lo(){if(qn!==null){var i=Pd(Is),l=Bt.transition,u=be;try{if(Bt.transition=null,be=16>i?16:i,qn===null)var h=!1;else{if(i=qn,qn=null,Is=0,ve&6)throw Error(t(331));var g=ve;for(ve|=4,ee=i.current;ee!==null;){var y=ee,S=y.child;if(ee.flags&16){var _=y.deletions;if(_!==null){for(var M=0;M<_.length;M++){var z=_[M];for(ee=z;ee!==null;){var j=ee;switch(j.tag){case 0:case 11:case 15:ci(8,j,y)}var U=j.child;if(U!==null)U.return=j,ee=U;else for(;ee!==null;){j=ee;var $=j.sibling,Z=j.return;if(Op(j),j===z){ee=null;break}if($!==null){$.return=Z,ee=$;break}ee=Z}}}var te=y.alternate;if(te!==null){var re=te.child;if(re!==null){te.child=null;do{var qe=re.sibling;re.sibling=null,re=qe}while(re!==null)}}ee=y}}if(y.subtreeFlags&2064&&S!==null)S.return=y,ee=S;else e:for(;ee!==null;){if(y=ee,y.flags&2048)switch(y.tag){case 0:case 11:case 15:ci(9,y,y.return)}var R=y.sibling;if(R!==null){R.return=y.return,ee=R;break e}ee=y.return}}var D=i.current;for(ee=D;ee!==null;){S=ee;var P=S.child;if(S.subtreeFlags&2064&&P!==null)P.return=S,ee=P;else e:for(S=D;ee!==null;){if(_=ee,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:As(9,_)}}catch(oe){ze(_,_.return,oe)}if(_===S){ee=null;break e}var J=_.sibling;if(J!==null){J.return=_.return,ee=J;break e}ee=_.return}}if(ve=g,Pn(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Vi,i)}catch{}h=!0}return h}finally{be=u,Bt.transition=l}}return!1}function Jp(i,l,u){l=ro(u,l),l=dp(i,l,1),i=Ln(i,l,1),l=pt(),i!==null&&(Po(i,1,l),_t(i,l))}function ze(i,l,u){if(i.tag===3)Jp(i,i,u);else for(;l!==null;){if(l.tag===3){Jp(l,i,u);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Bn===null||!Bn.has(h))){i=ro(u,i),i=hp(l,i,1),l=Ln(l,i,1),i=pt(),l!==null&&(Po(l,1,i),_t(l,i));break}}l=l.return}}function _v(i,l,u){var h=i.pingCache;h!==null&&h.delete(l),l=pt(),i.pingedLanes|=i.suspendedLanes&u,Ke===i&&(tt&u)===u&&(He===4||He===3&&(tt&130023424)===tt&&500>Be()-pa?vr(i,0):ha|=u),_t(i,l)}function Gp(i,l){l===0&&(i.mode&1?(l=ji,ji<<=1,!(ji&130023424)&&(ji=4194304)):l=1);var u=pt();i=vn(i,l),i!==null&&(Po(i,l,u),_t(i,u))}function bv(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),Gp(i,u)}function Mv(i,l){var u=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(l),Gp(i,u)}var Qp;Qp=function(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps||St.current)Ct=!0;else{if(!(i.lanes&u)&&!(l.flags&128))return Ct=!1,pv(i,l,u);Ct=!!(i.flags&131072)}else Ct=!1,Re&&l.flags&1048576&&Ah(l,ds,l.index);switch(l.lanes=0,l.tag){case 2:var h=l.type;Ms(i,l),i=l.pendingProps;var g=Gr(l,it.current);to(l,u),g=Uc(null,l,h,i,g,u);var y=Wc();return l.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,wt(h)?(y=!0,as(l)):y=!1,l.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Fc(l),g.updater=_s,l.stateNode=g,g._reactInternals=l,Yc(l,h,i,u),l=na(null,l,h,!0,y,u)):(l.tag=0,Re&&y&&Tc(l),ht(null,l,g,u),l=l.child),l;case 16:h=l.elementType;e:{switch(Ms(i,l),i=l.pendingProps,g=h._init,h=g(h._payload),l.type=h,g=l.tag=Av(h),i=Jt(h,i),g){case 0:l=ta(null,l,h,i,u);break e;case 1:l=wp(null,l,h,i,u);break e;case 11:l=yp(null,l,h,i,u);break e;case 14:l=kp(null,l,h,Jt(h.type,i),u);break e}throw Error(t(306,h,""))}return l;case 0:return h=l.type,g=l.pendingProps,g=l.elementType===h?g:Jt(h,g),ta(i,l,h,g,u);case 1:return h=l.type,g=l.pendingProps,g=l.elementType===h?g:Jt(h,g),wp(i,l,h,g,u);case 3:e:{if(Cp(l),i===null)throw Error(t(387));h=l.pendingProps,y=l.memoizedState,g=y.element,Fh(i,l),ks(l,h,null,u);var S=l.memoizedState;if(h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){g=ro(Error(t(423)),l),l=Ep(i,l,h,u,g);break e}else if(h!==g){g=ro(Error(t(424)),l),l=Ep(i,l,h,u,g);break e}else for(Ot=On(l.stateNode.containerInfo.firstChild),Nt=l,Re=!0,Kt=null,u=zh(l,null,h,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Yr(),h===g){l=Sn(i,l,u);break e}ht(i,l,h,u)}l=l.child}return l;case 5:return Vh(l),i===null&&Nc(l),h=l.type,g=l.pendingProps,y=i!==null?i.memoizedProps:null,S=g.children,wc(h,g)?S=null:y!==null&&wc(h,y)&&(l.flags|=32),Sp(i,l),ht(i,l,S,u),l.child;case 6:return i===null&&Nc(l),null;case 13:return _p(i,l,u);case 4:return Bc(l,l.stateNode.containerInfo),h=l.pendingProps,i===null?l.child=Xr(l,null,h,u):ht(i,l,h,u),l.child;case 11:return h=l.type,g=l.pendingProps,g=l.elementType===h?g:Jt(h,g),yp(i,l,h,g,u);case 7:return ht(i,l,l.pendingProps,u),l.child;case 8:return ht(i,l,l.pendingProps.children,u),l.child;case 12:return ht(i,l,l.pendingProps.children,u),l.child;case 10:e:{if(h=l.type._context,g=l.pendingProps,y=l.memoizedProps,S=g.value,Ae(ms,h._currentValue),h._currentValue=S,y!==null)if(Wt(y.value,S)){if(y.children===g.children&&!St.current){l=Sn(i,l,u);break e}}else for(y=l.child,y!==null&&(y.return=l);y!==null;){var _=y.dependencies;if(_!==null){S=y.child;for(var M=_.firstContext;M!==null;){if(M.context===h){if(y.tag===1){M=xn(-1,u&-u),M.tag=2;var z=y.updateQueue;if(z!==null){z=z.shared;var j=z.pending;j===null?M.next=M:(M.next=j.next,j.next=M),z.pending=M}}y.lanes|=u,M=y.alternate,M!==null&&(M.lanes|=u),zc(y.return,u,l),_.lanes|=u;break}M=M.next}}else if(y.tag===10)S=y.type===l.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(t(341));S.lanes|=u,_=S.alternate,_!==null&&(_.lanes|=u),zc(S,u,l),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===l){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}ht(i,l,g.children,u),l=l.child}return l;case 9:return g=l.type,h=l.pendingProps.children,to(l,u),g=Lt(g),h=h(g),l.flags|=1,ht(i,l,h,u),l.child;case 14:return h=l.type,g=Jt(h,l.pendingProps),g=Jt(h.type,g),kp(i,l,h,g,u);case 15:return vp(i,l,l.type,l.pendingProps,u);case 17:return h=l.type,g=l.pendingProps,g=l.elementType===h?g:Jt(h,g),Ms(i,l),l.tag=1,wt(h)?(i=!0,as(l)):i=!1,to(l,u),up(l,h,g),Yc(l,h,g,u),na(null,l,h,!0,i,u);case 19:return Mp(i,l,u);case 22:return xp(i,l,u)}throw Error(t(156,l.tag))};function Zp(i,l){return Dd(i,l)}function Tv(i,l,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(i,l,u,h){return new Tv(i,l,u,h)}function wa(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Av(i){if(typeof i=="function")return wa(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ae)return 11;if(i===he)return 14}return 2}function jn(i,l){var u=i.alternate;return u===null?(u=qt(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Fs(i,l,u,h,g,y){var S=2;if(h=i,typeof i=="function")wa(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case W:return Sr(u.children,g,y,l);case L:S=8,g|=8;break;case F:return i=qt(12,u,l,g|2),i.elementType=F,i.lanes=y,i;case xe:return i=qt(13,u,l,g),i.elementType=xe,i.lanes=y,i;case V:return i=qt(19,u,l,g),i.elementType=V,i.lanes=y,i;case ke:return Bs(u,g,y,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:S=10;break e;case X:S=9;break e;case ae:S=11;break e;case he:S=14;break e;case pe:S=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return l=qt(S,u,l,g),l.elementType=i,l.type=h,l.lanes=y,l}function Sr(i,l,u,h){return i=qt(7,i,h,l),i.lanes=u,i}function Bs(i,l,u,h){return i=qt(22,i,h,l),i.elementType=ke,i.lanes=u,i.stateNode={isHidden:!1},i}function Ca(i,l,u){return i=qt(6,i,null,l),i.lanes=u,i}function Ea(i,l,u){return l=qt(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function Dv(i,l,u,h,g){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zl(0),this.expirationTimes=Zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function _a(i,l,u,h,g,y,S,_,M){return i=new Dv(i,l,u,_,M),l===1?(l=1,y===!0&&(l|=8)):l=0,y=qt(3,null,null,l),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fc(y),i}function Nv(i,l,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:h==null?null:""+h,children:i,containerInfo:l,implementation:u}}function Yp(i){if(!i)return In;i=i._reactInternals;e:{if(ar(i)!==i||i.tag!==1)throw Error(t(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(wt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(wt(u))return bh(i,u,l)}return l}function Xp(i,l,u,h,g,y,S,_,M){return i=_a(u,h,!0,i,g,y,S,_,M),i.context=Yp(null),u=i.current,h=pt(),g=Vn(u),y=xn(h,g),y.callback=l??null,Ln(u,y,g),i.current.lanes=g,Po(i,g,h),_t(i,h),i}function qs(i,l,u,h){var g=l.current,y=pt(),S=Vn(g);return u=Yp(u),l.context===null?l.context=u:l.pendingContext=u,l=xn(y,S),l.payload={element:i},h=h===void 0?null:h,h!==null&&(l.callback=h),i=Ln(g,l,S),i!==null&&(Zt(i,g,S,y),ys(i,g,S)),S}function Vs(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function em(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function ba(i,l){em(i,l),(i=i.alternate)&&em(i,l)}function Ov(){return null}var tm=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ma(i){this._internalRoot=i}$s.prototype.render=Ma.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(t(409));qs(i,l,null,null)},$s.prototype.unmount=Ma.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;kr(function(){qs(null,i,null,null)}),l[mn]=null}};function $s(i){this._internalRoot=i}$s.prototype.unstable_scheduleHydration=function(i){if(i){var l=Fd();i={blockedOn:null,target:i,priority:l};for(var u=0;u<An.length&&l!==0&&l<An[u].priority;u++);An.splice(u,0,i),u===0&&Vd(i)}};function Ta(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function js(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function nm(){}function Rv(i,l,u,h,g){if(g){if(typeof h=="function"){var y=h;h=function(){var z=Vs(S);y.call(z)}}var S=Xp(l,h,i,0,null,!1,!1,"",nm);return i._reactRootContainer=S,i[mn]=S.current,Go(i.nodeType===8?i.parentNode:i),kr(),S}for(;g=i.lastChild;)i.removeChild(g);if(typeof h=="function"){var _=h;h=function(){var z=Vs(M);_.call(z)}}var M=_a(i,0,!1,null,null,!1,!1,"",nm);return i._reactRootContainer=M,i[mn]=M.current,Go(i.nodeType===8?i.parentNode:i),kr(function(){qs(l,M,u,h)}),M}function Hs(i,l,u,h,g){var y=u._reactRootContainer;if(y){var S=y;if(typeof g=="function"){var _=g;g=function(){var M=Vs(S);_.call(M)}}qs(l,S,i,g)}else S=Rv(u,l,i,g,h);return Vs(S)}zd=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var u=Io(l.pendingLanes);u!==0&&(Yl(l,u|1),_t(l,Be()),!(ve&6)&&(so=Be()+500,Pn()))}break;case 13:kr(function(){var h=vn(i,1);if(h!==null){var g=pt();Zt(h,i,1,g)}}),ba(i,1)}},Xl=function(i){if(i.tag===13){var l=vn(i,134217728);if(l!==null){var u=pt();Zt(l,i,134217728,u)}ba(i,134217728)}},Ld=function(i){if(i.tag===13){var l=Vn(i),u=vn(i,l);if(u!==null){var h=pt();Zt(u,i,l,h)}ba(i,l)}},Fd=function(){return be},Bd=function(i,l){var u=be;try{return be=i,l()}finally{be=u}},Ul=function(i,l,u){switch(l){case"input":if(Ll(i,u),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<u.length;l++){var h=u[l];if(h!==i&&h.form===i.form){var g=ls(h);if(!g)throw Error(t(90));ad(h),Ll(h,g)}}}break;case"textarea":pd(i,u);break;case"select":l=u.value,l!=null&&Lr(i,!!u.multiple,l,!1)}},Cd=va,Ed=kr;var Iv={usingClientEntryPoint:!1,Events:[Yo,Kr,ls,Sd,wd,va]},di={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pv={bundleType:di.bundleType,version:di.version,rendererPackageName:di.rendererPackageName,rendererConfig:di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Td(i),i===null?null:i.stateNode},findFiberByHostInstance:di.findFiberByHostInstance||Ov,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Us.isDisabled&&Us.supportsFiber)try{Vi=Us.inject(Pv),nn=Us}catch{}}return bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iv,bt.createPortal=function(i,l){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ta(l))throw Error(t(200));return Nv(i,l,null,u)},bt.createRoot=function(i,l){if(!Ta(i))throw Error(t(299));var u=!1,h="",g=tm;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onRecoverableError!==void 0&&(g=l.onRecoverableError)),l=_a(i,1,!1,null,null,u,!1,h,g),i[mn]=l.current,Go(i.nodeType===8?i.parentNode:i),new Ma(l)},bt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Td(l),i=i===null?null:i.stateNode,i},bt.flushSync=function(i){return kr(i)},bt.hydrate=function(i,l,u){if(!js(l))throw Error(t(200));return Hs(null,i,l,!0,u)},bt.hydrateRoot=function(i,l,u){if(!Ta(i))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,g=!1,y="",S=tm;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),l=Xp(l,null,i,1,u??null,g,!1,y,S),i[mn]=l.current,Go(i),h)for(i=0;i<h.length;i++)u=h[i],g=u._getVersion,g=g(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,g]:l.mutableSourceEagerHydrationData.push(u,g);return new $s(l)},bt.render=function(i,l,u){if(!js(l))throw Error(t(200));return Hs(null,i,l,!1,u)},bt.unmountComponentAtNode=function(i){if(!js(i))throw Error(t(40));return i._reactRootContainer?(kr(function(){Hs(null,null,i,!1,function(){i._reactRootContainer=null,i[mn]=null})}),!0):!1},bt.unstable_batchedUpdates=va,bt.unstable_renderSubtreeIntoContainer=function(i,l,u,h){if(!js(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Hs(i,l,u,!1,h)},bt.version="18.3.1-next-f1338f8080-20240426",bt}var um;function $0(){if(um)return Na.exports;um=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Na.exports=jv(),Na.exports}var fm;function Hv(){if(fm)return Ws;fm=1;var r=$0();return Ws.createRoot=r.createRoot,Ws.hydrateRoot=r.hydrateRoot,Ws}var Uv=Hv();function nt(r){this.content=r}nt.prototype={constructor:nt,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,t){var n=t&&t!=r?this.remove(t):this,o=n.find(r),s=n.content.slice();return o==-1?s.push(t||r,e):(s[o+1]=e,t&&(s[o]=t)),new nt(s)},remove:function(r){var e=this.find(r);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new nt(t)},addToStart:function(r,e){return new nt([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var t=this.remove(r).content.slice();return t.push(r,e),new nt(t)},addBefore:function(r,e,t){var n=this.remove(e),o=n.content.slice(),s=n.find(r);return o.splice(s==-1?o.length:s,0,e,t),new nt(o)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=nt.from(r),r.size?new nt(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=nt.from(r),r.size?new nt(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=nt.from(r);for(var t=0;t<r.content.length;t+=2)e=e.remove(r.content[t]);return e},toObject:function(){var r={};return this.forEach(function(e,t){r[e]=t}),r},get size(){return this.content.length>>1}};nt.from=function(r){if(r instanceof nt)return r;var e=[];if(r)for(var t in r)e.push(t,r[t]);return new nt(e)};function j0(r,e,t){for(let n=0;;n++){if(n==r.childCount||n==e.childCount)return r.childCount==e.childCount?null:t;let o=r.child(n),s=e.child(n);if(o==s){t+=o.nodeSize;continue}if(!o.sameMarkup(s))return t;if(o.isText&&o.text!=s.text){for(let c=0;o.text[c]==s.text[c];c++)t++;return t}if(o.content.size||s.content.size){let c=j0(o.content,s.content,t+1);if(c!=null)return c}t+=o.nodeSize}}function H0(r,e,t,n){for(let o=r.childCount,s=e.childCount;;){if(o==0||s==0)return o==s?null:{a:t,b:n};let c=r.child(--o),a=e.child(--s),f=c.nodeSize;if(c==a){t-=f,n-=f;continue}if(!c.sameMarkup(a))return{a:t,b:n};if(c.isText&&c.text!=a.text){let d=0,p=Math.min(c.text.length,a.text.length);for(;d<p&&c.text[c.text.length-d-1]==a.text[a.text.length-d-1];)d++,t--,n--;return{a:t,b:n}}if(c.content.size||a.content.size){let d=H0(c.content,a.content,t-1,n-1);if(d)return d}t-=f,n-=f}}class H{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,o=0,s){for(let c=0,a=0;a<t;c++){let f=this.content[c],d=a+f.nodeSize;if(d>e&&n(f,o+a,s||null,c)!==!1&&f.content.size){let p=a+1;f.nodesBetween(Math.max(0,e-p),Math.min(f.content.size,t-p),n,o+p)}a=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,o){let s="",c=!0;return this.nodesBetween(e,t,(a,f)=>{let d=a.isText?a.text.slice(Math.max(e,f)-f,t-f):a.isLeaf?o?typeof o=="function"?o(a):o:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&d||a.isTextblock)&&n&&(c?c=!1:s+=n),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,o=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(n)&&(o[o.length-1]=t.withText(t.text+n.text),s=1);s<e.content.length;s++)o.push(e.content[s]);return new H(o,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let n=[],o=0;if(t>e)for(let s=0,c=0;c<t;s++){let a=this.content[s],f=c+a.nodeSize;f>e&&((c<e||f>t)&&(a.isText?a=a.cut(Math.max(0,e-c),Math.min(a.text.length,t-c)):a=a.cut(Math.max(0,e-c-1),Math.min(a.content.size,t-c-1))),n.push(a),o+=a.nodeSize),c=f}return new H(n,o)}cutByIndex(e,t){return e==t?H.empty:e==0&&t==this.content.length?this:new H(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let o=this.content.slice(),s=this.size+t.nodeSize-n.nodeSize;return o[e]=t,new H(o,s)}addToStart(e){return new H([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new H(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let o=this.content[t];e(o,n,t),n+=o.nodeSize}}findDiffStart(e,t=0){return j0(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return H0(this,e,t,n)}findIndex(e,t=-1){if(e==0)return Ks(0,e);if(e==this.size)return Ks(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,o=0;;n++){let s=this.child(n),c=o+s.nodeSize;if(c>=e)return c==e||t>0?Ks(n+1,c):Ks(n,o);o=c}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return H.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new H(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return H.empty;let t,n=0;for(let o=0;o<e.length;o++){let s=e[o];n+=s.nodeSize,o&&s.isText&&e[o-1].sameMarkup(s)?(t||(t=e.slice(0,o)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new H(t||e,n)}static from(e){if(!e)return H.empty;if(e instanceof H)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new H([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}H.empty=new H([],0);const Ia={index:0,offset:0};function Ks(r,e){return Ia.index=r,Ia.offset=e,Ia}function ll(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!ll(r[n],e[n]))return!1}else{for(let n in r)if(!(n in e)||!ll(r[n],e[n]))return!1;for(let n in e)if(!(n in r))return!1}return!0}let Me=class df{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let o=0;o<e.length;o++){let s=e[o];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,o));else{if(s.type.excludes(this.type))return e;!n&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,o)),t.push(this),n=!0),t&&t.push(s)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ll(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let o=n.create(t.attrs);return n.checkAttrs(o.attrs),o}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return df.none;if(e instanceof df)return[e];let t=e.slice();return t.sort((n,o)=>n.type.rank-o.type.rank),t}};Me.none=[];class cl extends Error{}class Q{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=W0(this.content,e+this.openStart,t);return n&&new Q(n,this.openStart,this.openEnd)}removeBetween(e,t){return new Q(U0(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Q.empty;let n=t.openStart||0,o=t.openEnd||0;if(typeof n!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Q(H.fromJSON(e,t.content),n,o)}static maxOpen(e,t=!0){let n=0,o=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)n++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)o++;return new Q(e,n,o)}}Q.empty=new Q(H.empty,0,0);function U0(r,e,t){let{index:n,offset:o}=r.findIndex(e),s=r.maybeChild(n),{index:c,offset:a}=r.findIndex(t);if(o==e||s.isText){if(a!=t&&!r.child(c).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(n!=c)throw new RangeError("Removing non-flat range");return r.replaceChild(n,s.copy(U0(s.content,e-o-1,t-o-1)))}function W0(r,e,t,n){let{index:o,offset:s}=r.findIndex(e),c=r.maybeChild(o);if(s==e||c.isText)return r.cut(0,e).append(t).append(r.cut(e));let a=W0(c.content,e-s-1,t);return a&&r.replaceChild(o,c.copy(a))}function Wv(r,e,t){if(t.openStart>r.depth)throw new cl("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new cl("Inconsistent open depths");return K0(r,e,t,0)}function K0(r,e,t,n){let o=r.index(n),s=r.node(n);if(o==e.index(n)&&n<r.depth-t.openStart){let c=K0(r,e,t,n+1);return s.copy(s.content.replaceChild(o,c))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==n&&e.depth==n){let c=r.parent,a=c.content;return Ar(c,a.cut(0,r.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:c,end:a}=Kv(t,r);return Ar(s,G0(r,c,a,e,n))}else return Ar(s,al(r,e,n))}function J0(r,e){if(!e.type.compatibleContent(r.type))throw new cl("Cannot join "+e.type.name+" onto "+r.type.name)}function hf(r,e,t){let n=r.node(t);return J0(n,e.node(t)),n}function Tr(r,e){let t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function vi(r,e,t,n){let o=(e||r).node(t),s=0,c=e?e.index(t):o.childCount;r&&(s=r.index(t),r.depth>t?s++:r.textOffset&&(Tr(r.nodeAfter,n),s++));for(let a=s;a<c;a++)Tr(o.child(a),n);e&&e.depth==t&&e.textOffset&&Tr(e.nodeBefore,n)}function Ar(r,e){return r.type.checkContent(e),r.copy(e)}function G0(r,e,t,n,o){let s=r.depth>o&&hf(r,e,o+1),c=n.depth>o&&hf(t,n,o+1),a=[];return vi(null,r,o,a),s&&c&&e.index(o)==t.index(o)?(J0(s,c),Tr(Ar(s,G0(r,e,t,n,o+1)),a)):(s&&Tr(Ar(s,al(r,e,o+1)),a),vi(e,t,o,a),c&&Tr(Ar(c,al(t,n,o+1)),a)),vi(n,null,o,a),new H(a)}function al(r,e,t){let n=[];if(vi(null,r,t,n),r.depth>t){let o=hf(r,e,t+1);Tr(Ar(o,al(r,e,t+1)),n)}return vi(e,null,t,n),new H(n)}function Kv(r,e){let t=e.depth-r.openStart,o=e.node(t).copy(r.content);for(let s=t-1;s>=0;s--)o=e.node(s).copy(H.from(o));return{start:o.resolveNoCache(r.openStart+t),end:o.resolveNoCache(o.content.size-r.openEnd-t)}}class Ci{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],o=e.child(t);return n?e.child(t).cut(n):o}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[t*3],o=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)o+=n.child(s).nodeSize;return o}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Me.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),o=e.maybeChild(t);if(!n){let a=n;n=o,o=a}let s=n.marks;for(var c=0;c<s.length;c++)s[c].type.spec.inclusive===!1&&(!o||!s[c].isInSet(o.marks))&&(s=s[c--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,o=e.parent.maybeChild(e.index());for(var s=0;s<n.length;s++)n[s].type.spec.inclusive===!1&&(!o||!n[s].isInSet(o.marks))&&(n=n[s--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new ul(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],o=0,s=t;for(let c=e;;){let{index:a,offset:f}=c.content.findIndex(s),d=s-f;if(n.push(c,a,o+f),!d||(c=c.child(a),c.isText))break;s=d-1,o+=f+1}return new Ci(t,n,s)}static resolveCached(e,t){let n=dm.get(e);if(n)for(let s=0;s<n.elts.length;s++){let c=n.elts[s];if(c.pos==t)return c}else dm.set(e,n=new Jv);let o=n.elts[n.i]=Ci.resolve(e,t);return n.i=(n.i+1)%Gv,o}}class Jv{constructor(){this.elts=[],this.i=0}}const Gv=12,dm=new WeakMap;class ul{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Qv=Object.create(null);let Xn=class pf{constructor(e,t,n,o=Me.none){this.type=e,this.attrs=t,this.marks=o,this.content=n||H.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,o=0){this.content.nodesBetween(e,t,n,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,o){return this.content.textBetween(e,t,n,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&ll(this.attrs,t||e.defaultAttrs||Qv)&&Me.sameSet(this.marks,n||Me.none)}copy(e=null){return e==this.content?this:new pf(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new pf(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return Q.empty;let o=this.resolve(e),s=this.resolve(t),c=n?0:o.sharedDepth(t),a=o.start(c),d=o.node(c).content.cut(o.pos-a,s.pos-a);return new Q(d,o.depth-c,s.depth-c)}replace(e,t,n){return Wv(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:o}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(o==e||t.isText)return t;e-=o+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let o=this.content.child(t-1);return{node:o,index:t-1,offset:n-o.nodeSize}}resolve(e){return Ci.resolveCached(this,e)}resolveNoCache(e){return Ci.resolve(this,e)}rangeHasMark(e,t,n){let o=!1;return t>e&&this.nodesBetween(e,t,s=>(n.isInSet(s.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Q0(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=H.empty,o=0,s=n.childCount){let c=this.contentMatchAt(e).matchFragment(n,o,s),a=c&&c.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let f=o;f<s;f++)if(!this.type.allowsMarks(n.child(f).marks))return!1;return!0}canReplaceWith(e,t,n,o){if(o&&!this.type.allowsMarks(o))return!1;let s=this.contentMatchAt(e).matchType(n),c=s&&s.matchFragment(this.content,t);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Me.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Me.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let o=H.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,o,n);return s.type.checkAttrs(s.attrs),s}};Xn.prototype.text=void 0;class fl extends Xn{constructor(e,t,n,o){if(super(e,t,null,o),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Q0(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new fl(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new fl(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Q0(r,e){for(let t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}class Rr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new Zv(e,t);if(n.next==null)return Rr.empty;let o=Z0(n);n.next&&n.err("Unexpected trailing text");let s=ox(rx(o));return ix(s,n),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let o=this;for(let s=t;o&&s<n;s++)o=o.matchType(e.child(s).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let o=[this];function s(c,a){let f=c.matchFragment(e,n);if(f&&(!t||f.validEnd))return H.from(a.map(d=>d.createAndFill()));for(let d=0;d<c.next.length;d++){let{type:p,next:m}=c.next[d];if(!(p.isText||p.hasRequiredAttrs())&&o.indexOf(m)==-1){o.push(m);let k=s(m,a.concat(p));if(k)return k}}return null}return s(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let o=n.shift(),s=o.match;if(s.matchType(e)){let c=[];for(let a=o;a.type;a=a.via)c.push(a.type);return c.reverse()}for(let c=0;c<s.next.length;c++){let{type:a,next:f}=s.next[c];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!o.type||f.validEnd)&&(n.push({match:a.contentMatch,type:a,via:o}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let o=0;o<n.next.length;o++)e.indexOf(n.next[o].next)==-1&&t(n.next[o].next)}return t(this),e.map((n,o)=>{let s=o+(n.validEnd?"*":" ")+" ";for(let c=0;c<n.next.length;c++)s+=(c?", ":"")+n.next[c].type.name+"->"+e.indexOf(n.next[c].next);return s}).join(`
`)}}Rr.empty=new Rr(!0);class Zv{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Z0(r){let e=[];do e.push(Yv(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Yv(r){let e=[];do e.push(Xv(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Xv(r){let e=nx(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=ex(r,e);else break;return e}function hm(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function ex(r,e){let t=hm(r),n=t;return r.eat(",")&&(r.next!="}"?n=hm(r):n=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function tx(r,e){let t=r.nodeTypes,n=t[e];if(n)return[n];let o=[];for(let s in t){let c=t[s];c.isInGroup(e)&&o.push(c)}return o.length==0&&r.err("No node type or group '"+e+"' found"),o}function nx(r){if(r.eat("(")){let e=Z0(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=tx(r,r.next).map(t=>(r.inline==null?r.inline=t.isInline:r.inline!=t.isInline&&r.err("Mixing inline and block content"),{type:"name",value:t}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function rx(r){let e=[[]];return o(s(r,0),t()),e;function t(){return e.push([])-1}function n(c,a,f){let d={term:f,to:a};return e[c].push(d),d}function o(c,a){c.forEach(f=>f.to=a)}function s(c,a){if(c.type=="choice")return c.exprs.reduce((f,d)=>f.concat(s(d,a)),[]);if(c.type=="seq")for(let f=0;;f++){let d=s(c.exprs[f],a);if(f==c.exprs.length-1)return d;o(d,a=t())}else if(c.type=="star"){let f=t();return n(a,f),o(s(c.expr,f),f),[n(f)]}else if(c.type=="plus"){let f=t();return o(s(c.expr,a),f),o(s(c.expr,f),f),[n(f)]}else{if(c.type=="opt")return[n(a)].concat(s(c.expr,a));if(c.type=="range"){let f=a;for(let d=0;d<c.min;d++){let p=t();o(s(c.expr,f),p),f=p}if(c.max==-1)o(s(c.expr,f),f);else for(let d=c.min;d<c.max;d++){let p=t();n(f,p),o(s(c.expr,f),p),f=p}return[n(f)]}else{if(c.type=="name")return[n(a,void 0,c.value)];throw new Error("Unknown expr type")}}}}function Y0(r,e){return e-r}function pm(r,e){let t=[];return n(e),t.sort(Y0);function n(o){let s=r[o];if(s.length==1&&!s[0].term)return n(s[0].to);t.push(o);for(let c=0;c<s.length;c++){let{term:a,to:f}=s[c];!a&&t.indexOf(f)==-1&&n(f)}}}function ox(r){let e=Object.create(null);return t(pm(r,0));function t(n){let o=[];n.forEach(c=>{r[c].forEach(({term:a,to:f})=>{if(!a)return;let d;for(let p=0;p<o.length;p++)o[p][0]==a&&(d=o[p][1]);pm(r,f).forEach(p=>{d||o.push([a,d=[]]),d.indexOf(p)==-1&&d.push(p)})})});let s=e[n.join(",")]=new Rr(n.indexOf(r.length-1)>-1);for(let c=0;c<o.length;c++){let a=o[c][1].sort(Y0);s.next.push({type:o[c][0],next:e[a.join(",")]||t(a)})}return s}}function ix(r,e){for(let t=0,n=[r];t<n.length;t++){let o=n[t],s=!o.validEnd,c=[];for(let a=0;a<o.next.length;a++){let{type:f,next:d}=o.next[a];c.push(f.name),s&&!(f.isText||f.hasRequiredAttrs())&&(s=!1),n.indexOf(d)==-1&&n.push(d)}s&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function X0(r){let e=Object.create(null);for(let t in r){let n=r[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function ey(r,e){let t=Object.create(null);for(let n in r){let o=e&&e[n];if(o===void 0){let s=r[n];if(s.hasDefault)o=s.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=o}return t}function ty(r,e,t,n){for(let o in e)if(!(o in r))throw new RangeError(`Unsupported attribute ${o} for ${t} of type ${o}`);for(let o in r){let s=r[o];s.validate&&s.validate(e[o])}}function ny(r,e){let t=Object.create(null);if(e)for(let n in e)t[n]=new lx(r,n,e[n]);return t}let mm=class ry{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=ny(e,n.attrs),this.defaultAttrs=X0(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Rr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:ey(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Xn(this,this.computeAttrs(e),H.from(t),Me.setFrom(n))}createChecked(e=null,t,n){return t=H.from(t),this.checkContent(t),new Xn(this,this.computeAttrs(e),t,Me.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=H.from(t),t.size){let c=this.contentMatch.fillBefore(t);if(!c)return null;t=c.append(t)}let o=this.contentMatch.matchFragment(t),s=o&&o.fillBefore(H.empty,!0);return s?new Xn(this,e,t.append(s),Me.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){ty(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Me.none:e}static compile(e,t){let n=Object.create(null);e.forEach((s,c)=>n[s]=new ry(s,t,c));let o=t.spec.topNode||"doc";if(!n[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let s in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function sx(r,e,t){let n=t.split("|");return o=>{let s=o===null?"null":typeof o;if(n.indexOf(s)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${r}, got ${s}`)}}class lx{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?sx(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Cl{constructor(e,t,n,o){this.name=e,this.rank=t,this.schema=n,this.spec=o,this.attrs=ny(e,o.attrs),this.excluded=null;let s=X0(this.attrs);this.instance=s?new Me(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Me(this,ey(this.attrs,e))}static compile(e,t){let n=Object.create(null),o=0;return e.forEach((s,c)=>n[s]=new Cl(s,o++,t,c)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){ty(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class oy{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let o in e)t[o]=e[o];t.nodes=nt.from(e.nodes),t.marks=nt.from(e.marks||{}),this.nodes=mm.compile(this.spec.nodes,this),this.marks=Cl.compile(this.spec.marks,this);let n=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let s=this.nodes[o],c=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=n[c]||(n[c]=Rr.parse(c,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?gm(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let o in this.marks){let s=this.marks[o],c=s.spec.excludes;s.excluded=c==null?[s]:c==""?[]:gm(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof mm){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,o)}text(e,t){let n=this.nodes.text;return new fl(n,n.defaultAttrs,e,Me.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Xn.fromJSON(this,e)}markFromJSON(e){return Me.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function gm(r,e){let t=[];for(let n=0;n<e.length;n++){let o=e[n],s=r.marks[o],c=s;if(s)t.push(s);else for(let a in r.marks){let f=r.marks[a];(o=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(o)>-1)&&t.push(c=f)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}function cx(r){return r.tag!=null}function ax(r){return r.style!=null}class er{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(o=>{if(cx(o))this.tags.push(o);else if(ax(o)){let s=/[^=]*/.exec(o.style)[0];n.indexOf(s)<0&&n.push(s),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let s=e.nodes[o.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let n=new km(this,t,!1);return n.addAll(e,Me.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new km(this,t,!0);return n.addAll(e,Me.none,t.from,t.to),Q.maxOpen(n.finish())}matchTag(e,t,n){for(let o=n?this.tags.indexOf(n)+1:0;o<this.tags.length;o++){let s=this.tags[o];if(dx(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let c=s.getAttrs(e);if(c===!1)continue;s.attrs=c||void 0}return s}}}matchStyle(e,t,n,o){for(let s=o?this.styles.indexOf(o)+1:0;s<this.styles.length;s++){let c=this.styles[s],a=c.style;if(!(a.indexOf(e)!=0||c.context&&!n.matchesContext(c.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(c.getAttrs){let f=c.getAttrs(t);if(f===!1)continue;c.attrs=f||void 0}return c}}}static schemaRules(e){let t=[];function n(o){let s=o.priority==null?50:o.priority,c=0;for(;c<t.length;c++){let a=t[c];if((a.priority==null?50:a.priority)<s)break}t.splice(c,0,o)}for(let o in e.marks){let s=e.marks[o].spec.parseDOM;s&&s.forEach(c=>{n(c=vm(c)),c.mark||c.ignore||c.clearMark||(c.mark=o)})}for(let o in e.nodes){let s=e.nodes[o].spec.parseDOM;s&&s.forEach(c=>{n(c=vm(c)),c.node||c.ignore||c.mark||(c.node=o)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new er(e,er.schemaRules(e)))}}const iy={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ux={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},sy={ol:!0,ul:!0},dl=1,hl=2,xi=4;function ym(r,e,t){return e!=null?(e?dl:0)|(e==="full"?hl:0):r&&r.whitespace=="pre"?dl|hl:t&~xi}class Js{constructor(e,t,n,o,s,c){this.type=e,this.attrs=t,this.marks=n,this.solid=o,this.options=c,this.content=[],this.activeMarks=Me.none,this.match=s||(c&xi?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(H.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,o;return(o=n.findWrapping(e.type))?(this.match=n,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&dl)){let n=this.content[this.content.length-1],o;if(n&&n.isText&&(o=/[ \t\r\n\u000c]+$/.exec(n.text))){let s=n;n.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-o[0].length))}}let t=H.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(H.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!iy.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class km{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let o=t.topNode,s,c=ym(null,t.preserveWhitespace,0)|(n?xi:0);o?s=new Js(o.type,o.attrs,Me.none,!0,t.topMatch||o.type.contentMatch,c):n?s=new Js(null,null,Me.none,!0,null,c):s=new Js(e.schema.topNodeType,null,Me.none,!0,null,c),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,o=this.top;if(o.options&hl||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(o.options&dl)o.options&hl?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=o.content[o.content.length-1],c=e.previousSibling;(!s||c&&c.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let o=e.nodeName.toLowerCase(),s;sy.hasOwnProperty(o)&&this.parser.normalizeLists&&fx(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,n));if(c?c.ignore:ux.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let a,f=this.top,d=this.needsBlock;if(iy.hasOwnProperty(o))f.content.length&&f.content[0].isInline&&this.open&&(this.open--,f=this.top),a=!0,f.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);return}let p=c&&c.skip?t:this.readStyles(e,t);p&&this.addAll(e,p),a&&this.sync(f),this.needsBlock=d}else{let a=this.readStyles(e,t);a&&this.addElementByRule(e,c,a,c.consuming===!1?s:void 0)}}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let s=this.parser.matchedStyles[o],c=n.getPropertyValue(s);if(c)for(let a=void 0;;){let f=this.parser.matchStyle(s,c,this,a);if(!f)break;if(f.ignore)return null;if(f.clearMark?t=t.filter(d=>!f.clearMark(d)):t=t.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)a=f;else break}}return t}addElementByRule(e,t,n,o){let s,c;if(t.node)if(c=this.parser.schema.nodes[t.node],c.isLeaf)this.insertNode(c.create(t.attrs),n)||this.leafFallback(e,n);else{let f=this.enter(c,t.attrs||null,n,t.preserveWhitespace);f&&(s=!0,n=f)}else{let f=this.parser.schema.marks[t.mark];n=n.concat(f.create(t.attrs))}let a=this.top;if(c&&c.isLeaf)this.findInside(e);else if(o)this.addElement(e,n,o);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,n));else{let f=e;typeof t.contentElement=="string"?f=e.querySelector(t.contentElement):typeof t.contentElement=="function"?f=t.contentElement(e):t.contentElement&&(f=t.contentElement),this.findAround(e,f,!0),this.addAll(f,n),this.findAround(e,f,!1)}s&&this.sync(a)&&this.open--}addAll(e,t,n,o){let s=n||0;for(let c=n?e.childNodes[n]:e.firstChild,a=o==null?null:e.childNodes[o];c!=a;c=c.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(c,t);this.findAtPoint(e,s)}findPlace(e,t){let n,o;for(let s=this.open;s>=0;s--){let c=this.nodes[s],a=c.findWrapping(e);if(a&&(!n||n.length>a.length)&&(n=a,o=c,!a.length)||c.solid)break}if(!n)return null;this.sync(o);for(let s=0;s<n.length;s++)t=this.enterInner(n[s],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let n=this.findPlace(e,t);if(n){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let s=Me.none;for(let c of n.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):xm(c.type,e.type))&&(s=c.addToSet(s));return o.content.push(e.mark(s)),!0}return!1}enter(e,t,n,o){let s=this.findPlace(e.create(t),n);return s&&(s=this.enterInner(e,t,n,!0,o)),s}enterInner(e,t,n,o=!1,s){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let a=ym(e,s,c.options);c.options&xi&&c.content.length==0&&(a|=xi);let f=Me.none;return n=n.filter(d=>(c.type?c.type.allowsMarkType(d.type):xm(d.type,e))?(f=d.addToSet(f),!1):!0),this.nodes.push(new Js(e,t,f,o,null,a)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let o=n.length-1;o>=0;o--)e+=n[o].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&t.compareDocumentPosition(this.find[o].node)&(n?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,o=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),s=-(n?n.depth+1:0)+(o?0:1),c=(a,f)=>{for(;a>=0;a--){let d=t[a];if(d==""){if(a==t.length-1||a==0)continue;for(;f>=s;f--)if(c(a-1,f))return!0;return!1}else{let p=f>0||f==0&&o?this.nodes[f].type:n&&f>=s?n.node(f-s).type:null;if(!p||p.name!=d&&!p.isInGroup(d))return!1;f--}}return!0};return c(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}}function fx(r){for(let e=r.firstChild,t=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&sy.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function dx(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function vm(r){let e={};for(let t in r)e[t]=r[t];return e}function xm(r,e){let t=e.schema.nodes;for(let n in t){let o=t[n];if(!o.allowsMarkType(r))continue;let s=[],c=a=>{s.push(a);for(let f=0;f<a.edgeCount;f++){let{type:d,next:p}=a.edge(f);if(d==e||s.indexOf(p)<0&&c(p))return!0}};if(c(o.contentMatch))return!0}}class zr{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=Pa(t).createDocumentFragment());let o=n,s=[];return e.forEach(c=>{if(s.length||c.marks.length){let a=0,f=0;for(;a<s.length&&f<c.marks.length;){let d=c.marks[f];if(!this.marks[d.type.name]){f++;continue}if(!d.eq(s[a][0])||d.type.spec.spanning===!1)break;a++,f++}for(;a<s.length;)o=s.pop()[1];for(;f<c.marks.length;){let d=c.marks[f++],p=this.serializeMark(d,c.isInline,t);p&&(s.push([d,o]),o.appendChild(p.dom),o=p.contentDOM||p.dom)}}o.appendChild(this.serializeNodeInner(c,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:o}=rl(Pa(t),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,o)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let o=e.marks.length-1;o>=0;o--){let s=this.serializeMark(e.marks[o],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(e,t,n={}){let o=this.marks[e.type.name];return o&&rl(Pa(n),o(e,t),null,e.attrs)}static renderSpec(e,t,n=null,o){return rl(e,t,n,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new zr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Sm(e.nodes);return t.text||(t.text=n=>n.text),t}static marksFromSchema(e){return Sm(e.marks)}}function Sm(r){let e={};for(let t in r){let n=r[t].spec.toDOM;n&&(e[t]=n)}return e}function Pa(r){return r.document||window.document}const wm=new WeakMap;function hx(r){let e=wm.get(r);return e===void 0&&wm.set(r,e=px(r)),e}function px(r){let e=null;function t(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let o=0;o<n.length;o++)t(n[o]);else for(let o in n)t(n[o])}return t(r),e}function rl(r,e,t,n){if(typeof e=="string")return{dom:r.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],s;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(s=hx(n))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=o.indexOf(" ");c>0&&(t=o.slice(0,c),o=o.slice(c+1));let a,f=t?r.createElementNS(t,o):r.createElement(o),d=e[1],p=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){p=2;for(let m in d)if(d[m]!=null){let k=m.indexOf(" ");k>0?f.setAttributeNS(m.slice(0,k),m.slice(k+1),d[m]):f.setAttribute(m,d[m])}}for(let m=p;m<e.length;m++){let k=e[m];if(k===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:v,contentDOM:x}=rl(r,k,t,n);if(f.appendChild(v),x){if(a)throw new RangeError("Multiple content holes");a=x}}}return{dom:f,contentDOM:a}}const ly=65535,cy=Math.pow(2,16);function mx(r,e){return r+e*cy}function Cm(r){return r&ly}function gx(r){return(r-(r&ly))/cy}const ay=1,uy=2,ol=4,fy=8;class mf{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&fy)>0}get deletedBefore(){return(this.delInfo&(ay|ol))>0}get deletedAfter(){return(this.delInfo&(uy|ol))>0}get deletedAcross(){return(this.delInfo&ol)>0}}class It{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&It.empty)return It.empty}recover(e){let t=0,n=Cm(e);if(!this.inverted)for(let o=0;o<n;o++)t+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[n*3]+t+gx(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let o=0,s=this.inverted?2:1,c=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let f=this.ranges[a]-(this.inverted?o:0);if(f>e)break;let d=this.ranges[a+s],p=this.ranges[a+c],m=f+d;if(e<=m){let k=d?e==f?-1:e==m?1:t:t,v=f+o+(k<0?0:p);if(n)return v;let x=e==(t<0?f:m)?null:mx(a/3,e-f),w=e==f?uy:e==m?ay:ol;return(t<0?e!=f:e!=m)&&(w|=fy),new mf(v,w,x)}o+=p-d}return n?e+o:new mf(e+o,0,null)}touches(e,t){let n=0,o=Cm(t),s=this.inverted?2:1,c=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let f=this.ranges[a]-(this.inverted?n:0);if(f>e)break;let d=this.ranges[a+s],p=f+d;if(e<=p&&a==o*3)return!0;n+=this.ranges[a+c]-d}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let o=0,s=0;o<this.ranges.length;o+=3){let c=this.ranges[o],a=c-(this.inverted?s:0),f=c+(this.inverted?0:s),d=this.ranges[o+t],p=this.ranges[o+n];e(a,a+d,f,f+p),s+=p-d}}invert(){return new It(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?It.empty:new It(e<0?[0,-e,0]:[0,0,e])}}It.empty=new It([]);class go{constructor(e=[],t,n=0,o=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=o}slice(e=0,t=this.maps.length){return new go(this.maps,this.mirror,e,t)}copy(){return new go(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let o=e.getMirror(t);this.appendMap(e.maps[t],o!=null&&o<t?n+o:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let o=e.getMirror(t);this.appendMap(e.maps[t].invert(),o!=null&&o>t?n-o-1:void 0)}}invert(){let e=new go;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let o=0;for(let s=this.from;s<this.to;s++){let c=this.maps[s],a=c.mapResult(e,t);if(a.recover!=null){let f=this.getMirror(s);if(f!=null&&f>s&&f<this.to){s=f,e=this.maps[f].recover(a.recover);continue}}o|=a.delInfo,e=a.pos}return n?e:new mf(e,o,null)}}const za=Object.create(null);class dt{getMap(){return It.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=za[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in za)throw new RangeError("Duplicate use of step JSON ID "+e);return za[e]=t,t.prototype.jsonID=e,t}}class $e{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new $e(e,null)}static fail(e){return new $e(null,e)}static fromReplace(e,t,n,o){try{return $e.ok(e.replace(t,n,o))}catch(s){if(s instanceof cl)return $e.fail(s.message);throw s}}}function If(r,e,t){let n=[];for(let o=0;o<r.childCount;o++){let s=r.child(o);s.content.size&&(s=s.copy(If(s.content,e,s))),s.isInline&&(s=e(s,t,o)),n.push(s)}return H.fromArray(n)}class Qn extends dt{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),o=n.node(n.sharedDepth(this.to)),s=new Q(If(t.content,(c,a)=>!c.isAtom||!a.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),o),t.openStart,t.openEnd);return $e.fromReplace(e,this.from,this.to,s)}invert(){return new an(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Qn(t.pos,n.pos,this.mark)}merge(e){return e instanceof Qn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Qn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Qn(t.from,t.to,e.markFromJSON(t.mark))}}dt.jsonID("addMark",Qn);class an extends dt{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new Q(If(t.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),t.openStart,t.openEnd);return $e.fromReplace(e,this.from,this.to,n)}invert(){return new Qn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new an(t.pos,n.pos,this.mark)}merge(e){return e instanceof an&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new an(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new an(t.from,t.to,e.markFromJSON(t.mark))}}dt.jsonID("removeMark",an);class Zn extends dt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return $e.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return $e.fromReplace(e,this.pos,this.pos+1,new Q(H.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let o=0;o<t.marks.length;o++)if(!t.marks[o].isInSet(n))return new Zn(this.pos,t.marks[o]);return new Zn(this.pos,this.mark)}}return new So(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Zn(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Zn(t.pos,e.markFromJSON(t.mark))}}dt.jsonID("addNodeMark",Zn);class So extends dt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return $e.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return $e.fromReplace(e,this.pos,this.pos+1,new Q(H.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Zn(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new So(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new So(t.pos,e.markFromJSON(t.mark))}}dt.jsonID("removeNodeMark",So);class Qe extends dt{constructor(e,t,n,o=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=o}apply(e){return this.structure&&gf(e,this.from,this.to)?$e.fail("Structure replace would overwrite content"):$e.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new It([this.from,this.to-this.from,this.slice.size])}invert(e){return new Qe(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Qe(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Qe)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Q.empty:new Q(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Qe(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Q.empty:new Q(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Qe(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Qe(t.from,t.to,Q.fromJSON(e,t.slice),!!t.structure)}}dt.jsonID("replace",Qe);class Ze extends dt{constructor(e,t,n,o,s,c,a=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=o,this.slice=s,this.insert=c,this.structure=a}apply(e){if(this.structure&&(gf(e,this.from,this.gapFrom)||gf(e,this.gapTo,this.to)))return $e.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return $e.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?$e.fromReplace(e,this.from,this.to,n):$e.fail("Content does not fit in gap")}getMap(){return new It([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Ze(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),o=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||o<t.pos||s>n.pos?null:new Ze(t.pos,n.pos,o,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ze(t.from,t.to,t.gapFrom,t.gapTo,Q.fromJSON(e,t.slice),t.insert,!!t.structure)}}dt.jsonID("replaceAround",Ze);function gf(r,e,t){let n=r.resolve(e),o=t-e,s=n.depth;for(;o>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,o--;if(o>0){let c=n.node(s).maybeChild(n.indexAfter(s));for(;o>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,o--}}return!1}function yx(r,e,t,n){let o=[],s=[],c,a;r.doc.nodesBetween(e,t,(f,d,p)=>{if(!f.isInline)return;let m=f.marks;if(!n.isInSet(m)&&p.type.allowsMarkType(n.type)){let k=Math.max(d,e),v=Math.min(d+f.nodeSize,t),x=n.addToSet(m);for(let w=0;w<m.length;w++)m[w].isInSet(x)||(c&&c.to==k&&c.mark.eq(m[w])?c.to=v:o.push(c=new an(k,v,m[w])));a&&a.to==k?a.to=v:s.push(a=new Qn(k,v,n))}}),o.forEach(f=>r.step(f)),s.forEach(f=>r.step(f))}function kx(r,e,t,n){let o=[],s=0;r.doc.nodesBetween(e,t,(c,a)=>{if(!c.isInline)return;s++;let f=null;if(n instanceof Cl){let d=c.marks,p;for(;p=n.isInSet(d);)(f||(f=[])).push(p),d=p.removeFromSet(d)}else n?n.isInSet(c.marks)&&(f=[n]):f=c.marks;if(f&&f.length){let d=Math.min(a+c.nodeSize,t);for(let p=0;p<f.length;p++){let m=f[p],k;for(let v=0;v<o.length;v++){let x=o[v];x.step==s-1&&m.eq(o[v].style)&&(k=x)}k?(k.to=d,k.step=s):o.push({style:m,from:Math.max(a,e),to:d,step:s})}}}),o.forEach(c=>r.step(new an(c.from,c.to,c.style)))}function Pf(r,e,t,n=t.contentMatch,o=!0){let s=r.doc.nodeAt(e),c=[],a=e+1;for(let f=0;f<s.childCount;f++){let d=s.child(f),p=a+d.nodeSize,m=n.matchType(d.type);if(!m)c.push(new Qe(a,p,Q.empty));else{n=m;for(let k=0;k<d.marks.length;k++)t.allowsMarkType(d.marks[k].type)||r.step(new an(a,p,d.marks[k]));if(o&&d.isText&&t.whitespace!="pre"){let k,v=/\r?\n|\r/g,x;for(;k=v.exec(d.text);)x||(x=new Q(H.from(t.schema.text(" ",t.allowedMarks(d.marks))),0,0)),c.push(new Qe(a+k.index,a+k.index+k[0].length,x))}}a=p}if(!n.validEnd){let f=n.fillBefore(H.empty,!0);r.replace(a,a,new Q(f,0,0))}for(let f=c.length-1;f>=0;f--)r.step(c[f])}function vx(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function Mo(r){let t=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let n=r.depth;;--n){let o=r.$from.node(n),s=r.$from.index(n),c=r.$to.indexAfter(n);if(n<r.depth&&o.canReplace(s,c,t))return n;if(n==0||o.type.spec.isolating||!vx(o,s,c))break}return null}function xx(r,e,t){let{$from:n,$to:o,depth:s}=e,c=n.before(s+1),a=o.after(s+1),f=c,d=a,p=H.empty,m=0;for(let x=s,w=!1;x>t;x--)w||n.index(x)>0?(w=!0,p=H.from(n.node(x).copy(p)),m++):f--;let k=H.empty,v=0;for(let x=s,w=!1;x>t;x--)w||o.after(x+1)<o.end(x)?(w=!0,k=H.from(o.node(x).copy(k)),v++):d++;r.step(new Ze(f,d,c,a,new Q(p.append(k),m,v),p.size-m,!0))}function zf(r,e,t=null,n=r){let o=Sx(r,e),s=o&&wx(n,e);return s?o.map(Em).concat({type:e,attrs:t}).concat(s.map(Em)):null}function Em(r){return{type:r,attrs:null}}function Sx(r,e){let{parent:t,startIndex:n,endIndex:o}=r,s=t.contentMatchAt(n).findWrapping(e);if(!s)return null;let c=s.length?s[0]:e;return t.canReplaceWith(n,o,c)?s:null}function wx(r,e){let{parent:t,startIndex:n,endIndex:o}=r,s=t.child(n),c=e.contentMatch.findWrapping(s.type);if(!c)return null;let f=(c.length?c[c.length-1]:e).contentMatch;for(let d=n;f&&d<o;d++)f=f.matchType(t.child(d).type);return!f||!f.validEnd?null:c}function Cx(r,e,t){let n=H.empty;for(let c=t.length-1;c>=0;c--){if(n.size){let a=t[c].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=H.from(t[c].type.create(t[c].attrs,n))}let o=e.start,s=e.end;r.step(new Ze(o,s,o,s,new Q(n,0,0),t.length,!0))}function Ex(r,e,t,n,o){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=r.steps.length;r.doc.nodesBetween(e,t,(c,a)=>{let f=typeof o=="function"?o(c):o;if(c.isTextblock&&!c.hasMarkup(n,f)&&_x(r.doc,r.mapping.slice(s).map(a),n)){let d=null;if(n.schema.linebreakReplacement){let v=n.whitespace=="pre",x=!!n.contentMatch.matchType(n.schema.linebreakReplacement);v&&!x?d=!1:!v&&x&&(d=!0)}d===!1&&hy(r,c,a,s),Pf(r,r.mapping.slice(s).map(a,1),n,void 0,d===null);let p=r.mapping.slice(s),m=p.map(a,1),k=p.map(a+c.nodeSize,1);return r.step(new Ze(m,k,m+1,k-1,new Q(H.from(n.create(f,null,c.marks)),0,0),1,!0)),d===!0&&dy(r,c,a,s),!1}})}function dy(r,e,t,n){e.forEach((o,s)=>{if(o.isText){let c,a=/\r?\n|\r/g;for(;c=a.exec(o.text);){let f=r.mapping.slice(n).map(t+1+s+c.index);r.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function hy(r,e,t,n){e.forEach((o,s)=>{if(o.type==o.type.schema.linebreakReplacement){let c=r.mapping.slice(n).map(t+1+s);r.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function _x(r,e,t){let n=r.resolve(e),o=n.index();return n.parent.canReplaceWith(o,o+1,t)}function bx(r,e,t,n,o){let s=r.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let c=t.create(n,null,o||s.marks);if(s.isLeaf)return r.replaceWith(e,e+s.nodeSize,c);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);r.step(new Ze(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Q(H.from(c),0,0),1,!0))}function yo(r,e,t=1,n){let o=r.resolve(e),s=o.depth-t,c=n&&n[n.length-1]||o.parent;if(s<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!c.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let d=o.depth-1,p=t-2;d>s;d--,p--){let m=o.node(d),k=o.index(d);if(m.type.spec.isolating)return!1;let v=m.content.cutByIndex(k,m.childCount),x=n&&n[p+1];x&&(v=v.replaceChild(0,x.type.create(x.attrs)));let w=n&&n[p]||m;if(!m.canReplace(k+1,m.childCount)||!w.type.validContent(v))return!1}let a=o.indexAfter(s),f=n&&n[0];return o.node(s).canReplaceWith(a,a,f?f.type:o.node(s+1).type)}function Mx(r,e,t=1,n){let o=r.doc.resolve(e),s=H.empty,c=H.empty;for(let a=o.depth,f=o.depth-t,d=t-1;a>f;a--,d--){s=H.from(o.node(a).copy(s));let p=n&&n[d];c=H.from(p?p.type.create(p.attrs,c):o.node(a).copy(c))}r.step(new Qe(e,e,new Q(s.append(c),t,t),!0))}function sr(r,e){let t=r.resolve(e),n=t.index();return py(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function Tx(r,e){e.content.size||r.type.compatibleContent(e.type);let t=r.contentMatchAt(r.childCount),{linebreakReplacement:n}=r.type.schema;for(let o=0;o<e.childCount;o++){let s=e.child(o),c=s.type==n?r.type.schema.nodes.text:s.type;if(t=t.matchType(c),!t||!r.type.allowsMarks(s.marks))return!1}return t.validEnd}function py(r,e){return!!(r&&e&&!r.isLeaf&&Tx(r,e))}function El(r,e,t=-1){let n=r.resolve(e);for(let o=n.depth;;o--){let s,c,a=n.index(o);if(o==n.depth?(s=n.nodeBefore,c=n.nodeAfter):t>0?(s=n.node(o+1),a++,c=n.node(o).maybeChild(a)):(s=n.node(o).maybeChild(a-1),c=n.node(o+1)),s&&!s.isTextblock&&py(s,c)&&n.node(o).canReplace(a,a+1))return e;if(o==0)break;e=t<0?n.before(o):n.after(o)}}function Ax(r,e,t){let n=null,{linebreakReplacement:o}=r.doc.type.schema,s=r.doc.resolve(e-t),c=s.node().type;if(o&&c.inlineContent){let p=c.whitespace=="pre",m=!!c.contentMatch.matchType(o);p&&!m?n=!1:!p&&m&&(n=!0)}let a=r.steps.length;if(n===!1){let p=r.doc.resolve(e+t);hy(r,p.node(),p.before(),a)}c.inlineContent&&Pf(r,e+t-1,c,s.node().contentMatchAt(s.index()),n==null);let f=r.mapping.slice(a),d=f.map(e-t);if(r.step(new Qe(d,f.map(e+t,-1),Q.empty,!0)),n===!0){let p=r.doc.resolve(d);dy(r,p.node(),p.before(),r.steps.length)}return r}function Dx(r,e,t){let n=r.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let o=n.depth-1;o>=0;o--){let s=n.index(o);if(n.node(o).canReplaceWith(s,s,t))return n.before(o+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(let o=n.depth-1;o>=0;o--){let s=n.indexAfter(o);if(n.node(o).canReplaceWith(s,s,t))return n.after(o+1);if(s<n.node(o).childCount)return null}return null}function my(r,e,t){let n=r.resolve(e);if(!t.content.size)return e;let o=t.content;for(let s=0;s<t.openStart;s++)o=o.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let c=n.depth;c>=0;c--){let a=c==n.depth?0:n.pos<=(n.start(c+1)+n.end(c+1))/2?-1:1,f=n.index(c)+(a>0?1:0),d=n.node(c),p=!1;if(s==1)p=d.canReplace(f,f,o);else{let m=d.contentMatchAt(f).findWrapping(o.firstChild.type);p=m&&d.canReplaceWith(f,f,m[0])}if(p)return a==0?n.pos:a<0?n.before(c+1):n.after(c+1)}return null}function _l(r,e,t=e,n=Q.empty){if(e==t&&!n.size)return null;let o=r.resolve(e),s=r.resolve(t);return gy(o,s,n)?new Qe(e,t,n):new Nx(o,s,n).fit()}function gy(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}class Nx{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=H.empty;for(let o=0;o<=e.depth;o++){let s=e.node(o);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=H.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,o=this.close(e<0?this.$to:n.doc.resolve(e));if(!o)return null;let s=this.placed,c=n.depth,a=o.depth;for(;c&&a&&s.childCount==1;)s=s.firstChild.content,c--,a--;let f=new Q(s,c,a);return e>-1?new Ze(n.pos,e,this.$to.pos,this.$to.end(),f,t):f.size||n.pos!=this.$to.pos?new Qe(n.pos,o.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,o=this.unplaced.openEnd;n<e;n++){let s=t.firstChild;if(t.childCount>1&&(o=0),s.type.spec.isolating&&o<=n){e=n;break}t=s.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let o,s=null;n?(s=La(this.unplaced.content,n-1).firstChild,o=s.content):o=this.unplaced.content;let c=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:f,match:d}=this.frontier[a],p,m=null;if(t==1&&(c?d.matchType(c.type)||(m=d.fillBefore(H.from(c),!1)):s&&f.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:a,parent:s,inject:m};if(t==2&&c&&(p=d.findWrapping(c.type)))return{sliceDepth:n,frontierDepth:a,parent:s,wrap:p};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,o=La(e,t);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new Q(e,t+1,Math.max(n,o.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,o=La(e,t);if(o.childCount<=1&&t>0){let s=e.size-t<=t+o.size;this.unplaced=new Q(gi(e,t-1,1),t-1,s?t-1:n)}else this.unplaced=new Q(gi(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:o,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let w=0;w<s.length;w++)this.openFrontierNode(s[w]);let c=this.unplaced,a=n?n.content:c.content,f=c.openStart-e,d=0,p=[],{match:m,type:k}=this.frontier[t];if(o){for(let w=0;w<o.childCount;w++)p.push(o.child(w));m=m.matchFragment(o)}let v=a.size+e-(c.content.size-c.openEnd);for(;d<a.childCount;){let w=a.child(d),C=m.matchType(w.type);if(!C)break;d++,(d>1||f==0||w.content.size)&&(m=C,p.push(yy(w.mark(k.allowedMarks(w.marks)),d==1?f:0,d==a.childCount?v:-1)))}let x=d==a.childCount;x||(v=-1),this.placed=yi(this.placed,t,H.from(p)),this.frontier[t].match=m,x&&v<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,C=a;w<v;w++){let E=C.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),C=E.content}this.unplaced=x?e==0?Q.empty:new Q(gi(c.content,e-1,1),e-1,v<0?c.openEnd:e-1):new Q(gi(c.content,e,d),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Fa(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,o=this.$to.after(n);for(;n>1&&o==this.$to.end(--n);)++o;return o}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:o}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),c=Fa(e,t,o,n,s);if(c){for(let a=t-1;a>=0;a--){let{match:f,type:d}=this.frontier[a],p=Fa(e,a,d,f,!0);if(!p||p.childCount)continue e}return{depth:t,fit:c,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=yi(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let o=e.node(n),s=o.type.contentMatch.fillBefore(o.content,!0,e.index(n));this.openFrontierNode(o.type,o.attrs,s)}return e}openFrontierNode(e,t=null,n){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=yi(this.placed,this.depth,H.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(H.empty,!0);t.childCount&&(this.placed=yi(this.placed,this.frontier.length,t))}}function gi(r,e,t){return e==0?r.cutByIndex(t,r.childCount):r.replaceChild(0,r.firstChild.copy(gi(r.firstChild.content,e-1,t)))}function yi(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(yi(r.lastChild.content,e-1,t)))}function La(r,e){for(let t=0;t<e;t++)r=r.firstChild.content;return r}function yy(r,e,t){if(e<=0)return r;let n=r.content;return e>1&&(n=n.replaceChild(0,yy(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=r.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(H.empty,!0)))),r.copy(n)}function Fa(r,e,t,n,o){let s=r.node(e),c=o?r.indexAfter(e):r.index(e);if(c==s.childCount&&!t.compatibleContent(s.type))return null;let a=n.fillBefore(s.content,!0,c);return a&&!Ox(t,s.content,c)?a:null}function Ox(r,e,t){for(let n=t;n<e.childCount;n++)if(!r.allowsMarks(e.child(n).marks))return!0;return!1}function Rx(r){return r.spec.defining||r.spec.definingForContent}function Ix(r,e,t,n){if(!n.size)return r.deleteRange(e,t);let o=r.doc.resolve(e),s=r.doc.resolve(t);if(gy(o,s,n))return r.step(new Qe(e,t,n));let c=vy(o,r.doc.resolve(t));c[c.length-1]==0&&c.pop();let a=-(o.depth+1);c.unshift(a);for(let k=o.depth,v=o.pos-1;k>0;k--,v--){let x=o.node(k).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;c.indexOf(k)>-1?a=k:o.before(k)==v&&c.splice(1,0,-k)}let f=c.indexOf(a),d=[],p=n.openStart;for(let k=n.content,v=0;;v++){let x=k.firstChild;if(d.push(x),v==n.openStart)break;k=x.content}for(let k=p-1;k>=0;k--){let v=d[k],x=Rx(v.type);if(x&&!v.sameMarkup(o.node(Math.abs(a)-1)))p=k;else if(x||!v.type.isTextblock)break}for(let k=n.openStart;k>=0;k--){let v=(k+p+1)%(n.openStart+1),x=d[v];if(x)for(let w=0;w<c.length;w++){let C=c[(w+f)%c.length],E=!0;C<0&&(E=!1,C=-C);let A=o.node(C-1),b=o.index(C-1);if(A.canReplaceWith(b,b,x.type,x.marks))return r.replace(o.before(C),E?s.after(C):t,new Q(ky(n.content,0,n.openStart,v),v,n.openEnd))}}let m=r.steps.length;for(let k=c.length-1;k>=0&&(r.replace(e,t,n),!(r.steps.length>m));k--){let v=c[k];v<0||(e=o.before(v),t=s.after(v))}}function ky(r,e,t,n,o){if(e<t){let s=r.firstChild;r=r.replaceChild(0,s.copy(ky(s.content,e+1,t,n,s)))}if(e>n){let s=o.contentMatchAt(0),c=s.fillBefore(r).append(r);r=c.append(s.matchFragment(c).fillBefore(H.empty,!0))}return r}function Px(r,e,t,n){if(!n.isInline&&e==t&&r.doc.resolve(e).parent.content.size){let o=Dx(r.doc,e,n.type);o!=null&&(e=t=o)}r.replaceRange(e,t,new Q(H.from(n),0,0))}function zx(r,e,t){let n=r.doc.resolve(e),o=r.doc.resolve(t),s=vy(n,o);for(let c=0;c<s.length;c++){let a=s[c],f=c==s.length-1;if(f&&a==0||n.node(a).type.contentMatch.validEnd)return r.delete(n.start(a),o.end(a));if(a>0&&(f||n.node(a-1).canReplace(n.index(a-1),o.indexAfter(a-1))))return r.delete(n.before(a),o.after(a))}for(let c=1;c<=n.depth&&c<=o.depth;c++)if(e-n.start(c)==n.depth-c&&t>n.end(c)&&o.end(c)-t!=o.depth-c&&n.start(c-1)==o.start(c-1)&&n.node(c-1).canReplace(n.index(c-1),o.index(c-1)))return r.delete(n.before(c),t);r.delete(e,t)}function vy(r,e){let t=[],n=Math.min(r.depth,e.depth);for(let o=n;o>=0;o--){let s=r.start(o);if(s<r.pos-(r.depth-o)||e.end(o)>e.pos+(e.depth-o)||r.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(s==e.start(o)||o==r.depth&&o==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==s-1)&&t.push(o)}return t}class ko extends dt{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return $e.fail("No node at attribute step's position");let n=Object.create(null);for(let s in t.attrs)n[s]=t.attrs[s];n[this.attr]=this.value;let o=t.type.create(n,null,t.marks);return $e.fromReplace(e,this.pos,this.pos+1,new Q(H.from(o),0,t.isLeaf?0:1))}getMap(){return It.empty}invert(e){return new ko(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ko(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ko(t.pos,t.attr,t.value)}}dt.jsonID("attr",ko);class Ei extends dt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let o in e.attrs)t[o]=e.attrs[o];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return $e.ok(n)}getMap(){return It.empty}invert(e){return new Ei(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ei(t.attr,t.value)}}dt.jsonID("docAttr",Ei);let wo=class extends Error{};wo=function r(e){let t=Error.call(this,e);return t.__proto__=r.prototype,t};wo.prototype=Object.create(Error.prototype);wo.prototype.constructor=wo;wo.prototype.name="TransformError";class Lx{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new go}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new wo(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=Q.empty){let o=_l(this.doc,e,t,n);return o&&this.step(o),this}replaceWith(e,t,n){return this.replace(e,t,new Q(H.from(n),0,0))}delete(e,t){return this.replace(e,t,Q.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return Ix(this,e,t,n),this}replaceRangeWith(e,t,n){return Px(this,e,t,n),this}deleteRange(e,t){return zx(this,e,t),this}lift(e,t){return xx(this,e,t),this}join(e,t=1){return Ax(this,e,t),this}wrap(e,t){return Cx(this,e,t),this}setBlockType(e,t=e,n,o=null){return Ex(this,e,t,n,o),this}setNodeMarkup(e,t,n=null,o){return bx(this,e,t,n,o),this}setNodeAttribute(e,t,n){return this.step(new ko(e,t,n)),this}setDocAttribute(e,t){return this.step(new Ei(e,t)),this}addNodeMark(e,t){return this.step(new Zn(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Me)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t=t.isInSet(n.marks),!t)return this}return this.step(new So(e,t)),this}split(e,t=1,n){return Mx(this,e,t,n),this}addMark(e,t,n){return yx(this,e,t,n),this}removeMark(e,t,n){return kx(this,e,t,n),this}clearIncompatible(e,t,n){return Pf(this,e,t,n),this}}const Ba=Object.create(null);class de{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new Fx(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Q.empty){let n=t.content.lastChild,o=null;for(let a=0;a<t.openEnd;a++)o=n,n=n.lastChild;let s=e.steps.length,c=this.ranges;for(let a=0;a<c.length;a++){let{$from:f,$to:d}=c[a],p=e.mapping.slice(s);e.replaceRange(p.map(f.pos),p.map(d.pos),a?Q.empty:t),a==0&&Mm(e,s,(n?n.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:c,$to:a}=o[s],f=e.mapping.slice(n),d=f.map(c.pos),p=f.map(a.pos);s?e.deleteRange(d,p):(e.replaceRangeWith(d,p,t),Mm(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let o=e.parent.inlineContent?new ue(e):fo(e.node(0),e.parent,e.pos,e.index(),t,n);if(o)return o;for(let s=e.depth-1;s>=0;s--){let c=t<0?fo(e.node(0),e.node(s),e.before(s+1),e.index(s),t,n):fo(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,n);if(c)return c}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new en(e.node(0))}static atStart(e){return fo(e,e,0,0,1)||new en(e)}static atEnd(e){return fo(e,e,e.content.size,e.childCount,-1)||new en(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Ba[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Ba)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ba[e]=t,t.prototype.jsonID=e,t}getBookmark(){return ue.between(this.$anchor,this.$head).getBookmark()}}de.prototype.visible=!0;class Fx{constructor(e,t){this.$from=e,this.$to=t}}let _m=!1;function bm(r){!_m&&!r.parent.inlineContent&&(_m=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class ue extends de{constructor(e,t=e){bm(e),bm(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return de.near(n);let o=e.resolve(t.map(this.anchor));return new ue(o.parent.inlineContent?o:n,n)}replace(e,t=Q.empty){if(super.replace(e,t),t==Q.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof ue&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new bl(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ue(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let o=e.resolve(t);return new this(o,n==t?o:e.resolve(n))}static between(e,t,n){let o=e.pos-t.pos;if((!n||o)&&(n=o>=0?1:-1),!t.parent.inlineContent){let s=de.findFrom(t,n,!0)||de.findFrom(t,-n,!0);if(s)t=s.$head;else return de.near(t,n)}return e.parent.inlineContent||(o==0?e=t:(e=(de.findFrom(e,-n,!0)||de.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=o<0&&(e=t))),new ue(e,t)}}de.jsonID("text",ue);class bl{constructor(e,t){this.anchor=e,this.head=t}map(e){return new bl(e.map(this.anchor),e.map(this.head))}resolve(e){return ue.between(e.resolve(this.anchor),e.resolve(this.head))}}class le extends de{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:o}=t.mapResult(this.anchor),s=e.resolve(o);return n?de.near(s):new le(s)}content(){return new Q(H.from(this.node),0,0)}eq(e){return e instanceof le&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Lf(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new le(e.resolve(t.anchor))}static create(e,t){return new le(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}le.prototype.visible=!1;de.jsonID("node",le);class Lf{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new bl(n,n):new Lf(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&le.isSelectable(n)?new le(t):de.near(t)}}class en extends de{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Q.empty){if(t==Q.empty){e.delete(0,e.doc.content.size);let n=de.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new en(e)}map(e){return new en(e)}eq(e){return e instanceof en}getBookmark(){return Bx}}de.jsonID("all",en);const Bx={map(){return this},resolve(r){return new en(r)}};function fo(r,e,t,n,o,s=!1){if(e.inlineContent)return ue.create(r,t);for(let c=n-(o>0?0:1);o>0?c<e.childCount:c>=0;c+=o){let a=e.child(c);if(a.isAtom){if(!s&&le.isSelectable(a))return le.create(r,t-(o<0?a.nodeSize:0))}else{let f=fo(r,a,t+o,o<0?a.childCount:0,o,s);if(f)return f}t+=a.nodeSize*o}return null}function Mm(r,e,t){let n=r.steps.length-1;if(n<e)return;let o=r.steps[n];if(!(o instanceof Qe||o instanceof Ze))return;let s=r.mapping.maps[n],c;s.forEach((a,f,d,p)=>{c==null&&(c=p)}),r.setSelection(de.near(r.doc.resolve(c),t))}const Tm=1,Gs=2,Am=4;class qx extends Lx{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Tm)&~Gs,this.storedMarks=null,this}get selectionSet(){return(this.updated&Tm)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Gs,this}ensureMarks(e){return Me.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Gs)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Gs,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Me.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let o=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),n=n??t,!e)return this.deleteRange(t,n);let s=this.storedMarks;if(!s){let c=this.doc.resolve(t);s=n==t?c.marks():c.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,o.text(e,s)),this.selection.empty||this.setSelection(de.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Am,this}get scrolledIntoView(){return(this.updated&Am)>0}}function Dm(r,e){return!e||!r?r:r.bind(e)}class ki{constructor(e,t,n){this.name=e,this.init=Dm(t.init,n),this.apply=Dm(t.apply,n)}}const Vx=[new ki("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new ki("selection",{init(r,e){return r.selection||de.atStart(e.doc)},apply(r){return r.selection}}),new ki("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,t,n){return n.selection.$cursor?r.storedMarks:null}}),new ki("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})];class qa{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Vx.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new ki(n.key,n.spec.state,n))})}}class po{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let o=this.config.plugins[n];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),o=null;for(;;){let s=!1;for(let c=0;c<this.config.plugins.length;c++){let a=this.config.plugins[c];if(a.spec.appendTransaction){let f=o?o[c].n:0,d=o?o[c].state:this,p=f<t.length&&a.spec.appendTransaction.call(a,f?t.slice(f):t,d,n);if(p&&n.filterTransaction(p,c)){if(p.setMeta("appendedTransaction",e),!o){o=[];for(let m=0;m<this.config.plugins.length;m++)o.push(m<c?{state:n,n:t.length}:{state:this,n:0})}t.push(p),n=n.applyInner(p),s=!0}o&&(o[c]={state:n,n:t.length})}}if(!s)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new po(this.config),n=this.config.fields;for(let o=0;o<n.length;o++){let s=n[o];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new qx(this)}static create(e){let t=new qa(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new po(t);for(let o=0;o<t.fields.length;o++)n[t.fields[o].name]=t.fields[o].init(e,n);return n}reconfigure(e){let t=new qa(this.schema,e.plugins),n=t.fields,o=new po(t);for(let s=0;s<n.length;s++){let c=n[s].name;o[c]=this.hasOwnProperty(c)?this[c]:n[s].init(e,o)}return o}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[n],s=o.spec.state;s&&s.toJSON&&(t[n]=s.toJSON.call(o,this[o.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new qa(e.schema,e.plugins),s=new po(o);return o.fields.forEach(c=>{if(c.name=="doc")s.doc=Xn.fromJSON(e.schema,t.doc);else if(c.name=="selection")s.selection=de.fromJSON(s.doc,t.selection);else if(c.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let a in n){let f=n[a],d=f.spec.state;if(f.key==c.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){s[c.name]=d.fromJSON.call(f,e,t[a],s);return}}s[c.name]=c.init(e,s)}}),s}}function xy(r,e,t){for(let n in r){let o=r[n];o instanceof Function?o=o.bind(e):n=="handleDOMEvents"&&(o=xy(o,e,{})),t[n]=o}return t}class Tt{constructor(e){this.spec=e,this.props={},e.props&&xy(e.props,this,this.props),this.key=e.key?e.key.key:Sy("plugin")}getState(e){return e[this.key]}}const Va=Object.create(null);function Sy(r){return r in Va?r+"$"+ ++Va[r]:(Va[r]=0,r+"$")}class pn{constructor(e="key"){this.key=Sy(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const rt=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},_i=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e};let yf=null;const En=function(r,e,t){let n=yf||(yf=document.createRange());return n.setEnd(r,t??r.nodeValue.length),n.setStart(r,e||0),n},$x=function(){yf=null},Ir=function(r,e,t,n){return t&&(Nm(r,e,t,n,-1)||Nm(r,e,t,n,1))},jx=/^(img|br|input|textarea|hr)$/i;function Nm(r,e,t,n,o){for(;;){if(r==t&&e==n)return!0;if(e==(o<0?0:$t(r))){let s=r.parentNode;if(!s||s.nodeType!=1||Oi(r)||jx.test(r.nodeName)||r.contentEditable=="false")return!1;e=rt(r)+(o<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[e+(o<0?-1:0)],r.contentEditable=="false")return!1;e=o<0?$t(r):0}else return!1}}function $t(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Hx(r,e){for(;;){if(r.nodeType==3&&e)return r;if(r.nodeType==1&&e>0){if(r.contentEditable=="false")return null;r=r.childNodes[e-1],e=$t(r)}else if(r.parentNode&&!Oi(r))e=rt(r),r=r.parentNode;else return null}}function Ux(r,e){for(;;){if(r.nodeType==3&&e<r.nodeValue.length)return r;if(r.nodeType==1&&e<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[e],e=0}else if(r.parentNode&&!Oi(r))e=rt(r)+1,r=r.parentNode;else return null}}function Wx(r,e,t){for(let n=e==0,o=e==$t(r);n||o;){if(r==t)return!0;let s=rt(r);if(r=r.parentNode,!r)return!1;n=n&&s==0,o=o&&s==$t(r)}}function Oi(r){let e;for(let t=r;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const Ml=function(r){return r.focusNode&&Ir(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function Cr(r,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=r,t.key=t.code=e,t}function Kx(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Jx(r,e,t){if(r.caretPositionFromPoint)try{let n=r.caretPositionFromPoint(e,t);if(n)return{node:n.offsetNode,offset:Math.min($t(n.offsetNode),n.offset)}}catch{}if(r.caretRangeFromPoint){let n=r.caretRangeFromPoint(e,t);if(n)return{node:n.startContainer,offset:Math.min($t(n.startContainer),n.startOffset)}}}const dn=typeof navigator<"u"?navigator:null,Om=typeof document<"u"?document:null,lr=dn&&dn.userAgent||"",kf=/Edge\/(\d+)/.exec(lr),wy=/MSIE \d/.exec(lr),vf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(lr),Mt=!!(wy||vf||kf),tr=wy?document.documentMode:vf?+vf[1]:kf?+kf[1]:0,tn=!Mt&&/gecko\/(\d+)/i.test(lr);tn&&+(/Firefox\/(\d+)/.exec(lr)||[0,0])[1];const xf=!Mt&&/Chrome\/(\d+)/.exec(lr),ut=!!xf,Cy=xf?+xf[1]:0,gt=!Mt&&!!dn&&/Apple Computer/.test(dn.vendor),Co=gt&&(/Mobile\/\w+/.test(lr)||!!dn&&dn.maxTouchPoints>2),Vt=Co||(dn?/Mac/.test(dn.platform):!1),Gx=dn?/Win/.test(dn.platform):!1,Yt=/Android \d/.test(lr),Ri=!!Om&&"webkitFontSmoothing"in Om.documentElement.style,Qx=Ri?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Zx(r){let e=r.defaultView&&r.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function Cn(r,e){return typeof r=="number"?r:r[e]}function Yx(r){let e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,n=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*t,top:e.top,bottom:e.top+r.clientHeight*n}}function Rm(r,e,t){let n=r.someProp("scrollThreshold")||0,o=r.someProp("scrollMargin")||5,s=r.dom.ownerDocument;for(let c=t||r.dom;c;c=_i(c)){if(c.nodeType!=1)continue;let a=c,f=a==s.body,d=f?Zx(s):Yx(a),p=0,m=0;if(e.top<d.top+Cn(n,"top")?m=-(d.top-e.top+Cn(o,"top")):e.bottom>d.bottom-Cn(n,"bottom")&&(m=e.bottom-e.top>d.bottom-d.top?e.top+Cn(o,"top")-d.top:e.bottom-d.bottom+Cn(o,"bottom")),e.left<d.left+Cn(n,"left")?p=-(d.left-e.left+Cn(o,"left")):e.right>d.right-Cn(n,"right")&&(p=e.right-d.right+Cn(o,"right")),p||m)if(f)s.defaultView.scrollBy(p,m);else{let k=a.scrollLeft,v=a.scrollTop;m&&(a.scrollTop+=m),p&&(a.scrollLeft+=p);let x=a.scrollLeft-k,w=a.scrollTop-v;e={left:e.left-x,top:e.top-w,right:e.right-x,bottom:e.bottom-w}}if(f||/^(fixed|sticky)$/.test(getComputedStyle(c).position))break}}function Xx(r){let e=r.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,o;for(let s=(e.left+e.right)/2,c=t+1;c<Math.min(innerHeight,e.bottom);c+=5){let a=r.root.elementFromPoint(s,c);if(!a||a==r.dom||!r.dom.contains(a))continue;let f=a.getBoundingClientRect();if(f.top>=t-20){n=a,o=f.top;break}}return{refDOM:n,refTop:o,stack:Ey(r.dom)}}function Ey(r){let e=[],t=r.ownerDocument;for(let n=r;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),r!=t);n=_i(n));return e}function eS({refDOM:r,refTop:e,stack:t}){let n=r?r.getBoundingClientRect().top:0;_y(t,n==0?0:n-e)}function _y(r,e){for(let t=0;t<r.length;t++){let{dom:n,top:o,left:s}=r[t];n.scrollTop!=o+e&&(n.scrollTop=o+e),n.scrollLeft!=s&&(n.scrollLeft=s)}}let co=null;function tS(r){if(r.setActive)return r.setActive();if(co)return r.focus(co);let e=Ey(r);r.focus(co==null?{get preventScroll(){return co={preventScroll:!0},!0}}:void 0),co||(co=!1,_y(e,0))}function by(r,e){let t,n=2e8,o,s=0,c=e.top,a=e.top,f,d;for(let p=r.firstChild,m=0;p;p=p.nextSibling,m++){let k;if(p.nodeType==1)k=p.getClientRects();else if(p.nodeType==3)k=En(p).getClientRects();else continue;for(let v=0;v<k.length;v++){let x=k[v];if(x.top<=c&&x.bottom>=a){c=Math.max(x.bottom,c),a=Math.min(x.top,a);let w=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(w<n){t=p,n=w,o=w&&t.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,p.nodeType==1&&w&&(s=m+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!f&&x.left<=e.left&&x.right>=e.left&&(f=p,d={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!t&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(s=m+1)}}return!t&&f&&(t=f,o=d,n=0),t&&t.nodeType==3?nS(t,o):!t||n&&t.nodeType==1?{node:r,offset:s}:by(t,o)}function nS(r,e){let t=r.nodeValue.length,n=document.createRange();for(let o=0;o<t;o++){n.setEnd(r,o+1),n.setStart(r,o);let s=Un(n,1);if(s.top!=s.bottom&&Ff(e,s))return{node:r,offset:o+(e.left>=(s.left+s.right)/2?1:0)}}return{node:r,offset:0}}function Ff(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function rS(r,e){let t=r.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<r.getBoundingClientRect().left?t:r}function oS(r,e,t){let{node:n,offset:o}=by(e,t),s=-1;if(n.nodeType==1&&!n.firstChild){let c=n.getBoundingClientRect();s=c.left!=c.right&&t.left>(c.left+c.right)/2?1:-1}return r.docView.posFromDOM(n,o,s)}function iS(r,e,t,n){let o=-1;for(let s=e,c=!1;s!=r.dom;){let a=r.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let f=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!c&&f.left>n.left||f.top>n.top?o=a.posBefore:(!c&&f.right<n.left||f.bottom<n.top)&&(o=a.posAfter),c=!0),!a.contentDOM&&o<0&&!a.node.isText)return(a.node.isBlock?n.top<(f.top+f.bottom)/2:n.left<(f.left+f.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return o>-1?o:r.docView.posFromDOM(e,t,-1)}function My(r,e,t){let n=r.childNodes.length;if(n&&t.top<t.bottom)for(let o=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),s=o;;){let c=r.childNodes[s];if(c.nodeType==1){let a=c.getClientRects();for(let f=0;f<a.length;f++){let d=a[f];if(Ff(e,d))return My(c,e,d)}}if((s=(s+1)%n)==o)break}return r}function sS(r,e){let t=r.dom.ownerDocument,n,o=0,s=Jx(t,e.left,e.top);s&&({node:n,offset:o}=s);let c=(r.root.elementFromPoint?r.root:t).elementFromPoint(e.left,e.top),a;if(!c||!r.dom.contains(c.nodeType!=1?c.parentNode:c)){let d=r.dom.getBoundingClientRect();if(!Ff(e,d)||(c=My(r.dom,e,d),!c))return null}if(gt)for(let d=c;n&&d;d=_i(d))d.draggable&&(n=void 0);if(c=rS(c,e),n){if(tn&&n.nodeType==1&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let p=n.childNodes[o],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&o++}let d;Ri&&o&&n.nodeType==1&&(d=n.childNodes[o-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&o--,n==r.dom&&o==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?a=r.state.doc.content.size:(o==0||n.nodeType!=1||n.childNodes[o-1].nodeName!="BR")&&(a=iS(r,n,o,e))}a==null&&(a=oS(r,c,e));let f=r.docView.nearestDesc(c,!0);return{pos:a,inside:f?f.posAtStart-f.border:-1}}function Im(r){return r.top<r.bottom||r.left<r.right}function Un(r,e){let t=r.getClientRects();if(t.length){let n=t[e<0?0:t.length-1];if(Im(n))return n}return Array.prototype.find.call(t,Im)||r.getBoundingClientRect()}const lS=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Ty(r,e,t){let{node:n,offset:o,atom:s}=r.docView.domFromPos(e,t<0?-1:1),c=Ri||tn;if(n.nodeType==3)if(c&&(lS.test(n.nodeValue)||(t<0?!o:o==n.nodeValue.length))){let f=Un(En(n,o,o),t);if(tn&&o&&/\s/.test(n.nodeValue[o-1])&&o<n.nodeValue.length){let d=Un(En(n,o-1,o-1),-1);if(d.top==f.top){let p=Un(En(n,o,o+1),-1);if(p.top!=f.top)return pi(p,p.left<d.left)}}return f}else{let f=o,d=o,p=t<0?1:-1;return t<0&&!o?(d++,p=-1):t>=0&&o==n.nodeValue.length?(f--,p=1):t<0?f--:d++,pi(Un(En(n,f,d),p),p<0)}if(!r.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&o&&(t<0||o==$t(n))){let f=n.childNodes[o-1];if(f.nodeType==1)return $a(f.getBoundingClientRect(),!1)}if(s==null&&o<$t(n)){let f=n.childNodes[o];if(f.nodeType==1)return $a(f.getBoundingClientRect(),!0)}return $a(n.getBoundingClientRect(),t>=0)}if(s==null&&o&&(t<0||o==$t(n))){let f=n.childNodes[o-1],d=f.nodeType==3?En(f,$t(f)-(c?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(d)return pi(Un(d,1),!1)}if(s==null&&o<$t(n)){let f=n.childNodes[o];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let d=f?f.nodeType==3?En(f,0,c?0:1):f.nodeType==1?f:null:null;if(d)return pi(Un(d,-1),!0)}return pi(Un(n.nodeType==3?En(n):n,-t),t>=0)}function pi(r,e){if(r.width==0)return r;let t=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:t,right:t}}function $a(r,e){if(r.height==0)return r;let t=e?r.top:r.bottom;return{top:t,bottom:t,left:r.left,right:r.right}}function Ay(r,e,t){let n=r.state,o=r.root.activeElement;n!=e&&r.updateState(e),o!=r.dom&&r.focus();try{return t()}finally{n!=e&&r.updateState(n),o!=r.dom&&o&&o.focus()}}function cS(r,e,t){let n=e.selection,o=t=="up"?n.$from:n.$to;return Ay(r,e,()=>{let{node:s}=r.docView.domFromPos(o.pos,t=="up"?-1:1);for(;;){let a=r.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let c=Ty(r,o.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let f;if(a.nodeType==1)f=a.getClientRects();else if(a.nodeType==3)f=En(a,0,a.nodeValue.length).getClientRects();else continue;for(let d=0;d<f.length;d++){let p=f[d];if(p.bottom>p.top+1&&(t=="up"?c.top-p.top>(p.bottom-c.top)*2:p.bottom-c.bottom>(c.bottom-p.top)*2))return!1}}return!0})}const aS=/[\u0590-\u08ac]/;function uS(r,e,t){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let o=n.parentOffset,s=!o,c=o==n.parent.content.size,a=r.domSelection();return a?!aS.test(n.parent.textContent)||!a.modify?t=="left"||t=="backward"?s:c:Ay(r,e,()=>{let{focusNode:f,focusOffset:d,anchorNode:p,anchorOffset:m}=r.domSelectionRange(),k=a.caretBidiLevel;a.modify("move",t,"character");let v=n.depth?r.docView.domAfterPos(n.before()):r.dom,{focusNode:x,focusOffset:w}=r.domSelectionRange(),C=x&&!v.contains(x.nodeType==1?x:x.parentNode)||f==x&&d==w;try{a.collapse(p,m),f&&(f!=p||d!=m)&&a.extend&&a.extend(f,d)}catch{}return k!=null&&(a.caretBidiLevel=k),C}):n.pos==n.start()||n.pos==n.end()}let Pm=null,zm=null,Lm=!1;function fS(r,e,t){return Pm==e&&zm==t?Lm:(Pm=e,zm=t,Lm=t=="up"||t=="down"?cS(r,e,t):uS(r,e,t))}const Ht=0,Fm=1,_r=2,hn=3;class Ii{constructor(e,t,n,o){this.parent=e,this.children=t,this.dom=n,this.contentDOM=o,this.dirty=Ht,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let o=this.children[t];if(o==e)return n;n+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let s,c;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((c=s.pmViewDesc)&&c.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(c)+c.size:this.posAtStart}else{let s,c;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((c=s.pmViewDesc)&&c.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(c):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=t>rt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!1;break}if(s.previousSibling)break}if(o==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!0;break}if(s.nextSibling)break}}return o??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,o=e;o;o=o.parentNode){let s=this.getDesc(o),c;if(s&&(!t||s.node))if(n&&(c=s.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))n=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let o=e;o;o=o.parentNode){let s=this.getDesc(o);if(s)return s.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let o=this.children[t],s=n+o.size;if(n==e&&s!=n){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<s)return o.descAt(e-n-o.border);n=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,o=0;for(let s=0;n<this.children.length;n++){let c=this.children[n],a=s+c.size;if(a>e||c instanceof Ny){o=e-s;break}s=a}if(o)return this.children[n].domFromPos(o-this.children[n].border,t);for(let s;n&&!(s=this.children[n-1]).size&&s instanceof Dy&&s.side>=0;n--);if(t<=0){let s,c=!0;for(;s=n?this.children[n-1]:null,!(!s||s.dom.parentNode==this.contentDOM);n--,c=!1);return s&&t&&c&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?rt(s.dom)+1:0}}else{let s,c=!0;for(;s=n<this.children.length?this.children[n]:null,!(!s||s.dom.parentNode==this.contentDOM);n++,c=!1);return s&&c&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?rt(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,s=-1;for(let c=n,a=0;;a++){let f=this.children[a],d=c+f.size;if(o==-1&&e<=d){let p=c+f.border;if(e>=p&&t<=d-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,t,p);e=c;for(let m=a;m>0;m--){let k=this.children[m-1];if(k.size&&k.dom.parentNode==this.contentDOM&&!k.emptyChildAt(1)){o=rt(k.dom)+1;break}e-=k.size}o==-1&&(o=0)}if(o>-1&&(d>t||a==this.children.length-1)){t=d;for(let p=a+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=rt(m.dom);break}t+=m.size}s==-1&&(s=this.contentDOM.childNodes.length);break}c=d}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,o=!1){let s=Math.min(e,t),c=Math.max(e,t);for(let v=0,x=0;v<this.children.length;v++){let w=this.children[v],C=x+w.size;if(s>x&&c<C)return w.setSelection(e-x-w.border,t-x-w.border,n,o);x=C}let a=this.domFromPos(e,e?-1:1),f=t==e?a:this.domFromPos(t,t?-1:1),d=n.root.getSelection(),p=n.domSelectionRange(),m=!1;if((tn||gt)&&e==t){let{node:v,offset:x}=a;if(v.nodeType==3){if(m=!!(x&&v.nodeValue[x-1]==`
`),m&&x==v.nodeValue.length)for(let w=v,C;w;w=w.parentNode){if(C=w.nextSibling){C.nodeName=="BR"&&(a=f={node:C.parentNode,offset:rt(C)+1});break}let E=w.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let w=v.childNodes[x-1];m=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(tn&&p.focusNode&&p.focusNode!=f.node&&p.focusNode.nodeType==1){let v=p.focusNode.childNodes[p.focusOffset];v&&v.contentEditable=="false"&&(o=!0)}if(!(o||m&&gt)&&Ir(a.node,a.offset,p.anchorNode,p.anchorOffset)&&Ir(f.node,f.offset,p.focusNode,p.focusOffset))return;let k=!1;if((d.extend||e==t)&&!m){d.collapse(a.node,a.offset);try{e!=t&&d.extend(f.node,f.offset),k=!0}catch{}}if(!k){if(e>t){let x=a;a=f,f=x}let v=document.createRange();v.setEnd(f.node,f.offset),v.setStart(a.node,a.offset),d.removeAllRanges(),d.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,o=0;o<this.children.length;o++){let s=this.children[o],c=n+s.size;if(n==c?e<=c&&t>=n:e<c&&t>n){let a=n+s.border,f=c-s.border;if(e>=a&&t<=f){this.dirty=e==n||t==c?_r:Fm,e==a&&t==f&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=hn:s.markDirty(e-a,t-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?_r:hn}n=c}this.dirty=_r}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?_r:Fm;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class Dy extends Ii{constructor(e,t,n,o){let s,c=t.type.toDOM;if(typeof c=="function"&&(c=c(n,()=>{if(!s)return o;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(c.nodeType!=1){let a=document.createElement("span");a.appendChild(c),c=a}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==Ht&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class dS extends Ii{constructor(e,t,n,o){super(e,[],t,null),this.textDOM=n,this.text=o}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Pr extends Ii{constructor(e,t,n,o,s){super(e,[],n,o),this.mark=t,this.spec=s}static create(e,t,n,o){let s=o.nodeViews[t.type.name],c=s&&s(t,o,n);return(!c||!c.dom)&&(c=zr.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new Pr(e,t,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&hn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=hn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Ht){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Ht}}slice(e,t,n){let o=Pr.create(this.parent,this.mark,!0,n),s=this.children,c=this.size;t<c&&(s=wf(s,t,c,n)),e>0&&(s=wf(s,0,e,n));for(let a=0;a<s.length;a++)s[a].parent=o;return o.children=s,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class nr extends Ii{constructor(e,t,n,o,s,c,a,f,d){super(e,[],s,c),this.node=t,this.outerDeco=n,this.innerDeco=o,this.nodeDOM=a}static create(e,t,n,o,s,c){let a=s.nodeViews[t.type.name],f,d=a&&a(t,s,()=>{if(!f)return c;if(f.parent)return f.parent.posBeforeChild(f)},n,o),p=d&&d.dom,m=d&&d.contentDOM;if(t.isText){if(!p)p=document.createTextNode(t.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=zr.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!m&&!t.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),t.type.spec.draggable&&(p.draggable=!0));let k=p;return p=Iy(p,n,t),d?f=new hS(e,t,n,o,p,m||null,k,d,s,c+1):t.isText?new Tl(e,t,n,o,p,k,s):new nr(e,t,n,o,p,m||null,k,s,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>H.empty)}return e}matchesNode(e,t,n){return this.dirty==Ht&&e.eq(this.node)&&pl(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,o=t,s=e.composing?this.localCompositionInfo(e,t):null,c=s&&s.pos>-1?s:null,a=s&&s.pos<0,f=new mS(this,c&&c.node,e);kS(this.node,this.innerDeco,(d,p,m)=>{d.spec.marks?f.syncToMarks(d.spec.marks,n,e):d.type.side>=0&&!m&&f.syncToMarks(p==this.node.childCount?Me.none:this.node.child(p).marks,n,e),f.placeWidget(d,e,o)},(d,p,m,k)=>{f.syncToMarks(d.marks,n,e);let v;f.findNodeMatch(d,p,m,k)||a&&e.state.selection.from>o&&e.state.selection.to<o+d.nodeSize&&(v=f.findIndexWithChild(s.node))>-1&&f.updateNodeAt(d,p,m,v,e)||f.updateNextNode(d,p,m,e,k,o)||f.addNode(d,p,m,e,o),o+=d.nodeSize}),f.syncToMarks([],n,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==_r)&&(c&&this.protectLocalComposition(e,c),Oy(this.contentDOM,this.children,e),Co&&vS(this.dom))}localCompositionInfo(e,t){let{from:n,to:o}=e.state.selection;if(!(e.state.selection instanceof ue)||n<t||o>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let c=s.nodeValue,a=xS(this.node.content,c,n-t,o-t);return a<0?null:{node:s,pos:a,text:c}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:o}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let c=new dS(this,s,t,o);e.input.compositionNodes.push(c),this.children=wf(this.children,n,n+o.length,e,c)}update(e,t,n,o){return this.dirty==hn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,n,o),!0)}updateInner(e,t,n,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Ht}updateOuterDeco(e){if(pl(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=Ry(this.dom,this.nodeDOM,Sf(this.outerDeco,this.node,t),Sf(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Bm(r,e,t,n,o){Iy(n,e,r);let s=new nr(void 0,r,e,t,n,n,n,o,0);return s.contentDOM&&s.updateChildren(o,0),s}class Tl extends nr{constructor(e,t,n,o,s,c,a){super(e,t,n,o,s,null,c,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,o){return this.dirty==hn||this.dirty!=Ht&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Ht||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=Ht,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,n){let o=this.node.cut(e,t),s=document.createTextNode(o.text);return new Tl(this.parent,o,this.outerDeco,this.innerDeco,s,s,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=hn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Ny extends Ii{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ht&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class hS extends nr{constructor(e,t,n,o,s,c,a,f,d,p){super(e,t,n,o,s,c,a,d,p),this.spec=f}update(e,t,n,o){if(this.dirty==hn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,n);return s&&this.updateInner(e,t,n,o),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,o){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Oy(r,e,t){let n=r.firstChild,o=!1;for(let s=0;s<e.length;s++){let c=e[s],a=c.dom;if(a.parentNode==r){for(;a!=n;)n=qm(n),o=!0;n=n.nextSibling}else o=!0,r.insertBefore(a,n);if(c instanceof Pr){let f=n?n.previousSibling:r.lastChild;Oy(c.contentDOM,c.children,t),n=f?f.nextSibling:r.firstChild}}for(;n;)n=qm(n),o=!0;o&&t.trackWrites==r&&(t.trackWrites=null)}const Si=function(r){r&&(this.nodeName=r)};Si.prototype=Object.create(null);const br=[new Si];function Sf(r,e,t){if(r.length==0)return br;let n=t?br[0]:new Si,o=[n];for(let s=0;s<r.length;s++){let c=r[s].type.attrs;if(c){c.nodeName&&o.push(n=new Si(c.nodeName));for(let a in c){let f=c[a];f!=null&&(t&&o.length==1&&o.push(n=new Si(e.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+f:a=="style"?n.style=(n.style?n.style+";":"")+f:a!="nodeName"&&(n[a]=f))}}}return o}function Ry(r,e,t,n){if(t==br&&n==br)return e;let o=e;for(let s=0;s<n.length;s++){let c=n[s],a=t[s];if(s){let f;a&&a.nodeName==c.nodeName&&o!=r&&(f=o.parentNode)&&f.nodeName.toLowerCase()==c.nodeName||(f=document.createElement(c.nodeName),f.pmIsDeco=!0,f.appendChild(o),a=br[0]),o=f}pS(o,a||br[0],c)}return o}function pS(r,e,t){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&r.removeAttribute(n);for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&t[n]!=e[n]&&r.setAttribute(n,t[n]);if(e.class!=t.class){let n=e.class?e.class.split(" ").filter(Boolean):[],o=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<n.length;s++)o.indexOf(n[s])==-1&&r.classList.remove(n[s]);for(let s=0;s<o.length;s++)n.indexOf(o[s])==-1&&r.classList.add(o[s]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=t.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=n.exec(e.style);)r.style.removeProperty(o[1])}t.style&&(r.style.cssText+=t.style)}}function Iy(r,e,t){return Ry(r,r,br,Sf(e,t,r.nodeType!=1))}function pl(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].type.eq(e[t].type))return!1;return!0}function qm(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class mS{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=gS(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let o=0,s=this.stack.length>>1,c=Math.min(s,e.length);for(;o<c&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=Ht,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let d=this.top.children[f];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){a=f;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let f=Pr.create(this.top,e[s],t,n);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,n,o){let s=-1,c;if(o>=this.preMatch.index&&(c=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&c.matchesNode(e,t,n))s=this.top.children.indexOf(c,this.index);else for(let a=this.index,f=Math.min(this.top.children.length,a+5);a<f;a++){let d=this.top.children[a];if(d.matchesNode(e,t,n)&&!this.preMatch.matched.has(d)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,n,o,s){let c=this.top.children[o];return c.dirty==hn&&c.dom==c.contentDOM&&(c.dirty=_r),c.update(e,t,n,s)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==n)return o}return-1}e=t}}updateNextNode(e,t,n,o,s,c){for(let a=this.index;a<this.top.children.length;a++){let f=this.top.children[a];if(f instanceof nr){let d=this.preMatch.matched.get(f);if(d!=null&&d!=s)return!1;let p=f.dom,m,k=this.isLocked(p)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=hn&&pl(t,f.outerDeco));if(!k&&f.update(e,t,n,o))return this.destroyBetween(this.index,a),f.dom!=p&&(this.changed=!0),this.index++,!0;if(!k&&(m=this.recreateWrapper(f,e,t,n,o,c)))return this.destroyBetween(this.index,a),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=_r,m.updateChildren(o,c+1),m.dirty=Ht),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,o,s,c){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!pl(n,e.outerDeco)||!o.eq(e.innerDeco))return null;let a=nr.create(this.top,t,n,o,s,c);if(a.contentDOM){a.children=e.children,e.children=[];for(let f of a.children)f.parent=a}return e.destroy(),a}addNode(e,t,n,o,s){let c=nr.create(this.top,e,t,n,o,s);c.contentDOM&&c.updateChildren(o,s+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,t,n){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let s=new Dy(this.top,e,t,n);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Pr;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Tl)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((gt||ut)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let o=new Ny(this.top,[],n,null);t!=this.top?t.children.push(o):t.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function gS(r,e){let t=e,n=t.children.length,o=r.childCount,s=new Map,c=[];e:for(;o>0;){let a;for(;;)if(n){let d=t.children[n-1];if(d instanceof Pr)t=d,n=d.children.length;else{a=d,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}let f=a.node;if(f){if(f!=r.child(o-1))break;--o,s.set(a,o),c.push(a)}}return{index:o,matched:s,matches:c.reverse()}}function yS(r,e){return r.type.side-e.type.side}function kS(r,e,t,n){let o=e.locals(r),s=0;if(o.length==0){for(let d=0;d<r.childCount;d++){let p=r.child(d);n(p,o,e.forChild(s,p),d),s+=p.nodeSize}return}let c=0,a=[],f=null;for(let d=0;;){let p,m;for(;c<o.length&&o[c].to==s;){let C=o[c++];C.widget&&(p?(m||(m=[p])).push(C):p=C)}if(p)if(m){m.sort(yS);for(let C=0;C<m.length;C++)t(m[C],d,!!f)}else t(p,d,!!f);let k,v;if(f)v=-1,k=f,f=null;else if(d<r.childCount)v=d,k=r.child(d++);else break;for(let C=0;C<a.length;C++)a[C].to<=s&&a.splice(C--,1);for(;c<o.length&&o[c].from<=s&&o[c].to>s;)a.push(o[c++]);let x=s+k.nodeSize;if(k.isText){let C=x;c<o.length&&o[c].from<C&&(C=o[c].from);for(let E=0;E<a.length;E++)a[E].to<C&&(C=a[E].to);C<x&&(f=k.cut(C-s),k=k.cut(0,C-s),x=C,v=-1)}else for(;c<o.length&&o[c].to<x;)c++;let w=k.isInline&&!k.isLeaf?a.filter(C=>!C.inline):a.slice();n(k,w,e.forChild(s,k),v),s=x}}function vS(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function xS(r,e,t,n){for(let o=0,s=0;o<r.childCount&&s<=n;){let c=r.child(o++),a=s;if(s+=c.nodeSize,!c.isText)continue;let f=c.text;for(;o<r.childCount;){let d=r.child(o++);if(s+=d.nodeSize,!d.isText)break;f+=d.text}if(s>=t){if(s>=n&&f.slice(n-e.length-a,n-a)==e)return n-e.length;let d=a<n?f.lastIndexOf(e,n-a-1):-1;if(d>=0&&d+e.length+a>=t)return a+d;if(t==n&&f.length>=n+e.length-a&&f.slice(n-a,n-a+e.length)==e)return n}}return-1}function wf(r,e,t,n,o){let s=[];for(let c=0,a=0;c<r.length;c++){let f=r[c],d=a,p=a+=f.size;d>=t||p<=e?s.push(f):(d<e&&s.push(f.slice(0,e-d,n)),o&&(s.push(o),o=void 0),p>t&&s.push(f.slice(t-d,f.size,n)))}return s}function Bf(r,e=null){let t=r.domSelectionRange(),n=r.state.doc;if(!t.focusNode)return null;let o=r.docView.nearestDesc(t.focusNode),s=o&&o.size==0,c=r.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(c<0)return null;let a=n.resolve(c),f,d;if(Ml(t)){for(f=c;o&&!o.node;)o=o.parent;let m=o.node;if(o&&m.isAtom&&le.isSelectable(m)&&o.parent&&!(m.isInline&&Wx(t.focusNode,t.focusOffset,o.dom))){let k=o.posBefore;d=new le(c==k?a:n.resolve(k))}}else{if(t instanceof r.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let m=c,k=c;for(let v=0;v<t.rangeCount;v++){let x=t.getRangeAt(v);m=Math.min(m,r.docView.posFromDOM(x.startContainer,x.startOffset,1)),k=Math.max(k,r.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(m<0)return null;[f,c]=k==r.state.selection.anchor?[k,m]:[m,k],a=n.resolve(c)}else f=r.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(f<0)return null}let p=n.resolve(f);if(!d){let m=e=="pointer"||r.state.selection.head<a.pos&&!s?1:-1;d=qf(r,p,a,m)}return d}function Py(r){return r.editable?r.hasFocus():Ly(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function _n(r,e=!1){let t=r.state.selection;if(zy(r,t),!!Py(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&ut){let n=r.domSelectionRange(),o=r.domObserver.currentSelection;if(n.anchorNode&&o.anchorNode&&Ir(n.anchorNode,n.anchorOffset,o.anchorNode,o.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)wS(r);else{let{anchor:n,head:o}=t,s,c;Vm&&!(t instanceof ue)&&(t.$from.parent.inlineContent||(s=$m(r,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(c=$m(r,t.to))),r.docView.setSelection(n,o,r,e),Vm&&(s&&jm(s),c&&jm(c)),t.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&SS(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const Vm=gt||ut&&Cy<63;function $m(r,e){let{node:t,offset:n}=r.docView.domFromPos(e,0),o=n<t.childNodes.length?t.childNodes[n]:null,s=n?t.childNodes[n-1]:null;if(gt&&o&&o.contentEditable=="false")return ja(o);if((!o||o.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(o)return ja(o);if(s)return ja(s)}}function ja(r){return r.contentEditable="true",gt&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function jm(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function SS(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let t=r.domSelectionRange(),n=t.anchorNode,o=t.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(t.anchorNode!=n||t.anchorOffset!=o)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!Py(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function wS(r){let e=r.domSelection(),t=document.createRange();if(!e)return;let n=r.cursorWrapper.dom,o=n.nodeName=="IMG";o?t.setStart(n.parentNode,rt(n)+1):t.setStart(n,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!o&&!r.state.selection.visible&&Mt&&tr<=11&&(n.disabled=!0,n.disabled=!1)}function zy(r,e){if(e instanceof le){let t=r.docView.descAt(e.from);t!=r.lastSelectedViewDesc&&(Hm(r),t&&t.selectNode(),r.lastSelectedViewDesc=t)}else Hm(r)}function Hm(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function qf(r,e,t,n){return r.someProp("createSelectionBetween",o=>o(r,e,t))||ue.between(e,t,n)}function Um(r){return r.editable&&!r.hasFocus()?!1:Ly(r)}function Ly(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function CS(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),t=r.domSelectionRange();return Ir(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Cf(r,e){let{$anchor:t,$head:n}=r.selection,o=e>0?t.max(n):t.min(n),s=o.parent.inlineContent?o.depth?r.doc.resolve(e>0?o.after():o.before()):null:o;return s&&de.findFrom(s,e)}function Wn(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function Wm(r,e,t){let n=r.state.selection;if(n instanceof ue)if(t.indexOf("s")>-1){let{$head:o}=n,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let c=r.state.doc.resolve(o.pos+s.nodeSize*(e<0?-1:1));return Wn(r,new ue(n.$anchor,c))}else if(n.empty){if(r.endOfTextblock(e>0?"forward":"backward")){let o=Cf(r.state,e);return o&&o instanceof le?Wn(r,o):!1}else if(!(Vt&&t.indexOf("m")>-1)){let o=n.$head,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,c;if(!s||s.isText)return!1;let a=e<0?o.pos-s.nodeSize:o.pos;return s.isAtom||(c=r.docView.descAt(a))&&!c.contentDOM?le.isSelectable(s)?Wn(r,new le(e<0?r.state.doc.resolve(o.pos-s.nodeSize):o)):Ri?Wn(r,new ue(r.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(n instanceof le&&n.node.isInline)return Wn(r,new ue(e>0?n.$to:n.$from));{let o=Cf(r.state,e);return o?Wn(r,o):!1}}}function ml(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function wi(r,e){let t=r.pmViewDesc;return t&&t.size==0&&(e<0||r.nextSibling||r.nodeName!="BR")}function ao(r,e){return e<0?ES(r):_S(r)}function ES(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let o,s,c=!1;for(tn&&t.nodeType==1&&n<ml(t)&&wi(t.childNodes[n],-1)&&(c=!0);;)if(n>0){if(t.nodeType!=1)break;{let a=t.childNodes[n-1];if(wi(a,-1))o=t,s=--n;else if(a.nodeType==3)t=a,n=t.nodeValue.length;else break}}else{if(Fy(t))break;{let a=t.previousSibling;for(;a&&wi(a,-1);)o=t.parentNode,s=rt(a),a=a.previousSibling;if(a)t=a,n=ml(t);else{if(t=t.parentNode,t==r.dom)break;n=0}}}c?Ef(r,t,n):o&&Ef(r,o,s)}function _S(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let o=ml(t),s,c;for(;;)if(n<o){if(t.nodeType!=1)break;let a=t.childNodes[n];if(wi(a,1))s=t,c=++n;else break}else{if(Fy(t))break;{let a=t.nextSibling;for(;a&&wi(a,1);)s=a.parentNode,c=rt(a)+1,a=a.nextSibling;if(a)t=a,n=0,o=ml(t);else{if(t=t.parentNode,t==r.dom)break;n=o=0}}}s&&Ef(r,s,c)}function Fy(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function bS(r,e){for(;r&&e==r.childNodes.length&&!Oi(r);)e=rt(r)+1,r=r.parentNode;for(;r&&e<r.childNodes.length;){let t=r.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=0}}function MS(r,e){for(;r&&!e&&!Oi(r);)e=rt(r),r=r.parentNode;for(;r&&e;){let t=r.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=r.childNodes.length}}function Ef(r,e,t){if(e.nodeType!=3){let s,c;(c=bS(e,t))?(e=c,t=0):(s=MS(e,t))&&(e=s,t=s.nodeValue.length)}let n=r.domSelection();if(!n)return;if(Ml(n)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),n.removeAllRanges(),n.addRange(s)}else n.extend&&n.extend(e,t);r.domObserver.setCurSelection();let{state:o}=r;setTimeout(()=>{r.state==o&&_n(r)},50)}function Km(r,e){let t=r.state.doc.resolve(e);if(!(ut||Gx)&&t.parent.inlineContent){let o=r.coordsAtPos(e);if(e>t.start()){let s=r.coordsAtPos(e-1),c=(s.top+s.bottom)/2;if(c>o.top&&c<o.bottom&&Math.abs(s.left-o.left)>1)return s.left<o.left?"ltr":"rtl"}if(e<t.end()){let s=r.coordsAtPos(e+1),c=(s.top+s.bottom)/2;if(c>o.top&&c<o.bottom&&Math.abs(s.left-o.left)>1)return s.left>o.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function Jm(r,e,t){let n=r.state.selection;if(n instanceof ue&&!n.empty||t.indexOf("s")>-1||Vt&&t.indexOf("m")>-1)return!1;let{$from:o,$to:s}=n;if(!o.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let c=Cf(r.state,e);if(c&&c instanceof le)return Wn(r,c)}if(!o.parent.inlineContent){let c=e<0?o:s,a=n instanceof en?de.near(c,e):de.findFrom(c,e);return a?Wn(r,a):!1}return!1}function Gm(r,e){if(!(r.state.selection instanceof ue))return!0;let{$head:t,$anchor:n,empty:o}=r.state.selection;if(!t.sameParent(n))return!0;if(!o)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let c=r.state.tr;return e<0?c.delete(t.pos-s.nodeSize,t.pos):c.delete(t.pos,t.pos+s.nodeSize),r.dispatch(c),!0}return!1}function Qm(r,e,t){r.domObserver.stop(),e.contentEditable=t,r.domObserver.start()}function TS(r){if(!gt||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;Qm(r,n,"true"),setTimeout(()=>Qm(r,n,"false"),20)}return!1}function AS(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function DS(r,e){let t=e.keyCode,n=AS(e);if(t==8||Vt&&t==72&&n=="c")return Gm(r,-1)||ao(r,-1);if(t==46&&!e.shiftKey||Vt&&t==68&&n=="c")return Gm(r,1)||ao(r,1);if(t==13||t==27)return!0;if(t==37||Vt&&t==66&&n=="c"){let o=t==37?Km(r,r.state.selection.from)=="ltr"?-1:1:-1;return Wm(r,o,n)||ao(r,o)}else if(t==39||Vt&&t==70&&n=="c"){let o=t==39?Km(r,r.state.selection.from)=="ltr"?1:-1:1;return Wm(r,o,n)||ao(r,o)}else{if(t==38||Vt&&t==80&&n=="c")return Jm(r,-1,n)||ao(r,-1);if(t==40||Vt&&t==78&&n=="c")return TS(r)||Jm(r,1,n)||ao(r,1);if(n==(Vt?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function By(r,e){r.someProp("transformCopied",v=>{e=v(e,r)});let t=[],{content:n,openStart:o,openEnd:s}=e;for(;o>1&&s>1&&n.childCount==1&&n.firstChild.childCount==1;){o--,s--;let v=n.firstChild;t.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),n=v.content}let c=r.someProp("clipboardSerializer")||zr.fromSchema(r.state.schema),a=Uy(),f=a.createElement("div");f.appendChild(c.serializeFragment(n,{document:a}));let d=f.firstChild,p,m=0;for(;d&&d.nodeType==1&&(p=Hy[d.nodeName.toLowerCase()]);){for(let v=p.length-1;v>=0;v--){let x=a.createElement(p[v]);for(;f.firstChild;)x.appendChild(f.firstChild);f.appendChild(x),m++}d=f.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${o} ${s}${m?` -${m}`:""} ${JSON.stringify(t)}`);let k=r.someProp("clipboardTextSerializer",v=>v(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:k,slice:e}}function qy(r,e,t,n,o){let s=o.parent.type.spec.code,c,a;if(!t&&!e)return null;let f=e&&(n||s||!t);if(f){if(r.someProp("transformPastedText",k=>{e=k(e,s||n,r)}),s)return e?new Q(H.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Q.empty;let m=r.someProp("clipboardTextParser",k=>k(e,o,n,r));if(m)a=m;else{let k=o.marks(),{schema:v}=r.state,x=zr.fromSchema(v);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let C=c.appendChild(document.createElement("p"));w&&C.appendChild(x.serializeNode(v.text(w,k)))})}}else r.someProp("transformPastedHTML",m=>{t=m(t,r)}),c=IS(t),Ri&&PS(c);let d=c&&c.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let k=c.firstChild;for(;k&&k.nodeType!=1;)k=k.nextSibling;if(!k)break;c=k}if(a||(a=(r.someProp("clipboardParser")||r.someProp("domParser")||er.fromSchema(r.state.schema)).parseSlice(c,{preserveWhitespace:!!(f||p),context:o,ruleFromNode(k){return k.nodeName=="BR"&&!k.nextSibling&&k.parentNode&&!NS.test(k.parentNode.nodeName)?{ignore:!0}:null}})),p)a=zS(Zm(a,+p[1],+p[2]),p[4]);else if(a=Q.maxOpen(OS(a.content,o),!0),a.openStart||a.openEnd){let m=0,k=0;for(let v=a.content.firstChild;m<a.openStart&&!v.type.spec.isolating;m++,v=v.firstChild);for(let v=a.content.lastChild;k<a.openEnd&&!v.type.spec.isolating;k++,v=v.lastChild);a=Zm(a,m,k)}return r.someProp("transformPasted",m=>{a=m(a,r)}),a}const NS=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function OS(r,e){if(r.childCount<2)return r;for(let t=e.depth;t>=0;t--){let o=e.node(t).contentMatchAt(e.index(t)),s,c=[];if(r.forEach(a=>{if(!c)return;let f=o.findWrapping(a.type),d;if(!f)return c=null;if(d=c.length&&s.length&&$y(f,s,a,c[c.length-1],0))c[c.length-1]=d;else{c.length&&(c[c.length-1]=jy(c[c.length-1],s.length));let p=Vy(a,f);c.push(p),o=o.matchType(p.type),s=f}}),c)return H.from(c)}return r}function Vy(r,e,t=0){for(let n=e.length-1;n>=t;n--)r=e[n].create(null,H.from(r));return r}function $y(r,e,t,n,o){if(o<r.length&&o<e.length&&r[o]==e[o]){let s=$y(r,e,t,n.lastChild,o+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));if(n.contentMatchAt(n.childCount).matchType(o==r.length-1?t.type:r[o+1]))return n.copy(n.content.append(H.from(Vy(t,r,o+1))))}}function jy(r,e){if(e==0)return r;let t=r.content.replaceChild(r.childCount-1,jy(r.lastChild,e-1)),n=r.contentMatchAt(r.childCount).fillBefore(H.empty,!0);return r.copy(t.append(n))}function _f(r,e,t,n,o,s){let c=e<0?r.firstChild:r.lastChild,a=c.content;return r.childCount>1&&(s=0),o<n-1&&(a=_f(a,e,t,n,o+1,s)),o>=t&&(a=e<0?c.contentMatchAt(0).fillBefore(a,s<=o).append(a):a.append(c.contentMatchAt(c.childCount).fillBefore(H.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,c.copy(a))}function Zm(r,e,t){return e<r.openStart&&(r=new Q(_f(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),t<r.openEnd&&(r=new Q(_f(r.content,1,t,r.openEnd,0,0),r.openStart,t)),r}const Hy={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Ym=null;function Uy(){return Ym||(Ym=document.implementation.createHTMLDocument("title"))}let Ha=null;function RS(r){let e=window.trustedTypes;return e?(Ha||(Ha=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Ha.createHTML(r)):r}function IS(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let t=Uy().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(r),o;if((o=n&&Hy[n[1].toLowerCase()])&&(r=o.map(s=>"<"+s+">").join("")+r+o.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=RS(r),o)for(let s=0;s<o.length;s++)t=t.querySelector(o[s])||t;return t}function PS(r){let e=r.querySelectorAll(ut?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let n=e[t];n.childNodes.length==1&&n.textContent==" "&&n.parentNode&&n.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),n)}}function zS(r,e){if(!r.size)return r;let t=r.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return r}let{content:o,openStart:s,openEnd:c}=r;for(let a=n.length-2;a>=0;a-=2){let f=t.nodes[n[a]];if(!f||f.hasRequiredAttrs())break;o=H.from(f.create(n[a+1],o)),s++,c++}return new Q(o,s,c)}const yt={},kt={},LS={touchstart:!0,touchmove:!0};class FS{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function BS(r){for(let e in yt){let t=yt[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=n=>{VS(r,n)&&!Vf(r,n)&&(r.editable||!(n.type in kt))&&t(r,n)},LS[e]?{passive:!0}:void 0)}gt&&r.dom.addEventListener("input",()=>null),bf(r)}function Yn(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function qS(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function bf(r){r.someProp("handleDOMEvents",e=>{for(let t in e)r.input.eventHandlers[t]||r.dom.addEventListener(t,r.input.eventHandlers[t]=n=>Vf(r,n))})}function Vf(r,e){return r.someProp("handleDOMEvents",t=>{let n=t[e.type];return n?n(r,e)||e.defaultPrevented:!1})}function VS(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=r.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function $S(r,e){!Vf(r,e)&&yt[e.type]&&(r.editable||!(e.type in kt))&&yt[e.type](r,e)}kt.keydown=(r,e)=>{let t=e;if(r.input.shiftKey=t.keyCode==16||t.shiftKey,!Ky(r,t)&&(r.input.lastKeyCode=t.keyCode,r.input.lastKeyCodeTime=Date.now(),!(Yt&&ut&&t.keyCode==13)))if(t.keyCode!=229&&r.domObserver.forceFlush(),Co&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let n=Date.now();r.input.lastIOSEnter=n,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==n&&(r.someProp("handleKeyDown",o=>o(r,Cr(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",n=>n(r,t))||DS(r,t)?t.preventDefault():Yn(r,"key")};kt.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};kt.keypress=(r,e)=>{let t=e;if(Ky(r,t)||!t.charCode||t.ctrlKey&&!t.altKey||Vt&&t.metaKey)return;if(r.someProp("handleKeyPress",o=>o(r,t))){t.preventDefault();return}let n=r.state.selection;if(!(n instanceof ue)||!n.$from.sameParent(n.$to)){let o=String.fromCharCode(t.charCode);!/[\r\n]/.test(o)&&!r.someProp("handleTextInput",s=>s(r,n.$from.pos,n.$to.pos,o))&&r.dispatch(r.state.tr.insertText(o).scrollIntoView()),t.preventDefault()}};function Al(r){return{left:r.clientX,top:r.clientY}}function jS(r,e){let t=e.x-r.clientX,n=e.y-r.clientY;return t*t+n*n<100}function $f(r,e,t,n,o){if(n==-1)return!1;let s=r.state.doc.resolve(n);for(let c=s.depth+1;c>0;c--)if(r.someProp(e,a=>c>s.depth?a(r,t,s.nodeAfter,s.before(c),o,!0):a(r,t,s.node(c),s.before(c),o,!1)))return!0;return!1}function vo(r,e,t){if(r.focused||r.focus(),r.state.selection.eq(e))return;let n=r.state.tr.setSelection(e);n.setMeta("pointer",!0),r.dispatch(n)}function HS(r,e){if(e==-1)return!1;let t=r.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&le.isSelectable(n)?(vo(r,new le(t)),!0):!1}function US(r,e){if(e==-1)return!1;let t=r.state.selection,n,o;t instanceof le&&(n=t.node);let s=r.state.doc.resolve(e);for(let c=s.depth+1;c>0;c--){let a=c>s.depth?s.nodeAfter:s.node(c);if(le.isSelectable(a)){n&&t.$from.depth>0&&c>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?o=s.before(t.$from.depth):o=s.before(c);break}}return o!=null?(vo(r,le.create(r.state.doc,o)),!0):!1}function WS(r,e,t,n,o){return $f(r,"handleClickOn",e,t,n)||r.someProp("handleClick",s=>s(r,e,n))||(o?US(r,t):HS(r,t))}function KS(r,e,t,n){return $f(r,"handleDoubleClickOn",e,t,n)||r.someProp("handleDoubleClick",o=>o(r,e,n))}function JS(r,e,t,n){return $f(r,"handleTripleClickOn",e,t,n)||r.someProp("handleTripleClick",o=>o(r,e,n))||GS(r,t,n)}function GS(r,e,t){if(t.button!=0)return!1;let n=r.state.doc;if(e==-1)return n.inlineContent?(vo(r,ue.create(n,0,n.content.size)),!0):!1;let o=n.resolve(e);for(let s=o.depth+1;s>0;s--){let c=s>o.depth?o.nodeAfter:o.node(s),a=o.before(s);if(c.inlineContent)vo(r,ue.create(n,a+1,a+1+c.content.size));else if(le.isSelectable(c))vo(r,le.create(n,a));else continue;return!0}}function jf(r){return gl(r)}const Wy=Vt?"metaKey":"ctrlKey";yt.mousedown=(r,e)=>{let t=e;r.input.shiftKey=t.shiftKey;let n=jf(r),o=Date.now(),s="singleClick";o-r.input.lastClick.time<500&&jS(t,r.input.lastClick)&&!t[Wy]&&(r.input.lastClick.type=="singleClick"?s="doubleClick":r.input.lastClick.type=="doubleClick"&&(s="tripleClick")),r.input.lastClick={time:o,x:t.clientX,y:t.clientY,type:s};let c=r.posAtCoords(Al(t));c&&(s=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new QS(r,c,t,!!n)):(s=="doubleClick"?KS:JS)(r,c.pos,c.inside,t)?t.preventDefault():Yn(r,"pointer"))};class QS{constructor(e,t,n,o){this.view=e,this.pos=t,this.event=n,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Wy],this.allowDefault=n.shiftKey;let s,c;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),c=t.inside;else{let p=e.state.doc.resolve(t.pos);s=p.parent,c=p.depth?p.before():0}const a=o?null:n.target,f=a?e.docView.nearestDesc(a,!0):null;this.target=f&&f.dom.nodeType==1?f.dom:null;let{selection:d}=e.state;(n.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof le&&d.from<=c&&d.to>c)&&(this.mightDrag={node:s,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&tn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Yn(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>_n(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Al(e))),this.updateAllowDefault(e),this.allowDefault||!t?Yn(this.view,"pointer"):WS(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||gt&&this.mightDrag&&!this.mightDrag.node.isAtom||ut&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(vo(this.view,de.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Yn(this.view,"pointer")}move(e){this.updateAllowDefault(e),Yn(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}yt.touchstart=r=>{r.input.lastTouch=Date.now(),jf(r),Yn(r,"pointer")};yt.touchmove=r=>{r.input.lastTouch=Date.now(),Yn(r,"pointer")};yt.contextmenu=r=>jf(r);function Ky(r,e){return r.composing?!0:gt&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const ZS=Yt?5e3:-1;kt.compositionstart=kt.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,t=e.selection.$to;if(e.selection instanceof ue&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||t.marks(),gl(r,!0),r.markCursor=null;else if(gl(r,!e.selection.empty),tn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let n=r.domSelectionRange();for(let o=n.focusNode,s=n.focusOffset;o&&o.nodeType==1&&s!=0;){let c=s<0?o.lastChild:o.childNodes[s-1];if(!c)break;if(c.nodeType==3){let a=r.domSelection();a&&a.collapse(c,c.nodeValue.length);break}else o=c,s=-1}}r.input.composing=!0}Jy(r,ZS)};kt.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,Jy(r,20))};function Jy(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>gl(r),e))}function Gy(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=XS());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function YS(r){let e=r.domSelectionRange();if(!e.focusNode)return null;let t=Hx(e.focusNode,e.focusOffset),n=Ux(e.focusNode,e.focusOffset);if(t&&n&&t!=n){let o=n.pmViewDesc,s=r.domObserver.lastChangedTextNode;if(t==s||n==s)return s;if(!o||!o.isText(n.nodeValue))return n;if(r.input.compositionNode==n){let c=t.pmViewDesc;if(!(!c||!c.isText(t.nodeValue)))return n}}return t||n}function XS(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function gl(r,e=!1){if(!(Yt&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),Gy(r),e||r.docView&&r.docView.dirty){let t=Bf(r);return t&&!t.eq(r.state.selection)?r.dispatch(r.state.tr.setSelection(t)):(r.markCursor||e)&&!r.state.selection.empty?r.dispatch(r.state.tr.deleteSelection()):r.updateState(r.state),!0}return!1}}function ew(r,e){if(!r.dom.parentNode)return;let t=r.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),o=document.createRange();o.selectNodeContents(e),r.dom.blur(),n.removeAllRanges(),n.addRange(o),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),r.focus()},50)}const bi=Mt&&tr<15||Co&&Qx<604;yt.copy=kt.cut=(r,e)=>{let t=e,n=r.state.selection,o=t.type=="cut";if(n.empty)return;let s=bi?null:t.clipboardData,c=n.content(),{dom:a,text:f}=By(r,c);s?(t.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",f)):ew(r,a),o&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function tw(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function nw(r,e){if(!r.dom.parentNode)return;let t=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,n=r.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let o=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),n.parentNode&&n.parentNode.removeChild(n),t?Mi(r,n.value,null,o,e):Mi(r,n.textContent,n.innerHTML,o,e)},50)}function Mi(r,e,t,n,o){let s=qy(r,e,t,n,r.state.selection.$from);if(r.someProp("handlePaste",f=>f(r,o,s||Q.empty)))return!0;if(!s)return!1;let c=tw(s),a=c?r.state.tr.replaceSelectionWith(c,n):r.state.tr.replaceSelection(s);return r.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Qy(r){let e=r.getData("text/plain")||r.getData("Text");if(e)return e;let t=r.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}kt.paste=(r,e)=>{let t=e;if(r.composing&&!Yt)return;let n=bi?null:t.clipboardData,o=r.input.shiftKey&&r.input.lastKeyCode!=45;n&&Mi(r,Qy(n),n.getData("text/html"),o,t)?t.preventDefault():nw(r,t)};class Zy{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const Yy=Vt?"altKey":"ctrlKey";yt.dragstart=(r,e)=>{let t=e,n=r.input.mouseDown;if(n&&n.done(),!t.dataTransfer)return;let o=r.state.selection,s=o.empty?null:r.posAtCoords(Al(t)),c;if(!(s&&s.pos>=o.from&&s.pos<=(o instanceof le?o.to-1:o.to))){if(n&&n.mightDrag)c=le.create(r.state.doc,n.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let m=r.docView.nearestDesc(t.target,!0);m&&m.node.type.spec.draggable&&m!=r.docView&&(c=le.create(r.state.doc,m.posBefore))}}let a=(c||r.state.selection).content(),{dom:f,text:d,slice:p}=By(r,a);(!t.dataTransfer.files.length||!ut||Cy>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(bi?"Text":"text/html",f.innerHTML),t.dataTransfer.effectAllowed="copyMove",bi||t.dataTransfer.setData("text/plain",d),r.dragging=new Zy(p,!t[Yy],c)};yt.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};kt.dragover=kt.dragenter=(r,e)=>e.preventDefault();kt.drop=(r,e)=>{let t=e,n=r.dragging;if(r.dragging=null,!t.dataTransfer)return;let o=r.posAtCoords(Al(t));if(!o)return;let s=r.state.doc.resolve(o.pos),c=n&&n.slice;c?r.someProp("transformPasted",x=>{c=x(c,r)}):c=qy(r,Qy(t.dataTransfer),bi?null:t.dataTransfer.getData("text/html"),!1,s);let a=!!(n&&!t[Yy]);if(r.someProp("handleDrop",x=>x(r,t,c||Q.empty,a))){t.preventDefault();return}if(!c)return;t.preventDefault();let f=c?my(r.state.doc,s.pos,c):s.pos;f==null&&(f=s.pos);let d=r.state.tr;if(a){let{node:x}=n;x?x.replace(d):d.deleteSelection()}let p=d.mapping.map(f),m=c.openStart==0&&c.openEnd==0&&c.content.childCount==1,k=d.doc;if(m?d.replaceRangeWith(p,p,c.content.firstChild):d.replaceRange(p,p,c),d.doc.eq(k))return;let v=d.doc.resolve(p);if(m&&le.isSelectable(c.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(c.content.firstChild))d.setSelection(new le(v));else{let x=d.mapping.map(f);d.mapping.maps[d.mapping.maps.length-1].forEach((w,C,E,A)=>x=A),d.setSelection(qf(r,v,d.doc.resolve(x)))}r.focus(),r.dispatch(d.setMeta("uiEvent","drop"))};yt.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&_n(r)},20))};yt.blur=(r,e)=>{let t=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),t.relatedTarget&&r.dom.contains(t.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};yt.beforeinput=(r,e)=>{if(ut&&Yt&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:n}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=n||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",s=>s(r,Cr(8,"Backspace")))))return;let{$cursor:o}=r.state.selection;o&&o.pos>0&&r.dispatch(r.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let r in kt)yt[r]=kt[r];function Ti(r,e){if(r==e)return!0;for(let t in r)if(r[t]!==e[t])return!1;for(let t in e)if(!(t in r))return!1;return!0}class yl{constructor(e,t){this.toDOM=e,this.spec=t||Dr,this.side=this.spec.side||0}map(e,t,n,o){let{pos:s,deleted:c}=e.mapResult(t.from+o,this.side<0?-1:1);return c?null:new jt(s-n,s-n,this)}valid(){return!0}eq(e){return this==e||e instanceof yl&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ti(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class rr{constructor(e,t){this.attrs=e,this.spec=t||Dr}map(e,t,n,o){let s=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-n,c=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-n;return s>=c?null:new jt(s,c,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof rr&&Ti(this.attrs,e.attrs)&&Ti(this.spec,e.spec)}static is(e){return e.type instanceof rr}destroy(){}}class Hf{constructor(e,t){this.attrs=e,this.spec=t||Dr}map(e,t,n,o){let s=e.mapResult(t.from+o,1);if(s.deleted)return null;let c=e.mapResult(t.to+o,-1);return c.deleted||c.pos<=s.pos?null:new jt(s.pos-n,c.pos-n,this)}valid(e,t){let{index:n,offset:o}=e.content.findIndex(t.from),s;return o==t.from&&!(s=e.child(n)).isText&&o+s.nodeSize==t.to}eq(e){return this==e||e instanceof Hf&&Ti(this.attrs,e.attrs)&&Ti(this.spec,e.spec)}destroy(){}}class jt{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new jt(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new jt(e,e,new yl(t,n))}static inline(e,t,n,o){return new jt(e,t,new rr(n,o))}static node(e,t,n,o){return new jt(e,t,new Hf(n,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof rr}get widget(){return this.type instanceof yl}}const ho=[],Dr={};class Ue{constructor(e,t){this.local=e.length?e:ho,this.children=t.length?t:ho}static create(e,t){return t.length?kl(t,e,0,Dr):at}find(e,t,n){let o=[];return this.findInner(e??0,t??1e9,o,0,n),o}findInner(e,t,n,o,s){for(let c=0;c<this.local.length;c++){let a=this.local[c];a.from<=t&&a.to>=e&&(!s||s(a.spec))&&n.push(a.copy(a.from+o,a.to+o))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<t&&this.children[c+1]>e){let a=this.children[c]+1;this.children[c+2].findInner(e-a,t-a,n,o+a,s)}}map(e,t,n){return this==at||e.maps.length==0?this:this.mapInner(e,t,0,0,n||Dr)}mapInner(e,t,n,o,s){let c;for(let a=0;a<this.local.length;a++){let f=this.local[a].map(e,n,o);f&&f.type.valid(t,f)?(c||(c=[])).push(f):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?rw(this.children,c||[],e,t,n,o,s):c?new Ue(c.sort(Nr),ho):at}add(e,t){return t.length?this==at?Ue.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let o,s=0;e.forEach((a,f)=>{let d=f+n,p;if(p=e1(t,a,d)){for(o||(o=this.children.slice());s<o.length&&o[s]<f;)s+=3;o[s]==f?o[s+2]=o[s+2].addInner(a,p,d+1):o.splice(s,0,f,f+a.nodeSize,kl(p,a,d+1,Dr)),s+=3}});let c=Xy(s?t1(t):t,-n);for(let a=0;a<c.length;a++)c[a].type.valid(e,c[a])||c.splice(a--,1);return new Ue(c.length?this.local.concat(c).sort(Nr):this.local,o||this.children)}remove(e){return e.length==0||this==at?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,o=this.local;for(let s=0;s<n.length;s+=3){let c,a=n[s]+t,f=n[s+1]+t;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>a&&m.to<f&&(e[p]=null,(c||(c=[])).push(m));if(!c)continue;n==this.children&&(n=this.children.slice());let d=n[s+2].removeInner(c,a+1);d!=at?n[s+2]=d:(n.splice(s,3),s-=3)}if(o.length){for(let s=0,c;s<e.length;s++)if(c=e[s])for(let a=0;a<o.length;a++)o[a].eq(c,t)&&(o==this.local&&(o=this.local.slice()),o.splice(a--,1))}return n==this.children&&o==this.local?this:o.length||n.length?new Ue(o,n):at}forChild(e,t){if(this==at)return this;if(t.isLeaf)return Ue.empty;let n,o;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}let s=e+1,c=s+t.content.size;for(let a=0;a<this.local.length;a++){let f=this.local[a];if(f.from<c&&f.to>s&&f.type instanceof rr){let d=Math.max(s,f.from)-s,p=Math.min(c,f.to)-s;d<p&&(o||(o=[])).push(f.copy(d,p))}}if(o){let a=new Ue(o.sort(Nr),ho);return n?new Gn([a,n]):a}return n||at}eq(e){if(this==e)return!0;if(!(e instanceof Ue)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Uf(this.localsInner(e))}localsInner(e){if(this==at)return ho;if(e.inlineContent||!this.local.some(rr.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof rr||t.push(this.local[n]);return t}forEachSet(e){e(this)}}Ue.empty=new Ue([],[]);Ue.removeOverlap=Uf;const at=Ue.empty;class Gn{constructor(e){this.members=e}map(e,t){const n=this.members.map(o=>o.map(e,t,Dr));return Gn.from(n)}forChild(e,t){if(t.isLeaf)return Ue.empty;let n=[];for(let o=0;o<this.members.length;o++){let s=this.members[o].forChild(e,t);s!=at&&(s instanceof Gn?n=n.concat(s.members):n.push(s))}return Gn.from(n)}eq(e){if(!(e instanceof Gn)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let o=0;o<this.members.length;o++){let s=this.members[o].localsInner(e);if(s.length)if(!t)t=s;else{n&&(t=t.slice(),n=!1);for(let c=0;c<s.length;c++)t.push(s[c])}}return t?Uf(n?t:t.sort(Nr)):ho}static from(e){switch(e.length){case 0:return at;case 1:return e[0];default:return new Gn(e.every(t=>t instanceof Ue)?e:e.reduce((t,n)=>t.concat(n instanceof Ue?n:n.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function rw(r,e,t,n,o,s,c){let a=r.slice();for(let d=0,p=s;d<t.maps.length;d++){let m=0;t.maps[d].forEach((k,v,x,w)=>{let C=w-x-(v-k);for(let E=0;E<a.length;E+=3){let A=a[E+1];if(A<0||k>A+p-m)continue;let b=a[E]+p-m;v>=b?a[E+1]=k<=b?-2:-1:k>=p&&C&&(a[E]+=C,a[E+1]+=C)}m+=C}),p=t.maps[d].map(p,-1)}let f=!1;for(let d=0;d<a.length;d+=3)if(a[d+1]<0){if(a[d+1]==-2){f=!0,a[d+1]=-1;continue}let p=t.map(r[d]+s),m=p-o;if(m<0||m>=n.content.size){f=!0;continue}let k=t.map(r[d+1]+s,-1),v=k-o,{index:x,offset:w}=n.content.findIndex(m),C=n.maybeChild(x);if(C&&w==m&&w+C.nodeSize==v){let E=a[d+2].mapInner(t,C,p+1,r[d]+s+1,c);E!=at?(a[d]=m,a[d+1]=v,a[d+2]=E):(a[d+1]=-2,f=!0)}else f=!0}if(f){let d=ow(a,r,e,t,o,s,c),p=kl(d,n,0,c);e=p.local;for(let m=0;m<a.length;m+=3)a[m+1]<0&&(a.splice(m,3),m-=3);for(let m=0,k=0;m<p.children.length;m+=3){let v=p.children[m];for(;k<a.length&&a[k]<v;)k+=3;a.splice(k,0,p.children[m],p.children[m+1],p.children[m+2])}}return new Ue(e.sort(Nr),a)}function Xy(r,e){if(!e||!r.length)return r;let t=[];for(let n=0;n<r.length;n++){let o=r[n];t.push(new jt(o.from+e,o.to+e,o.type))}return t}function ow(r,e,t,n,o,s,c){function a(f,d){for(let p=0;p<f.local.length;p++){let m=f.local[p].map(n,o,d);m?t.push(m):c.onRemove&&c.onRemove(f.local[p].spec)}for(let p=0;p<f.children.length;p+=3)a(f.children[p+2],f.children[p]+d+1)}for(let f=0;f<r.length;f+=3)r[f+1]==-1&&a(r[f+2],e[f]+s+1);return t}function e1(r,e,t){if(e.isLeaf)return null;let n=t+e.nodeSize,o=null;for(let s=0,c;s<r.length;s++)(c=r[s])&&c.from>t&&c.to<n&&((o||(o=[])).push(c),r[s]=null);return o}function t1(r){let e=[];for(let t=0;t<r.length;t++)r[t]!=null&&e.push(r[t]);return e}function kl(r,e,t,n){let o=[],s=!1;e.forEach((a,f)=>{let d=e1(r,a,f+t);if(d){s=!0;let p=kl(d,a,t+f+1,n);p!=at&&o.push(f,f+a.nodeSize,p)}});let c=Xy(s?t1(r):r,-t).sort(Nr);for(let a=0;a<c.length;a++)c[a].type.valid(e,c[a])||(n.onRemove&&n.onRemove(c[a].spec),c.splice(a--,1));return c.length||o.length?new Ue(c,o):at}function Nr(r,e){return r.from-e.from||r.to-e.to}function Uf(r){let e=r;for(let t=0;t<e.length-1;t++){let n=e[t];if(n.from!=n.to)for(let o=t+1;o<e.length;o++){let s=e[o];if(s.from==n.from){s.to!=n.to&&(e==r&&(e=r.slice()),e[o]=s.copy(s.from,n.to),Xm(e,o+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(e==r&&(e=r.slice()),e[t]=n.copy(n.from,s.from),Xm(e,o,n.copy(s.from,n.to)));break}}}return e}function Xm(r,e,t){for(;e<r.length&&Nr(t,r[e])>0;)e++;r.splice(e,0,t)}function Ua(r){let e=[];return r.someProp("decorations",t=>{let n=t(r.state);n&&n!=at&&e.push(n)}),r.cursorWrapper&&e.push(Ue.create(r.state.doc,[r.cursorWrapper.deco])),Gn.from(e)}const iw={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},sw=Mt&&tr<=11;class lw{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class cw{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new lw,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let o=0;o<n.length;o++)this.queue.push(n[o]);Mt&&tr<=11&&n.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),sw&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,iw)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Um(this.view)){if(this.suppressingSelectionUpdates)return _n(this.view);if(Mt&&tr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ir(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let s=e.focusNode;s;s=_i(s))t.add(s);for(let s=e.anchorNode;s;s=_i(s))if(t.has(s)){n=s;break}let o=n&&this.view.docView.nearestDesc(n);if(o&&o.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Um(e)&&!this.ignoreSelectionChange(n),s=-1,c=-1,a=!1,f=[];if(e.editable)for(let p=0;p<t.length;p++){let m=this.registerMutation(t[p],f);m&&(s=s<0?m.from:Math.min(m.from,s),c=c<0?m.to:Math.max(m.to,c),m.typeOver&&(a=!0))}if(tn&&f.length){let p=f.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,k]=p;m.parentNode&&m.parentNode.parentNode==k.parentNode?k.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let k of p){let v=k.parentNode;v&&v.nodeName=="LI"&&(!m||fw(e,m)!=v)&&k.remove()}}}let d=null;s<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ml(n)&&(d=Bf(e))&&d.eq(de.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,_n(e),this.currentSelection.set(n),e.scrollToSelection()):(s>-1||o)&&(s>-1&&(e.docView.markDirty(s,c),aw(e)),this.handleDOMChange(s,c,a,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||_n(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];t.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let o=e.previousSibling,s=e.nextSibling;if(Mt&&tr<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:k}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(o=m),(!k||Array.prototype.indexOf.call(e.addedNodes,k)<0)&&(s=k)}let c=o&&o.parentNode==e.target?rt(o)+1:0,a=n.localPosFromDOM(e.target,c,-1),f=s&&s.parentNode==e.target?rt(s):e.target.childNodes.length,d=n.localPosFromDOM(e.target,f,1);return{from:a,to:d}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let eg=new WeakMap,tg=!1;function aw(r){if(!eg.has(r)&&(eg.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=tn,tg)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),tg=!0}}function ng(r,e){let t=e.startContainer,n=e.startOffset,o=e.endContainer,s=e.endOffset,c=r.domAtPos(r.state.selection.anchor);return Ir(c.node,c.offset,o,s)&&([t,n,o,s]=[o,s,t,n]),{anchorNode:t,anchorOffset:n,focusNode:o,focusOffset:s}}function uw(r,e){if(e.getComposedRanges){let o=e.getComposedRanges(r.root)[0];if(o)return ng(r,o)}let t;function n(o){o.preventDefault(),o.stopImmediatePropagation(),t=o.getTargetRanges()[0]}return r.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",n,!0),t?ng(r,t):null}function fw(r,e){for(let t=e.parentNode;t&&t!=r.dom;t=t.parentNode){let n=r.docView.nearestDesc(t,!0);if(n&&n.node.isBlock)return t}return null}function dw(r,e,t){let{node:n,fromOffset:o,toOffset:s,from:c,to:a}=r.docView.parseRange(e,t),f=r.domSelectionRange(),d,p=f.anchorNode;if(p&&r.dom.contains(p.nodeType==1?p:p.parentNode)&&(d=[{node:p,offset:f.anchorOffset}],Ml(f)||d.push({node:f.focusNode,offset:f.focusOffset})),ut&&r.input.lastKeyCode===8)for(let C=s;C>o;C--){let E=n.childNodes[C-1],A=E.pmViewDesc;if(E.nodeName=="BR"&&!A){s=C;break}if(!A||A.size)break}let m=r.state.doc,k=r.someProp("domParser")||er.fromSchema(r.state.schema),v=m.resolve(c),x=null,w=k.parse(n,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:o,to:s,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:hw,context:v});if(d&&d[0].pos!=null){let C=d[0].pos,E=d[1]&&d[1].pos;E==null&&(E=C),x={anchor:C+c,head:E+c}}return{doc:w,sel:x,from:c,to:a}}function hw(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(gt&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(r.parentNode.lastChild==r||gt&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}const pw=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function mw(r,e,t,n,o){let s=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,e<0){let F=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,K=Bf(r,F);if(K&&!r.state.selection.eq(K)){if(ut&&Yt&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",ae=>ae(r,Cr(13,"Enter"))))return;let X=r.state.tr.setSelection(K);F=="pointer"?X.setMeta("pointer",!0):F=="key"&&X.scrollIntoView(),s&&X.setMeta("composition",s),r.dispatch(X)}return}let c=r.state.doc.resolve(e),a=c.sharedDepth(t);e=c.before(a+1),t=r.state.doc.resolve(t).after(a+1);let f=r.state.selection,d=dw(r,e,t),p=r.state.doc,m=p.slice(d.from,d.to),k,v;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(k=r.state.selection.to,v="end"):(k=r.state.selection.from,v="start"),r.input.lastKeyCode=null;let x=kw(m.content,d.doc.content,d.from,k,v);if(x&&r.input.domChangeCount++,(Co&&r.input.lastIOSEnter>Date.now()-225||Yt)&&o.some(F=>F.nodeType==1&&!pw.test(F.nodeName))&&(!x||x.endA>=x.endB)&&r.someProp("handleKeyDown",F=>F(r,Cr(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!x)if(n&&f instanceof ue&&!f.empty&&f.$head.sameParent(f.$anchor)&&!r.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))x={start:f.from,endA:f.to,endB:f.to};else{if(d.sel){let F=rg(r,r.state.doc,d.sel);if(F&&!F.eq(r.state.selection)){let K=r.state.tr.setSelection(F);s&&K.setMeta("composition",s),r.dispatch(K)}}return}r.state.selection.from<r.state.selection.to&&x.start==x.endB&&r.state.selection instanceof ue&&(x.start>r.state.selection.from&&x.start<=r.state.selection.from+2&&r.state.selection.from>=d.from?x.start=r.state.selection.from:x.endA<r.state.selection.to&&x.endA>=r.state.selection.to-2&&r.state.selection.to<=d.to&&(x.endB+=r.state.selection.to-x.endA,x.endA=r.state.selection.to)),Mt&&tr<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>d.from&&d.doc.textBetween(x.start-d.from-1,x.start-d.from+1)=="  "&&(x.start--,x.endA--,x.endB--);let w=d.doc.resolveNoCache(x.start-d.from),C=d.doc.resolveNoCache(x.endB-d.from),E=p.resolve(x.start),A=w.sameParent(C)&&w.parent.inlineContent&&E.end()>=x.endA,b;if((Co&&r.input.lastIOSEnter>Date.now()-225&&(!A||o.some(F=>F.nodeName=="DIV"||F.nodeName=="P"))||!A&&w.pos<d.doc.content.size&&!w.sameParent(C)&&(b=de.findFrom(d.doc.resolve(w.pos+1),1,!0))&&b.head==C.pos)&&r.someProp("handleKeyDown",F=>F(r,Cr(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>x.start&&yw(p,x.start,x.endA,w,C)&&r.someProp("handleKeyDown",F=>F(r,Cr(8,"Backspace")))){Yt&&ut&&r.domObserver.suppressSelectionUpdates();return}ut&&Yt&&x.endB==x.start&&(r.input.lastAndroidDelete=Date.now()),Yt&&!A&&w.start()!=C.start()&&C.parentOffset==0&&w.depth==C.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==x.endA&&(x.endB-=2,C=d.doc.resolveNoCache(x.endB-d.from),setTimeout(()=>{r.someProp("handleKeyDown",function(F){return F(r,Cr(13,"Enter"))})},20));let T=x.start,I=x.endA,O,W,L;if(A){if(w.pos==C.pos)Mt&&tr<=11&&w.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>_n(r),20)),O=r.state.tr.delete(T,I),W=p.resolve(x.start).marksAcross(p.resolve(x.endA));else if(x.endA==x.endB&&(L=gw(w.parent.content.cut(w.parentOffset,C.parentOffset),E.parent.content.cut(E.parentOffset,x.endA-E.start()))))O=r.state.tr,L.type=="add"?O.addMark(T,I,L.mark):O.removeMark(T,I,L.mark);else if(w.parent.child(w.index()).isText&&w.index()==C.index()-(C.textOffset?0:1)){let F=w.parent.textBetween(w.parentOffset,C.parentOffset);if(r.someProp("handleTextInput",K=>K(r,T,I,F)))return;O=r.state.tr.insertText(F,T,I)}}if(O||(O=r.state.tr.replace(T,I,d.doc.slice(x.start-d.from,x.endB-d.from))),d.sel){let F=rg(r,O.doc,d.sel);F&&!(ut&&Yt&&r.composing&&F.empty&&(x.start!=x.endB||r.input.lastAndroidDelete<Date.now()-100)&&(F.head==T||F.head==O.mapping.map(I)-1)||Mt&&F.empty&&F.head==T)&&O.setSelection(F)}W&&O.ensureMarks(W),s&&O.setMeta("composition",s),r.dispatch(O.scrollIntoView())}function rg(r,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:qf(r,e.resolve(t.anchor),e.resolve(t.head))}function gw(r,e){let t=r.firstChild.marks,n=e.firstChild.marks,o=t,s=n,c,a,f;for(let p=0;p<n.length;p++)o=n[p].removeFromSet(o);for(let p=0;p<t.length;p++)s=t[p].removeFromSet(s);if(o.length==1&&s.length==0)a=o[0],c="add",f=p=>p.mark(a.addToSet(p.marks));else if(o.length==0&&s.length==1)a=s[0],c="remove",f=p=>p.mark(a.removeFromSet(p.marks));else return null;let d=[];for(let p=0;p<e.childCount;p++)d.push(f(e.child(p)));if(H.from(d).eq(r))return{mark:a,type:c}}function yw(r,e,t,n,o){if(t-e<=o.pos-n.pos||Wa(n,!0,!1)<o.pos)return!1;let s=r.resolve(e);if(!n.parent.isTextblock){let a=s.nodeAfter;return a!=null&&t==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let c=r.resolve(Wa(s,!0,!0));return!c.parent.isTextblock||c.pos>t||Wa(c,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(c.parent.content)}function Wa(r,e,t){let n=r.depth,o=e?r.end():r.pos;for(;n>0&&(e||r.indexAfter(n)==r.node(n).childCount);)n--,o++,e=!1;if(t){let s=r.node(n).maybeChild(r.indexAfter(n));for(;s&&!s.isLeaf;)s=s.firstChild,o++}return o}function kw(r,e,t,n,o){let s=r.findDiffStart(e,t);if(s==null)return null;let{a:c,b:a}=r.findDiffEnd(e,t+r.size,t+e.size);if(o=="end"){let f=Math.max(0,s-Math.min(c,a));n-=c+f-s}if(c<s&&r.size<e.size){let f=n<=s&&n>=c?s-n:0;s-=f,s&&s<e.size&&og(e.textBetween(s-1,s+1))&&(s+=f?1:-1),a=s+(a-c),c=s}else if(a<s){let f=n<=s&&n>=a?s-n:0;s-=f,s&&s<r.size&&og(r.textBetween(s-1,s+1))&&(s+=f?1:-1),c=s+(c-a),a=s}return{start:s,endA:c,endB:a}}function og(r){if(r.length!=2)return!1;let e=r.charCodeAt(0),t=r.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class vw{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new FS,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(ag),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=lg(this),sg(this),this.nodeViews=cg(this),this.docView=Bm(this.state.doc,ig(this),Ua(this),this.dom,this),this.domObserver=new cw(this,(n,o,s,c)=>mw(this,n,o,s,c)),this.domObserver.start(),BS(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&bf(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(ag),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let o=this.state,s=!1,c=!1;e.storedMarks&&this.composing&&(Gy(this),c=!0),this.state=e;let a=o.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let v=cg(this);Sw(v,this.nodeViews)&&(this.nodeViews=v,s=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&bf(this),this.editable=lg(this),sg(this);let f=Ua(this),d=ig(this),p=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",m=s||!this.docView.matchesNode(e.doc,d,f);(m||!e.selection.eq(o.selection))&&(c=!0);let k=p=="preserve"&&c&&this.dom.style.overflowAnchor==null&&Xx(this);if(c){this.domObserver.stop();let v=m&&(Mt||ut)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&xw(o.selection,e.selection);if(m){let x=ut?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=YS(this)),(s||!this.docView.update(e.doc,d,f,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=Bm(e.doc,d,f,this.dom,this)),x&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&CS(this))?_n(this,v):(zy(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((n=this.dragging)===null||n===void 0)&&n.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():k&&eS(k)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof le){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Rm(this,t.getBoundingClientRect(),e)}else Rm(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}updateDraggedNode(e,t){let n=e.node,o=-1;if(this.state.doc.nodeAt(n.from)==n.node)o=n.from;else{let s=n.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==n.node&&(o=s)}this.dragging=new Zy(e.slice,e.move,o<0?void 0:le.create(this.state.doc,o))}someProp(e,t){let n=this._props&&this._props[e],o;if(n!=null&&(o=t?t(n):n))return o;for(let c=0;c<this.directPlugins.length;c++){let a=this.directPlugins[c].props[e];if(a!=null&&(o=t?t(a):a))return o}let s=this.state.plugins;if(s)for(let c=0;c<s.length;c++){let a=s[c].props[e];if(a!=null&&(o=t?t(a):a))return o}}hasFocus(){if(Mt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&tS(this.dom),_n(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return sS(this,e)}coordsAtPos(e,t=1){return Ty(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let o=this.docView.posFromDOM(e,t,n);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,t){return fS(this,t||this.state,e)}pasteHTML(e,t){return Mi(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Mi(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(qS(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ua(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,$x())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return $S(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?gt&&this.root.nodeType===11&&Kx(this.dom.ownerDocument)==this.dom&&uw(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function ig(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),r.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(r.state)),t)for(let n in t)n=="class"?e.class+=" "+t[n]:n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),e.translate||(e.translate="no"),[jt.node(0,r.state.doc.content.size,e)]}function sg(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:jt.widget(r.state.selection.from,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function lg(r){return!r.someProp("editable",e=>e(r.state)===!1)}function xw(r,e){let t=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(t)!=e.$anchor.start(t)}function cg(r){let e=Object.create(null);function t(n){for(let o in n)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=n[o])}return r.someProp("nodeViews",t),r.someProp("markViews",t),e}function Sw(r,e){let t=0,n=0;for(let o in r){if(r[o]!=e[o])return!0;t++}for(let o in e)n++;return t!=n}function ag(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var or={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},vl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ww=typeof navigator<"u"&&/Mac/.test(navigator.platform),Cw=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ot=0;ot<10;ot++)or[48+ot]=or[96+ot]=String(ot);for(var ot=1;ot<=24;ot++)or[ot+111]="F"+ot;for(var ot=65;ot<=90;ot++)or[ot]=String.fromCharCode(ot+32),vl[ot]=String.fromCharCode(ot);for(var Ka in or)vl.hasOwnProperty(Ka)||(vl[Ka]=or[Ka]);function Ew(r){var e=ww&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||Cw&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?vl:or)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const _w=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function bw(r){let e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let n,o,s,c;for(let a=0;a<e.length-1;a++){let f=e[a];if(/^(cmd|meta|m)$/i.test(f))c=!0;else if(/^a(lt)?$/i.test(f))n=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))_w?c=!0:o=!0;else throw new Error("Unrecognized modifier name: "+f)}return n&&(t="Alt-"+t),o&&(t="Ctrl-"+t),c&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function Mw(r){let e=Object.create(null);for(let t in r)e[bw(t)]=r[t];return e}function Ja(r,e,t=!0){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t&&e.shiftKey&&(r="Shift-"+r),r}function Tw(r){return new Tt({props:{handleKeyDown:n1(r)}})}function n1(r){let e=Mw(r);return function(t,n){let o=Ew(n),s,c=e[Ja(o,n)];if(c&&c(t.state,t.dispatch,t))return!0;if(o.length==1&&o!=" "){if(n.shiftKey){let a=e[Ja(o,n,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(s=or[n.keyCode])&&s!=o){let a=e[Ja(s,n)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const Aw=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function r1(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("backward",r):t.parentOffset>0)?null:t}const Dw=(r,e,t)=>{let n=r1(r,t);if(!n)return!1;let o=Wf(n);if(!o){let c=n.blockRange(),a=c&&Mo(c);return a==null?!1:(e&&e(r.tr.lift(c,a).scrollIntoView()),!0)}let s=o.nodeBefore;if(l1(r,o,e,-1))return!0;if(n.parent.content.size==0&&(Eo(s,"end")||le.isSelectable(s)))for(let c=n.depth;;c--){let a=_l(r.doc,n.before(c),n.after(c),Q.empty);if(a&&a.slice.size<a.to-a.from){if(e){let f=r.tr.step(a);f.setSelection(Eo(s,"end")?de.findFrom(f.doc.resolve(f.mapping.map(o.pos,-1)),-1):le.create(f.doc,o.pos-s.nodeSize)),e(f.scrollIntoView())}return!0}if(c==1||n.node(c-1).childCount>1)break}return s.isAtom&&o.depth==n.depth-1?(e&&e(r.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0):!1},Nw=(r,e,t)=>{let n=r1(r,t);if(!n)return!1;let o=Wf(n);return o?o1(r,o,e):!1},Ow=(r,e,t)=>{let n=i1(r,t);if(!n)return!1;let o=Kf(n);return o?o1(r,o,e):!1};function o1(r,e,t){let n=e.nodeBefore,o=n,s=e.pos-1;for(;!o.isTextblock;s--){if(o.type.spec.isolating)return!1;let p=o.lastChild;if(!p)return!1;o=p}let c=e.nodeAfter,a=c,f=e.pos+1;for(;!a.isTextblock;f++){if(a.type.spec.isolating)return!1;let p=a.firstChild;if(!p)return!1;a=p}let d=_l(r.doc,s,f,Q.empty);if(!d||d.from!=s||d instanceof Qe&&d.slice.size>=f-s)return!1;if(t){let p=r.tr.step(d);p.setSelection(ue.create(p.doc,s)),t(p.scrollIntoView())}return!0}function Eo(r,e,t=!1){for(let n=r;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}const Rw=(r,e,t)=>{let{$head:n,empty:o}=r.selection,s=n;if(!o)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):n.parentOffset>0)return!1;s=Wf(n)}let c=s&&s.nodeBefore;return!c||!le.isSelectable(c)?!1:(e&&e(r.tr.setSelection(le.create(r.doc,s.pos-c.nodeSize)).scrollIntoView()),!0)};function Wf(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function i1(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("forward",r):t.parentOffset<t.parent.content.size)?null:t}const Iw=(r,e,t)=>{let n=i1(r,t);if(!n)return!1;let o=Kf(n);if(!o)return!1;let s=o.nodeAfter;if(l1(r,o,e,1))return!0;if(n.parent.content.size==0&&(Eo(s,"start")||le.isSelectable(s))){let c=_l(r.doc,n.before(),n.after(),Q.empty);if(c&&c.slice.size<c.to-c.from){if(e){let a=r.tr.step(c);a.setSelection(Eo(s,"start")?de.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):le.create(a.doc,a.mapping.map(o.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&o.depth==n.depth-1?(e&&e(r.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0):!1},Pw=(r,e,t)=>{let{$head:n,empty:o}=r.selection,s=n;if(!o)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)return!1;s=Kf(n)}let c=s&&s.nodeAfter;return!c||!le.isSelectable(c)?!1:(e&&e(r.tr.setSelection(le.create(r.doc,s.pos)).scrollIntoView()),!0)};function Kf(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}const zw=(r,e)=>{let t=r.selection,n=t instanceof le,o;if(n){if(t.node.isTextblock||!sr(r.doc,t.from))return!1;o=t.from}else if(o=El(r.doc,t.from,-1),o==null)return!1;if(e){let s=r.tr.join(o);n&&s.setSelection(le.create(s.doc,o-r.doc.resolve(o).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},Lw=(r,e)=>{let t=r.selection,n;if(t instanceof le){if(t.node.isTextblock||!sr(r.doc,t.to))return!1;n=t.to}else if(n=El(r.doc,t.to,1),n==null)return!1;return e&&e(r.tr.join(n).scrollIntoView()),!0},Fw=(r,e)=>{let{$from:t,$to:n}=r.selection,o=t.blockRange(n),s=o&&Mo(o);return s==null?!1:(e&&e(r.tr.lift(o,s).scrollIntoView()),!0)},Bw=(r,e)=>{let{$head:t,$anchor:n}=r.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function s1(r){for(let e=0;e<r.edgeCount;e++){let{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const qw=(r,e)=>{let{$head:t,$anchor:n}=r.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let o=t.node(-1),s=t.indexAfter(-1),c=s1(o.contentMatchAt(s));if(!c||!o.canReplaceWith(s,s,c))return!1;if(e){let a=t.after(),f=r.tr.replaceWith(a,a,c.createAndFill());f.setSelection(de.near(f.doc.resolve(a),1)),e(f.scrollIntoView())}return!0},Vw=(r,e)=>{let t=r.selection,{$from:n,$to:o}=t;if(t instanceof en||n.parent.inlineContent||o.parent.inlineContent)return!1;let s=s1(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let c=(!n.parentOffset&&o.index()<o.parent.childCount?n:o).pos,a=r.tr.insert(c,s.createAndFill());a.setSelection(ue.create(a.doc,c+1)),e(a.scrollIntoView())}return!0},$w=(r,e)=>{let{$cursor:t}=r.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(yo(r.doc,s))return e&&e(r.tr.split(s).scrollIntoView()),!0}let n=t.blockRange(),o=n&&Mo(n);return o==null?!1:(e&&e(r.tr.lift(n,o).scrollIntoView()),!0)},jw=(r,e)=>{let{$from:t,to:n}=r.selection,o,s=t.sharedDepth(n);return s==0?!1:(o=t.before(s),e&&e(r.tr.setSelection(le.create(r.doc,o))),!0)};function Hw(r,e,t){let n=e.nodeBefore,o=e.nodeAfter,s=e.index();return!n||!o||!n.type.compatibleContent(o.type)?!1:!n.content.size&&e.parent.canReplace(s-1,s)?(t&&t(r.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(o.isTextblock||sr(r.doc,e.pos))?!1:(t&&t(r.tr.join(e.pos).scrollIntoView()),!0)}function l1(r,e,t,n){let o=e.nodeBefore,s=e.nodeAfter,c,a,f=o.type.spec.isolating||s.type.spec.isolating;if(!f&&Hw(r,e,t))return!0;let d=!f&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(c=(a=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&a.matchType(c[0]||s.type).validEnd){if(t){let v=e.pos+s.nodeSize,x=H.empty;for(let E=c.length-1;E>=0;E--)x=H.from(c[E].create(null,x));x=H.from(o.copy(x));let w=r.tr.step(new Ze(e.pos-1,v,e.pos,v,new Q(x,1,0),c.length,!0)),C=w.doc.resolve(v+2*c.length);C.nodeAfter&&C.nodeAfter.type==o.type&&sr(w.doc,C.pos)&&w.join(C.pos),t(w.scrollIntoView())}return!0}let p=s.type.spec.isolating||n>0&&f?null:de.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),k=m&&Mo(m);if(k!=null&&k>=e.depth)return t&&t(r.tr.lift(m,k).scrollIntoView()),!0;if(d&&Eo(s,"start",!0)&&Eo(o,"end")){let v=o,x=[];for(;x.push(v),!v.isTextblock;)v=v.lastChild;let w=s,C=1;for(;!w.isTextblock;w=w.firstChild)C++;if(v.canReplace(v.childCount,v.childCount,w.content)){if(t){let E=H.empty;for(let b=x.length-1;b>=0;b--)E=H.from(x[b].copy(E));let A=r.tr.step(new Ze(e.pos-x.length,e.pos+s.nodeSize,e.pos+C,e.pos+s.nodeSize-C,new Q(E,x.length,0),0,!0));t(A.scrollIntoView())}return!0}}return!1}function c1(r){return function(e,t){let n=e.selection,o=r<0?n.$from:n.$to,s=o.depth;for(;o.node(s).isInline;){if(!s)return!1;s--}return o.node(s).isTextblock?(t&&t(e.tr.setSelection(ue.create(e.doc,r<0?o.start(s):o.end(s)))),!0):!1}}const Uw=c1(-1),Ww=c1(1);function Kw(r,e=null){return function(t,n){let{$from:o,$to:s}=t.selection,c=o.blockRange(s),a=c&&zf(c,r,e);return a?(n&&n(t.tr.wrap(c,a).scrollIntoView()),!0):!1}}function ug(r,e=null){return function(t,n){let o=!1;for(let s=0;s<t.selection.ranges.length&&!o;s++){let{$from:{pos:c},$to:{pos:a}}=t.selection.ranges[s];t.doc.nodesBetween(c,a,(f,d)=>{if(o)return!1;if(!(!f.isTextblock||f.hasMarkup(r,e)))if(f.type==r)o=!0;else{let p=t.doc.resolve(d),m=p.index();o=p.parent.canReplaceWith(m,m+1,r)}})}if(!o)return!1;if(n){let s=t.tr;for(let c=0;c<t.selection.ranges.length;c++){let{$from:{pos:a},$to:{pos:f}}=t.selection.ranges[c];s.setBlockType(a,f,r,e)}n(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Jw(r,e=null){return function(t,n){let{$from:o,$to:s}=t.selection,c=o.blockRange(s);if(!c)return!1;let a=n?t.tr:null;return Gw(a,c,r,e)?(n&&n(a.scrollIntoView()),!0):!1}}function Gw(r,e,t,n=null){let o=!1,s=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=c.resolve(e.start-2);s=new ul(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new ul(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let a=zf(s,t,n,e);return a?(r&&Qw(r,e,a,o,t),!0):!1}function Qw(r,e,t,n,o){let s=H.empty;for(let p=t.length-1;p>=0;p--)s=H.from(t[p].type.create(t[p].attrs,s));r.step(new Ze(e.start-(n?2:0),e.end,e.start,e.end,new Q(s,0,0),t.length,!0));let c=0;for(let p=0;p<t.length;p++)t[p].type==o&&(c=p+1);let a=t.length-c,f=e.start+t.length-(n?2:0),d=e.parent;for(let p=e.startIndex,m=e.endIndex,k=!0;p<m;p++,k=!1)!k&&yo(r.doc,f,a)&&(r.split(f,a),f+=2*a),f+=d.child(p).nodeSize;return r}function Zw(r){return function(e,t){let{$from:n,$to:o}=e.selection,s=n.blockRange(o,c=>c.childCount>0&&c.firstChild.type==r);return s?t?n.node(s.depth-1).type==r?Yw(e,t,r,s):Xw(e,t,s):!0:!1}}function Yw(r,e,t,n){let o=r.tr,s=n.end,c=n.$to.end(n.depth);s<c&&(o.step(new Ze(s-1,c,s,c,new Q(H.from(t.create(null,n.parent.copy())),1,0),1,!0)),n=new ul(o.doc.resolve(n.$from.pos),o.doc.resolve(c),n.depth));const a=Mo(n);if(a==null)return!1;o.lift(n,a);let f=o.mapping.map(s,-1)-1;return sr(o.doc,f)&&o.join(f),e(o.scrollIntoView()),!0}function Xw(r,e,t){let n=r.tr,o=t.parent;for(let v=t.end,x=t.endIndex-1,w=t.startIndex;x>w;x--)v-=o.child(x).nodeSize,n.delete(v-1,v+1);let s=n.doc.resolve(t.start),c=s.nodeAfter;if(n.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,f=t.endIndex==o.childCount,d=s.node(-1),p=s.index(-1);if(!d.canReplace(p+(a?0:1),p+1,c.content.append(f?H.empty:H.from(o))))return!1;let m=s.pos,k=m+c.nodeSize;return n.step(new Ze(m-(a?1:0),k+(f?1:0),m+1,k-1,new Q((a?H.empty:H.from(o.copy(H.empty))).append(f?H.empty:H.from(o.copy(H.empty))),a?0:1,f?0:1),a?0:1)),e(n.scrollIntoView()),!0}function eC(r){return function(e,t){let{$from:n,$to:o}=e.selection,s=n.blockRange(o,d=>d.childCount>0&&d.firstChild.type==r);if(!s)return!1;let c=s.startIndex;if(c==0)return!1;let a=s.parent,f=a.child(c-1);if(f.type!=r)return!1;if(t){let d=f.lastChild&&f.lastChild.type==a.type,p=H.from(d?r.create():null),m=new Q(H.from(r.create(null,H.from(a.type.create(null,p)))),d?3:1,0),k=s.start,v=s.end;t(e.tr.step(new Ze(k-(d?3:1),v,k,v,m,1,!0)).scrollIntoView())}return!0}}function Dl(r){const{state:e,transaction:t}=r;let{selection:n}=t,{doc:o}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return n},get doc(){return o},get tr(){return n=t.selection,o=t.doc,s=t.storedMarks,t}}}class Nl{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:o}=t,{tr:s}=n,c=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,f])=>[a,(...p)=>{const m=f(...p)(c);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:o,state:s}=this,{view:c}=o,a=[],f=!!e,d=e||s.tr,p=()=>(!f&&t&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&c.dispatch(d),a.every(k=>k===!0)),m={...Object.fromEntries(Object.entries(n).map(([k,v])=>[k,(...w)=>{const C=this.buildProps(d,t),E=v(...w)(C);return a.push(E),m}])),run:p};return m}createCan(e){const{rawCommands:t,state:n}=this,o=!1,s=e||n.tr,c=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(t).map(([f,d])=>[f,(...p)=>d(...p)({...c,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(e,t=!0){const{rawCommands:n,editor:o,state:s}=this,{view:c}=o,a={tr:e,editor:o,view:c,state:Dl({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([f,d])=>[f,(...p)=>d(...p)(a)]))}};return a}}class tC{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(o=>o.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(o=>o!==t):delete this.callbacks[e]),this}once(e,t){const n=(...o)=>{this.off(e,n),t.apply(this,o)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}}function ne(r,e,t){return r.config[e]===void 0&&r.parent?ne(r.parent,e,t):typeof r.config[e]=="function"?r.config[e].bind({...t,parent:r.parent?ne(r.parent,e,t):null}):r.config[e]}function Ol(r){const e=r.filter(o=>o.type==="extension"),t=r.filter(o=>o.type==="node"),n=r.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:n}}function a1(r){const e=[],{nodeExtensions:t,markExtensions:n}=Ol(r),o=[...t,...n],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return r.forEach(c=>{const a={name:c.name,options:c.options,storage:c.storage,extensions:o},f=ne(c,"addGlobalAttributes",a);if(!f)return;f().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([k,v])=>{e.push({type:m,name:k,attribute:{...s,...v}})})})})}),o.forEach(c=>{const a={name:c.name,options:c.options,storage:c.storage},f=ne(c,"addAttributes",a);if(!f)return;const d=f();Object.entries(d).forEach(([p,m])=>{const k={...s,...m};typeof(k==null?void 0:k.default)=="function"&&(k.default=k.default()),k!=null&&k.isRequired&&(k==null?void 0:k.default)===void 0&&delete k.default,e.push({type:c.name,name:p,attribute:k})})}),e}function Xe(r,e){if(typeof r=="string"){if(!e.nodes[r])throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);return e.nodes[r]}return r}function ft(...r){return r.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([o,s])=>{if(!n[o]){n[o]=s;return}if(o==="class"){const a=s?s.split(" "):[],f=n[o]?n[o].split(" "):[],d=a.filter(p=>!f.includes(p));n[o]=[...f,...d].join(" ")}else if(o==="style"){const a=s?s.split(";").map(p=>p.trim()).filter(Boolean):[],f=n[o]?n[o].split(";").map(p=>p.trim()).filter(Boolean):[],d=new Map;f.forEach(p=>{const[m,k]=p.split(":").map(v=>v.trim());d.set(m,k)}),a.forEach(p=>{const[m,k]=p.split(":").map(v=>v.trim());d.set(m,k)}),n[o]=Array.from(d.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else n[o]=s}),n},{})}function Mf(r,e){return e.filter(t=>t.type===r.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(r.attrs)||{}:{[t.name]:r.attrs[t.name]}).reduce((t,n)=>ft(t,n),{})}function u1(r){return typeof r=="function"}function me(r,e=void 0,...t){return u1(r)?e?r.bind(e)(...t):r(...t):r}function nC(r={}){return Object.keys(r).length===0&&r.constructor===Object}function rC(r){return typeof r!="string"?r:r.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(r):r==="true"?!0:r==="false"?!1:r}function fg(r,e){return"style"in r?r:{...r,getAttrs:t=>{const n=r.getAttrs?r.getAttrs(t):r.attrs;if(n===!1)return!1;const o=e.reduce((s,c)=>{const a=c.attribute.parseHTML?c.attribute.parseHTML(t):rC(t.getAttribute(c.name));return a==null?s:{...s,[c.name]:a}},{});return{...n,...o}}}}function dg(r){return Object.fromEntries(Object.entries(r).filter(([e,t])=>e==="attrs"&&nC(t)?!1:t!=null))}function oC(r,e){var t;const n=a1(r),{nodeExtensions:o,markExtensions:s}=Ol(r),c=(t=o.find(d=>ne(d,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(o.map(d=>{const p=n.filter(E=>E.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},k=r.reduce((E,A)=>{const b=ne(A,"extendNodeSchema",m);return{...E,...b?b(d):{}}},{}),v=dg({...k,content:me(ne(d,"content",m)),marks:me(ne(d,"marks",m)),group:me(ne(d,"group",m)),inline:me(ne(d,"inline",m)),atom:me(ne(d,"atom",m)),selectable:me(ne(d,"selectable",m)),draggable:me(ne(d,"draggable",m)),code:me(ne(d,"code",m)),whitespace:me(ne(d,"whitespace",m)),linebreakReplacement:me(ne(d,"linebreakReplacement",m)),defining:me(ne(d,"defining",m)),isolating:me(ne(d,"isolating",m)),attrs:Object.fromEntries(p.map(E=>{var A;return[E.name,{default:(A=E==null?void 0:E.attribute)===null||A===void 0?void 0:A.default}]}))}),x=me(ne(d,"parseHTML",m));x&&(v.parseDOM=x.map(E=>fg(E,p)));const w=ne(d,"renderHTML",m);w&&(v.toDOM=E=>w({node:E,HTMLAttributes:Mf(E,p)}));const C=ne(d,"renderText",m);return C&&(v.toText=C),[d.name,v]})),f=Object.fromEntries(s.map(d=>{const p=n.filter(C=>C.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},k=r.reduce((C,E)=>{const A=ne(E,"extendMarkSchema",m);return{...C,...A?A(d):{}}},{}),v=dg({...k,inclusive:me(ne(d,"inclusive",m)),excludes:me(ne(d,"excludes",m)),group:me(ne(d,"group",m)),spanning:me(ne(d,"spanning",m)),code:me(ne(d,"code",m)),attrs:Object.fromEntries(p.map(C=>{var E;return[C.name,{default:(E=C==null?void 0:C.attribute)===null||E===void 0?void 0:E.default}]}))}),x=me(ne(d,"parseHTML",m));x&&(v.parseDOM=x.map(C=>fg(C,p)));const w=ne(d,"renderHTML",m);return w&&(v.toDOM=C=>w({mark:C,HTMLAttributes:Mf(C,p)})),[d.name,v]}));return new oy({topNode:c,nodes:a,marks:f})}function Ga(r,e){return e.nodes[r]||e.marks[r]||null}function hg(r,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===r.name):e}function Jf(r,e){const t=zr.fromSchema(e).serializeFragment(r),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(t),o.innerHTML}const iC=(r,e=500)=>{let t="";const n=r.parentOffset;return r.parent.nodesBetween(Math.max(0,n-e),n,(o,s,c,a)=>{var f,d;const p=((d=(f=o.type.spec).toText)===null||d===void 0?void 0:d.call(f,{node:o,pos:s,parent:c,index:a}))||o.textContent||"%leaf%";t+=o.isAtom&&!o.isText?p:p.slice(0,Math.max(0,n-s))}),t};function Gf(r){return Object.prototype.toString.call(r)==="[object RegExp]"}class Rl{constructor(e){this.find=e.find,this.handler=e.handler}}const sC=(r,e)=>{if(Gf(e))return e.exec(r);const t=e(r);if(!t)return null;const n=[t.text];return n.index=t.index,n.input=r,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(t.replaceWith)),n};function Qs(r){var e;const{editor:t,from:n,to:o,text:s,rules:c,plugin:a}=r,{view:f}=t;if(f.composing)return!1;const d=f.state.doc.resolve(n);if(d.parent.type.spec.code||!((e=d.nodeBefore||d.nodeAfter)===null||e===void 0)&&e.marks.find(k=>k.type.spec.code))return!1;let p=!1;const m=iC(d)+s;return c.forEach(k=>{if(p)return;const v=sC(m,k.find);if(!v)return;const x=f.state.tr,w=Dl({state:f.state,transaction:x}),C={from:n-(v[0].length-s.length),to:o},{commands:E,chain:A,can:b}=new Nl({editor:t,state:w});k.handler({state:w,range:C,match:v,commands:E,chain:A,can:b})===null||!x.steps.length||(x.setMeta(a,{transform:x,from:n,to:o,text:s}),f.dispatch(x),p=!0)}),p}function lC(r){const{editor:e,rules:t}=r,n=new Tt({state:{init(){return null},apply(o,s,c){const a=o.getMeta(n);if(a)return a;const f=o.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:p}=f;typeof p=="string"?p=p:p=Jf(H.from(p),c.schema);const{from:m}=f,k=m+p.length;Qs({editor:e,from:m,to:k,text:p,rules:t,plugin:n})}),o.selectionSet||o.docChanged?null:s}},props:{handleTextInput(o,s,c,a){return Qs({editor:e,from:s,to:c,text:a,rules:t,plugin:n})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:s}=o.state.selection;s&&Qs({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:n})}),!1)},handleKeyDown(o,s){if(s.key!=="Enter")return!1;const{$cursor:c}=o.state.selection;return c?Qs({editor:e,from:c.pos,to:c.pos,text:`
`,rules:t,plugin:n}):!1}},isInputRules:!0});return n}function cC(r){return Object.prototype.toString.call(r).slice(8,-1)}function Zs(r){return cC(r)!=="Object"?!1:r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function Il(r,e){const t={...r};return Zs(r)&&Zs(e)&&Object.keys(e).forEach(n=>{Zs(e[n])&&Zs(r[n])?t[n]=Il(r[n],e[n]):t[n]=e[n]}),t}class ir{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=me(ne(this,"addOptions",{name:this.name}))),this.storage=me(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ir(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Il(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new ir(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=me(ne(t,"addOptions",{name:t.name})),t.storage=me(ne(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const c=o.marks();if(!!!c.find(d=>(d==null?void 0:d.type.name)===t.name))return!1;const f=c.find(d=>(d==null?void 0:d.type.name)===t.name);return f&&n.removeStoredMark(f),n.insertText(" ",o.pos),e.view.dispatch(n),!0}return!1}}function aC(r){return typeof r=="number"}class uC{constructor(e){this.find=e.find,this.handler=e.handler}}const fC=(r,e,t)=>{if(Gf(e))return[...r.matchAll(e)];const n=e(r,t);return n?n.map(o=>{const s=[o.text];return s.index=o.index,s.input=r,s.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(o.replaceWith)),s}):[]};function dC(r){const{editor:e,state:t,from:n,to:o,rule:s,pasteEvent:c,dropEvent:a}=r,{commands:f,chain:d,can:p}=new Nl({editor:e,state:t}),m=[];return t.doc.nodesBetween(n,o,(v,x)=>{if(!v.isTextblock||v.type.spec.code)return;const w=Math.max(n,x),C=Math.min(o,x+v.content.size),E=v.textBetween(w-x,C-x,void 0,"￼");fC(E,s.find,c).forEach(b=>{if(b.index===void 0)return;const T=w+b.index+1,I=T+b[0].length,O={from:t.tr.mapping.map(T),to:t.tr.mapping.map(I)},W=s.handler({state:t,range:O,match:b,commands:f,chain:d,can:p,pasteEvent:c,dropEvent:a});m.push(W)})}),m.every(v=>v!==null)}const hC=r=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",r),t};function pC(r){const{editor:e,rules:t}=r;let n=null,o=!1,s=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const f=({state:p,from:m,to:k,rule:v,pasteEvt:x})=>{const w=p.tr,C=Dl({state:p,transaction:w});if(!(!dC({editor:e,state:C,from:Math.max(m-1,0),to:k.b-1,rule:v,pasteEvent:x,dropEvent:a})||!w.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return t.map(p=>new Tt({view(m){const k=v=>{var x;n=!((x=m.dom.parentElement)===null||x===void 0)&&x.contains(v.target)?m.dom.parentElement:null};return window.addEventListener("dragstart",k),{destroy(){window.removeEventListener("dragstart",k)}}},props:{handleDOMEvents:{drop:(m,k)=>(s=n===m.dom.parentElement,a=k,!1),paste:(m,k)=>{var v;const x=(v=k.clipboardData)===null||v===void 0?void 0:v.getData("text/html");return c=k,o=!!(x!=null&&x.includes("data-pm-slice")),!1}}},appendTransaction:(m,k,v)=>{const x=m[0],w=x.getMeta("uiEvent")==="paste"&&!o,C=x.getMeta("uiEvent")==="drop"&&!s,E=x.getMeta("applyPasteRules"),A=!!E;if(!w&&!C&&!A)return;if(A){let{text:I}=E;typeof I=="string"?I=I:I=Jf(H.from(I),v.schema);const{from:O}=E,W=O+I.length,L=hC(I);return f({rule:p,state:v,from:O,to:{b:W},pasteEvt:L})}const b=k.doc.content.findDiffStart(v.doc.content),T=k.doc.content.findDiffEnd(v.doc.content);if(!(!aC(b)||!T||b===T.b))return f({rule:p,state:v,from:b,to:T,pasteEvt:c})}}))}function mC(r){const e=r.filter((t,n)=>r.indexOf(t)!==n);return Array.from(new Set(e))}class mo{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=mo.resolve(e),this.schema=oC(this.extensions,t),this.setupExtensions()}static resolve(e){const t=mo.sort(mo.flatten(e)),n=mC(t.map(o=>o.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},o=ne(t,"addExtensions",n);return o?[t,...this.flatten(o())]:t}).flat(10)}static sort(e){return e.sort((n,o)=>{const s=ne(n,"priority")||100,c=ne(o,"priority")||100;return s>c?-1:s<c?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Ga(t.name,this.schema)},o=ne(t,"addCommands",n);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this,t=mo.sort([...this.extensions].reverse()),n=[],o=[],s=t.map(c=>{const a={name:c.name,options:c.options,storage:c.storage,editor:e,type:Ga(c.name,this.schema)},f=[],d=ne(c,"addKeyboardShortcuts",a);let p={};if(c.type==="mark"&&ne(c,"exitable",a)&&(p.ArrowRight=()=>ir.handleExit({editor:e,mark:c})),d){const w=Object.fromEntries(Object.entries(d()).map(([C,E])=>[C,()=>E({editor:e})]));p={...p,...w}}const m=Tw(p);f.push(m);const k=ne(c,"addInputRules",a);hg(c,e.options.enableInputRules)&&k&&n.push(...k());const v=ne(c,"addPasteRules",a);hg(c,e.options.enablePasteRules)&&v&&o.push(...v());const x=ne(c,"addProseMirrorPlugins",a);if(x){const w=x();f.push(...w)}return f}).flat();return[lC({editor:e,rules:n}),...pC({editor:e,rules:o}),...s]}get attributes(){return a1(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Ol(this.extensions);return Object.fromEntries(t.filter(n=>!!ne(n,"addNodeView")).map(n=>{const o=this.attributes.filter(f=>f.type===n.name),s={name:n.name,options:n.options,storage:n.storage,editor:e,type:Xe(n.name,this.schema)},c=ne(n,"addNodeView",s);if(!c)return[];const a=(f,d,p,m,k)=>{const v=Mf(f,o);return c()({node:f,view:d,getPos:p,decorations:m,innerDecorations:k,editor:e,extension:n,HTMLAttributes:v})};return[n.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Ga(e.name,this.schema)};e.type==="mark"&&(!((t=me(ne(e,"keepOnSplit",n)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const o=ne(e,"onBeforeCreate",n),s=ne(e,"onCreate",n),c=ne(e,"onUpdate",n),a=ne(e,"onSelectionUpdate",n),f=ne(e,"onTransaction",n),d=ne(e,"onFocus",n),p=ne(e,"onBlur",n),m=ne(e,"onDestroy",n);o&&this.editor.on("beforeCreate",o),s&&this.editor.on("create",s),c&&this.editor.on("update",c),a&&this.editor.on("selectionUpdate",a),f&&this.editor.on("transaction",f),d&&this.editor.on("focus",d),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}}class vt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=me(ne(this,"addOptions",{name:this.name}))),this.storage=me(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new vt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Il(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new vt({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=me(ne(t,"addOptions",{name:t.name})),t.storage=me(ne(t,"addStorage",{name:t.name,options:t.options})),t}}function f1(r,e,t){const{from:n,to:o}=e,{blockSeparator:s=`

`,textSerializers:c={}}=t||{};let a="";return r.nodesBetween(n,o,(f,d,p,m)=>{var k;f.isBlock&&d>n&&(a+=s);const v=c==null?void 0:c[f.type.name];if(v)return p&&(a+=v({node:f,pos:d,parent:p,index:m,range:e})),!1;f.isText&&(a+=(k=f==null?void 0:f.text)===null||k===void 0?void 0:k.slice(Math.max(n,d)-d,o-d))}),a}function d1(r){return Object.fromEntries(Object.entries(r.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const gC=vt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Tt({key:new pn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:r}=this,{state:e,schema:t}=r,{doc:n,selection:o}=e,{ranges:s}=o,c=Math.min(...s.map(p=>p.$from.pos)),a=Math.max(...s.map(p=>p.$to.pos)),f=d1(t);return f1(n,{from:c,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),yC=()=>({editor:r,view:e})=>(requestAnimationFrame(()=>{var t;r.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),kC=(r=!1)=>({commands:e})=>e.setContent("",r),vC=()=>({state:r,tr:e,dispatch:t})=>{const{selection:n}=e,{ranges:o}=n;return t&&o.forEach(({$from:s,$to:c})=>{r.doc.nodesBetween(s.pos,c.pos,(a,f)=>{if(a.type.isText)return;const{doc:d,mapping:p}=e,m=d.resolve(p.map(f)),k=d.resolve(p.map(f+a.nodeSize)),v=m.blockRange(k);if(!v)return;const x=Mo(v);if(a.type.isTextblock){const{defaultType:w}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(v.start,w)}(x||x===0)&&e.lift(v,x)})}),!0},xC=r=>e=>r(e),SC=()=>({state:r,dispatch:e})=>Vw(r,e),wC=(r,e)=>({editor:t,tr:n})=>{const{state:o}=t,s=o.doc.slice(r.from,r.to);n.deleteRange(r.from,r.to);const c=n.mapping.map(e);return n.insert(c,s.content),n.setSelection(new ue(n.doc.resolve(c-1))),!0},CC=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,n=t.$anchor.node();if(n.content.size>0)return!1;const o=r.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===n.type){if(e){const a=o.before(s),f=o.after(s);r.delete(a,f).scrollIntoView()}return!0}return!1},EC=r=>({tr:e,state:t,dispatch:n})=>{const o=Xe(r,t.schema),s=e.selection.$anchor;for(let c=s.depth;c>0;c-=1)if(s.node(c).type===o){if(n){const f=s.before(c),d=s.after(c);e.delete(f,d).scrollIntoView()}return!0}return!1},_C=r=>({tr:e,dispatch:t})=>{const{from:n,to:o}=r;return t&&e.delete(n,o),!0},bC=()=>({state:r,dispatch:e})=>Aw(r,e),MC=()=>({commands:r})=>r.keyboardShortcut("Enter"),TC=()=>({state:r,dispatch:e})=>qw(r,e);function xl(r,e,t={strict:!0}){const n=Object.keys(e);return n.length?n.every(o=>t.strict?e[o]===r[o]:Gf(e[o])?e[o].test(r[o]):e[o]===r[o]):!0}function h1(r,e,t={}){return r.find(n=>n.type===e&&xl(Object.fromEntries(Object.keys(t).map(o=>[o,n.attrs[o]])),t))}function pg(r,e,t={}){return!!h1(r,e,t)}function Qf(r,e,t){var n;if(!r||!e)return;let o=r.parent.childAfter(r.parentOffset);if((!o.node||!o.node.marks.some(p=>p.type===e))&&(o=r.parent.childBefore(r.parentOffset)),!o.node||!o.node.marks.some(p=>p.type===e)||(t=t||((n=o.node.marks[0])===null||n===void 0?void 0:n.attrs),!h1([...o.node.marks],e,t)))return;let c=o.index,a=r.start()+o.offset,f=c+1,d=a+o.node.nodeSize;for(;c>0&&pg([...r.parent.child(c-1).marks],e,t);)c-=1,a-=r.parent.child(c).nodeSize;for(;f<r.parent.childCount&&pg([...r.parent.child(f).marks],e,t);)d+=r.parent.child(f).nodeSize,f+=1;return{from:a,to:d}}function cr(r,e){if(typeof r=="string"){if(!e.marks[r])throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);return e.marks[r]}return r}const AC=(r,e={})=>({tr:t,state:n,dispatch:o})=>{const s=cr(r,n.schema),{doc:c,selection:a}=t,{$from:f,from:d,to:p}=a;if(o){const m=Qf(f,s,e);if(m&&m.from<=d&&m.to>=p){const k=ue.create(c,m.from,m.to);t.setSelection(k)}}return!0},DC=r=>e=>{const t=typeof r=="function"?r(e):r;for(let n=0;n<t.length;n+=1)if(t[n](e))return!0;return!1};function p1(r){return r instanceof ue}function Mr(r=0,e=0,t=0){return Math.min(Math.max(r,e),t)}function m1(r,e=null){if(!e)return null;const t=de.atStart(r),n=de.atEnd(r);if(e==="start"||e===!0)return t;if(e==="end")return n;const o=t.from,s=n.to;return e==="all"?ue.create(r,Mr(0,o,s),Mr(r.content.size,o,s)):ue.create(r,Mr(e,o,s),Mr(e,o,s))}function Zf(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const NC=(r=null,e={})=>({editor:t,view:n,tr:o,dispatch:s})=>{e={scrollIntoView:!0,...e};const c=()=>{Zf()&&n.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(n.hasFocus()&&r===null||r===!1)return!0;if(s&&r===null&&!p1(t.state.selection))return c(),!0;const a=m1(o.doc,r)||t.state.selection,f=t.state.selection.eq(a);return s&&(f||o.setSelection(a),f&&o.storedMarks&&o.setStoredMarks(o.storedMarks),c()),!0},OC=(r,e)=>t=>r.every((n,o)=>e(n,{...t,index:o})),RC=(r,e)=>({tr:t,commands:n})=>n.insertContentAt({from:t.selection.from,to:t.selection.to},r,e),g1=r=>{const e=r.childNodes;for(let t=e.length-1;t>=0;t-=1){const n=e[t];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?r.removeChild(n):n.nodeType===1&&g1(n)}return r};function Ys(r){const e=`<body>${r}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return g1(t)}function Sl(r,e,t){if(r instanceof Xn||r instanceof H)return r;t={slice:!0,parseOptions:{},...t};const n=typeof r=="object"&&r!==null,o=typeof r=="string";if(n)try{if(Array.isArray(r)&&r.length>0)return H.fromArray(r.map(a=>e.nodeFromJSON(a)));const c=e.nodeFromJSON(r);return t.errorOnInvalidContent&&c.check(),c}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",r,"Error:",s),Sl("",e,t)}if(o){if(t.errorOnInvalidContent){let c=!1,a="";const f=new oy({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(c=!0,a=typeof d=="string"?d:d.outerHTML,null)}]}})});if(t.slice?er.fromSchema(f).parseSlice(Ys(r),t.parseOptions):er.fromSchema(f).parse(Ys(r),t.parseOptions),t.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=er.fromSchema(e);return t.slice?s.parseSlice(Ys(r),t.parseOptions).content:s.parse(Ys(r),t.parseOptions)}return Sl("",e,t)}function IC(r,e,t){const n=r.steps.length-1;if(n<e)return;const o=r.steps[n];if(!(o instanceof Qe||o instanceof Ze))return;const s=r.mapping.maps[n];let c=0;s.forEach((a,f,d,p)=>{c===0&&(c=p)}),r.setSelection(de.near(r.doc.resolve(c),t))}const PC=r=>!("type"in r),zC=(r,e,t)=>({tr:n,dispatch:o,editor:s})=>{var c;if(o){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;try{a=Sl(e,s.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(c=t.errorOnInvalidContent)!==null&&c!==void 0?c:s.options.enableContentCheck})}catch(x){return s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:f,to:d}=typeof r=="number"?{from:r,to:r}:{from:r.from,to:r.to},p=!0,m=!0;if((PC(a)?a:[a]).forEach(x=>{x.check(),p=p?x.isText&&x.marks.length===0:!1,m=m?x.isBlock:!1}),f===d&&m){const{parent:x}=n.doc.resolve(f);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(f-=1,d+=1)}let v;if(p){if(Array.isArray(e))v=e.map(x=>x.text||"").join("");else if(e instanceof H){let x="";e.forEach(w=>{w.text&&(x+=w.text)}),v=x}else typeof e=="object"&&e&&e.text?v=e.text:v=e;n.insertText(v,f,d)}else v=a,n.replaceWith(f,d,v);t.updateSelection&&IC(n,n.steps.length-1,-1),t.applyInputRules&&n.setMeta("applyInputRules",{from:f,text:v}),t.applyPasteRules&&n.setMeta("applyPasteRules",{from:f,text:v})}return!0},LC=()=>({state:r,dispatch:e})=>zw(r,e),FC=()=>({state:r,dispatch:e})=>Lw(r,e),BC=()=>({state:r,dispatch:e})=>Dw(r,e),qC=()=>({state:r,dispatch:e})=>Iw(r,e),VC=()=>({state:r,dispatch:e,tr:t})=>{try{const n=El(r.doc,r.selection.$from.pos,-1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},$C=()=>({state:r,dispatch:e,tr:t})=>{try{const n=El(r.doc,r.selection.$from.pos,1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},jC=()=>({state:r,dispatch:e})=>Nw(r,e),HC=()=>({state:r,dispatch:e})=>Ow(r,e);function y1(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function UC(r){const e=r.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let n,o,s,c;for(let a=0;a<e.length-1;a+=1){const f=e[a];if(/^(cmd|meta|m)$/i.test(f))c=!0;else if(/^a(lt)?$/i.test(f))n=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))Zf()||y1()?c=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return n&&(t=`Alt-${t}`),o&&(t=`Ctrl-${t}`),c&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const WC=r=>({editor:e,view:t,tr:n,dispatch:o})=>{const s=UC(r).split(/-(?!$)/),c=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),a=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{t.someProp("handleKeyDown",d=>d(t,a))});return f==null||f.steps.forEach(d=>{const p=d.map(n.mapping);p&&o&&n.maybeStep(p)}),!0};function Ai(r,e,t={}){const{from:n,to:o,empty:s}=r.selection,c=e?Xe(e,r.schema):null,a=[];r.doc.nodesBetween(n,o,(m,k)=>{if(m.isText)return;const v=Math.max(n,k),x=Math.min(o,k+m.nodeSize);a.push({node:m,from:v,to:x})});const f=o-n,d=a.filter(m=>c?c.name===m.node.type.name:!0).filter(m=>xl(m.node.attrs,t,{strict:!1}));return s?!!d.length:d.reduce((m,k)=>m+k.to-k.from,0)>=f}const KC=(r,e={})=>({state:t,dispatch:n})=>{const o=Xe(r,t.schema);return Ai(t,o,e)?Fw(t,n):!1},JC=()=>({state:r,dispatch:e})=>$w(r,e),GC=r=>({state:e,dispatch:t})=>{const n=Xe(r,e.schema);return Zw(n)(e,t)},QC=()=>({state:r,dispatch:e})=>Bw(r,e);function Pl(r,e){return e.nodes[r]?"node":e.marks[r]?"mark":null}function mg(r,e){const t=typeof e=="string"?[e]:e;return Object.keys(r).reduce((n,o)=>(t.includes(o)||(n[o]=r[o]),n),{})}const ZC=(r,e)=>({tr:t,state:n,dispatch:o})=>{let s=null,c=null;const a=Pl(typeof r=="string"?r:r.name,n.schema);return a?(a==="node"&&(s=Xe(r,n.schema)),a==="mark"&&(c=cr(r,n.schema)),o&&t.selection.ranges.forEach(f=>{n.doc.nodesBetween(f.$from.pos,f.$to.pos,(d,p)=>{s&&s===d.type&&t.setNodeMarkup(p,void 0,mg(d.attrs,e)),c&&d.marks.length&&d.marks.forEach(m=>{c===m.type&&t.addMark(p,p+d.nodeSize,c.create(mg(m.attrs,e)))})})}),!0):!1},YC=()=>({tr:r,dispatch:e})=>(e&&r.scrollIntoView(),!0),XC=()=>({tr:r,commands:e})=>e.setTextSelection({from:0,to:r.doc.content.size}),eE=()=>({state:r,dispatch:e})=>Rw(r,e),tE=()=>({state:r,dispatch:e})=>Pw(r,e),nE=()=>({state:r,dispatch:e})=>jw(r,e),rE=()=>({state:r,dispatch:e})=>Ww(r,e),oE=()=>({state:r,dispatch:e})=>Uw(r,e);function Tf(r,e,t={},n={}){return Sl(r,e,{slice:!1,parseOptions:t,errorOnInvalidContent:n.errorOnInvalidContent})}const iE=(r,e=!1,t={},n={})=>({editor:o,tr:s,dispatch:c,commands:a})=>{var f,d;const{doc:p}=s;if(t.preserveWhitespace!=="full"){const m=Tf(r,o.schema,t,{errorOnInvalidContent:(f=n.errorOnInvalidContent)!==null&&f!==void 0?f:o.options.enableContentCheck});return c&&s.replaceWith(0,p.content.size,m).setMeta("preventUpdate",!e),!0}return c&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:p.content.size},r,{parseOptions:t,errorOnInvalidContent:(d=n.errorOnInvalidContent)!==null&&d!==void 0?d:o.options.enableContentCheck})};function k1(r,e){const t=cr(e,r.schema),{from:n,to:o,empty:s}=r.selection,c=[];s?(r.storedMarks&&c.push(...r.storedMarks),c.push(...r.selection.$head.marks())):r.doc.nodesBetween(n,o,f=>{c.push(...f.marks)});const a=c.find(f=>f.type.name===t.name);return a?{...a.attrs}:{}}function sE(r){for(let e=0;e<r.edgeCount;e+=1){const{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function lE(r,e){for(let t=r.depth;t>0;t-=1){const n=r.node(t);if(e(n))return{pos:t>0?r.before(t):0,start:r.start(t),depth:t,node:n}}}function Yf(r){return e=>lE(e.$from,r)}function cE(r,e){const t={from:0,to:r.content.size};return f1(r,t,e)}function aE(r,e){const t=Xe(e,r.schema),{from:n,to:o}=r.selection,s=[];r.doc.nodesBetween(n,o,a=>{s.push(a)});const c=s.reverse().find(a=>a.type.name===t.name);return c?{...c.attrs}:{}}function uE(r,e){const t=Pl(typeof e=="string"?e:e.name,r.schema);return t==="node"?aE(r,e):t==="mark"?k1(r,e):{}}function v1(r,e,t){const n=[];return r===e?t.resolve(r).marks().forEach(o=>{const s=t.resolve(r),c=Qf(s,o.type);c&&n.push({mark:o,...c})}):t.nodesBetween(r,e,(o,s)=>{!o||(o==null?void 0:o.nodeSize)===void 0||n.push(...o.marks.map(c=>({from:s,to:s+o.nodeSize,mark:c})))}),n}function il(r,e,t){return Object.fromEntries(Object.entries(t).filter(([n])=>{const o=r.find(s=>s.type===e&&s.name===n);return o?o.attribute.keepOnSplit:!1}))}function Af(r,e,t={}){const{empty:n,ranges:o}=r.selection,s=e?cr(e,r.schema):null;if(n)return!!(r.storedMarks||r.selection.$from.marks()).filter(m=>s?s.name===m.type.name:!0).find(m=>xl(m.attrs,t,{strict:!1}));let c=0;const a=[];if(o.forEach(({$from:m,$to:k})=>{const v=m.pos,x=k.pos;r.doc.nodesBetween(v,x,(w,C)=>{if(!w.isText&&!w.marks.length)return;const E=Math.max(v,C),A=Math.min(x,C+w.nodeSize),b=A-E;c+=b,a.push(...w.marks.map(T=>({mark:T,from:E,to:A})))})}),c===0)return!1;const f=a.filter(m=>s?s.name===m.mark.type.name:!0).filter(m=>xl(m.mark.attrs,t,{strict:!1})).reduce((m,k)=>m+k.to-k.from,0),d=a.filter(m=>s?m.mark.type!==s&&m.mark.type.excludes(s):!0).reduce((m,k)=>m+k.to-k.from,0);return(f>0?f+d:f)>=c}function fE(r,e,t={}){if(!e)return Ai(r,null,t)||Af(r,null,t);const n=Pl(e,r.schema);return n==="node"?Ai(r,e,t):n==="mark"?Af(r,e,t):!1}function gg(r,e){const{nodeExtensions:t}=Ol(e),n=t.find(c=>c.name===r);if(!n)return!1;const o={name:n.name,options:n.options,storage:n.storage},s=me(ne(n,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function Xf(r,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var n;if(t){if(r.type.name==="hardBreak")return!0;if(r.isText)return/^\s*$/m.test((n=r.text)!==null&&n!==void 0?n:"")}if(r.isText)return!r.text;if(r.isAtom||r.isLeaf)return!1;if(r.content.childCount===0)return!0;if(e){let o=!0;return r.content.forEach(s=>{o!==!1&&(Xf(s,{ignoreWhitespace:t,checkChildren:e})||(o=!1))}),o}return!1}function dE(r){return r instanceof le}function hE(r,e,t){var n;const{selection:o}=e;let s=null;if(p1(o)&&(s=o.$cursor),s){const a=(n=r.storedMarks)!==null&&n!==void 0?n:s.marks();return!!t.isInSet(a)||!a.some(f=>f.type.excludes(t))}const{ranges:c}=o;return c.some(({$from:a,$to:f})=>{let d=a.depth===0?r.doc.inlineContent&&r.doc.type.allowsMarkType(t):!1;return r.doc.nodesBetween(a.pos,f.pos,(p,m,k)=>{if(d)return!1;if(p.isInline){const v=!k||k.type.allowsMarkType(t),x=!!t.isInSet(p.marks)||!p.marks.some(w=>w.type.excludes(t));d=v&&x}return!d}),d})}const pE=(r,e={})=>({tr:t,state:n,dispatch:o})=>{const{selection:s}=t,{empty:c,ranges:a}=s,f=cr(r,n.schema);if(o)if(c){const d=k1(n,f);t.addStoredMark(f.create({...d,...e}))}else a.forEach(d=>{const p=d.$from.pos,m=d.$to.pos;n.doc.nodesBetween(p,m,(k,v)=>{const x=Math.max(v,p),w=Math.min(v+k.nodeSize,m);k.marks.find(E=>E.type===f)?k.marks.forEach(E=>{f===E.type&&t.addMark(x,w,f.create({...E.attrs,...e}))}):t.addMark(x,w,f.create(e))})});return hE(n,t,f)},mE=(r,e)=>({tr:t})=>(t.setMeta(r,e),!0),gE=(r,e={})=>({state:t,dispatch:n,chain:o})=>{const s=Xe(r,t.schema);let c;return t.selection.$anchor.sameParent(t.selection.$head)&&(c=t.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:a})=>ug(s,{...c,...e})(t)?!0:a.clearNodes()).command(({state:a})=>ug(s,{...c,...e})(a,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},yE=r=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,o=Mr(r,0,n.content.size),s=le.create(n,o);e.setSelection(s)}return!0},kE=r=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,{from:o,to:s}=typeof r=="number"?{from:r,to:r}:r,c=ue.atStart(n).from,a=ue.atEnd(n).to,f=Mr(o,c,a),d=Mr(s,c,a),p=ue.create(n,f,d);e.setSelection(p)}return!0},vE=r=>({state:e,dispatch:t})=>{const n=Xe(r,e.schema);return eC(n)(e,t)};function yg(r,e){const t=r.storedMarks||r.selection.$to.parentOffset&&r.selection.$from.marks();if(t){const n=t.filter(o=>e==null?void 0:e.includes(o.type.name));r.tr.ensureMarks(n)}}const xE=({keepMarks:r=!0}={})=>({tr:e,state:t,dispatch:n,editor:o})=>{const{selection:s,doc:c}=e,{$from:a,$to:f}=s,d=o.extensionManager.attributes,p=il(d,a.node().type.name,a.node().attrs);if(s instanceof le&&s.node.isBlock)return!a.parentOffset||!yo(c,a.pos)?!1:(n&&(r&&yg(t,o.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const m=f.parentOffset===f.parent.content.size,k=a.depth===0?void 0:sE(a.node(-1).contentMatchAt(a.indexAfter(-1)));let v=m&&k?[{type:k,attrs:p}]:void 0,x=yo(e.doc,e.mapping.map(a.pos),1,v);if(!v&&!x&&yo(e.doc,e.mapping.map(a.pos),1,k?[{type:k}]:void 0)&&(x=!0,v=k?[{type:k,attrs:p}]:void 0),n){if(x&&(s instanceof ue&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,v),k&&!m&&!a.parentOffset&&a.parent.type!==k)){const w=e.mapping.map(a.before()),C=e.doc.resolve(w);a.node(-1).canReplaceWith(C.index(),C.index()+1,k)&&e.setNodeMarkup(e.mapping.map(a.before()),k)}r&&yg(t,o.extensionManager.splittableMarks),e.scrollIntoView()}return x},SE=(r,e={})=>({tr:t,state:n,dispatch:o,editor:s})=>{var c;const a=Xe(r,n.schema),{$from:f,$to:d}=n.selection,p=n.selection.node;if(p&&p.isBlock||f.depth<2||!f.sameParent(d))return!1;const m=f.node(-1);if(m.type!==a)return!1;const k=s.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==a||f.index(-2)!==f.node(-2).childCount-1)return!1;if(o){let E=H.empty;const A=f.index(-1)?1:f.index(-2)?2:3;for(let L=f.depth-A;L>=f.depth-3;L-=1)E=H.from(f.node(L).copy(E));const b=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,T={...il(k,f.node().type.name,f.node().attrs),...e},I=((c=a.contentMatch.defaultType)===null||c===void 0?void 0:c.createAndFill(T))||void 0;E=E.append(H.from(a.createAndFill(null,I)||void 0));const O=f.before(f.depth-(A-1));t.replace(O,f.after(-b),new Q(E,4-A,0));let W=-1;t.doc.nodesBetween(O,t.doc.content.size,(L,F)=>{if(W>-1)return!1;L.isTextblock&&L.content.size===0&&(W=F+1)}),W>-1&&t.setSelection(ue.near(t.doc.resolve(W))),t.scrollIntoView()}return!0}const v=d.pos===f.end()?m.contentMatchAt(0).defaultType:null,x={...il(k,m.type.name,m.attrs),...e},w={...il(k,f.node().type.name,f.node().attrs),...e};t.delete(f.pos,d.pos);const C=v?[{type:a,attrs:x},{type:v,attrs:w}]:[{type:a,attrs:x}];if(!yo(t.doc,f.pos,2))return!1;if(o){const{selection:E,storedMarks:A}=n,{splittableMarks:b}=s.extensionManager,T=A||E.$to.parentOffset&&E.$from.marks();if(t.split(f.pos,2,C).scrollIntoView(),!T||!o)return!0;const I=T.filter(O=>b.includes(O.type.name));t.ensureMarks(I)}return!0},Qa=(r,e)=>{const t=Yf(c=>c.type===e)(r.selection);if(!t)return!0;const n=r.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(n===void 0)return!0;const o=r.doc.nodeAt(n);return t.node.type===(o==null?void 0:o.type)&&sr(r.doc,t.pos)&&r.join(t.pos),!0},Za=(r,e)=>{const t=Yf(c=>c.type===e)(r.selection);if(!t)return!0;const n=r.doc.resolve(t.start).after(t.depth);if(n===void 0)return!0;const o=r.doc.nodeAt(n);return t.node.type===(o==null?void 0:o.type)&&sr(r.doc,n)&&r.join(n),!0},wE=(r,e,t,n={})=>({editor:o,tr:s,state:c,dispatch:a,chain:f,commands:d,can:p})=>{const{extensions:m,splittableMarks:k}=o.extensionManager,v=Xe(r,c.schema),x=Xe(e,c.schema),{selection:w,storedMarks:C}=c,{$from:E,$to:A}=w,b=E.blockRange(A),T=C||w.$to.parentOffset&&w.$from.marks();if(!b)return!1;const I=Yf(O=>gg(O.type.name,m))(w);if(b.depth>=1&&I&&b.depth-I.depth<=1){if(I.node.type===v)return d.liftListItem(x);if(gg(I.node.type.name,m)&&v.validContent(I.node.content)&&a)return f().command(()=>(s.setNodeMarkup(I.pos,v),!0)).command(()=>Qa(s,v)).command(()=>Za(s,v)).run()}return!t||!T||!a?f().command(()=>p().wrapInList(v,n)?!0:d.clearNodes()).wrapInList(v,n).command(()=>Qa(s,v)).command(()=>Za(s,v)).run():f().command(()=>{const O=p().wrapInList(v,n),W=T.filter(L=>k.includes(L.type.name));return s.ensureMarks(W),O?!0:d.clearNodes()}).wrapInList(v,n).command(()=>Qa(s,v)).command(()=>Za(s,v)).run()},CE=(r,e={},t={})=>({state:n,commands:o})=>{const{extendEmptyMarkRange:s=!1}=t,c=cr(r,n.schema);return Af(n,c,e)?o.unsetMark(c,{extendEmptyMarkRange:s}):o.setMark(c,e)},EE=(r,e,t={})=>({state:n,commands:o})=>{const s=Xe(r,n.schema),c=Xe(e,n.schema),a=Ai(n,s,t);let f;return n.selection.$anchor.sameParent(n.selection.$head)&&(f=n.selection.$anchor.parent.attrs),a?o.setNode(c,f):o.setNode(s,{...f,...t})},_E=(r,e={})=>({state:t,commands:n})=>{const o=Xe(r,t.schema);return Ai(t,o,e)?n.lift(o):n.wrapIn(o,e)},bE=()=>({state:r,dispatch:e})=>{const t=r.plugins;for(let n=0;n<t.length;n+=1){const o=t[n];let s;if(o.spec.isInputRules&&(s=o.getState(r))){if(e){const c=r.tr,a=s.transform;for(let f=a.steps.length-1;f>=0;f-=1)c.step(a.steps[f].invert(a.docs[f]));if(s.text){const f=c.doc.resolve(s.from).marks();c.replaceWith(s.from,s.to,r.schema.text(s.text,f))}else c.delete(s.from,s.to)}return!0}}return!1},ME=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,{empty:n,ranges:o}=t;return n||e&&o.forEach(s=>{r.removeMark(s.$from.pos,s.$to.pos)}),!0},TE=(r,e={})=>({tr:t,state:n,dispatch:o})=>{var s;const{extendEmptyMarkRange:c=!1}=e,{selection:a}=t,f=cr(r,n.schema),{$from:d,empty:p,ranges:m}=a;if(!o)return!0;if(p&&c){let{from:k,to:v}=a;const x=(s=d.marks().find(C=>C.type===f))===null||s===void 0?void 0:s.attrs,w=Qf(d,f,x);w&&(k=w.from,v=w.to),t.removeMark(k,v,f)}else m.forEach(k=>{t.removeMark(k.$from.pos,k.$to.pos,f)});return t.removeStoredMark(f),!0},AE=(r,e={})=>({tr:t,state:n,dispatch:o})=>{let s=null,c=null;const a=Pl(typeof r=="string"?r:r.name,n.schema);return a?(a==="node"&&(s=Xe(r,n.schema)),a==="mark"&&(c=cr(r,n.schema)),o&&t.selection.ranges.forEach(f=>{const d=f.$from.pos,p=f.$to.pos;let m,k,v,x;t.selection.empty?n.doc.nodesBetween(d,p,(w,C)=>{s&&s===w.type&&(v=Math.max(C,d),x=Math.min(C+w.nodeSize,p),m=C,k=w)}):n.doc.nodesBetween(d,p,(w,C)=>{C<d&&s&&s===w.type&&(v=Math.max(C,d),x=Math.min(C+w.nodeSize,p),m=C,k=w),C>=d&&C<=p&&(s&&s===w.type&&t.setNodeMarkup(C,void 0,{...w.attrs,...e}),c&&w.marks.length&&w.marks.forEach(E=>{if(c===E.type){const A=Math.max(C,d),b=Math.min(C+w.nodeSize,p);t.addMark(A,b,c.create({...E.attrs,...e}))}}))}),k&&(m!==void 0&&t.setNodeMarkup(m,void 0,{...k.attrs,...e}),c&&k.marks.length&&k.marks.forEach(w=>{c===w.type&&t.addMark(v,x,c.create({...w.attrs,...e}))}))}),!0):!1},DE=(r,e={})=>({state:t,dispatch:n})=>{const o=Xe(r,t.schema);return Kw(o,e)(t,n)},NE=(r,e={})=>({state:t,dispatch:n})=>{const o=Xe(r,t.schema);return Jw(o,e)(t,n)};var OE=Object.freeze({__proto__:null,blur:yC,clearContent:kC,clearNodes:vC,command:xC,createParagraphNear:SC,cut:wC,deleteCurrentNode:CC,deleteNode:EC,deleteRange:_C,deleteSelection:bC,enter:MC,exitCode:TC,extendMarkRange:AC,first:DC,focus:NC,forEach:OC,insertContent:RC,insertContentAt:zC,joinBackward:BC,joinDown:FC,joinForward:qC,joinItemBackward:VC,joinItemForward:$C,joinTextblockBackward:jC,joinTextblockForward:HC,joinUp:LC,keyboardShortcut:WC,lift:KC,liftEmptyBlock:JC,liftListItem:GC,newlineInCode:QC,resetAttributes:ZC,scrollIntoView:YC,selectAll:XC,selectNodeBackward:eE,selectNodeForward:tE,selectParentNode:nE,selectTextblockEnd:rE,selectTextblockStart:oE,setContent:iE,setMark:pE,setMeta:mE,setNode:gE,setNodeSelection:yE,setTextSelection:kE,sinkListItem:vE,splitBlock:xE,splitListItem:SE,toggleList:wE,toggleMark:CE,toggleNode:EE,toggleWrap:_E,undoInputRule:bE,unsetAllMarks:ME,unsetMark:TE,updateAttributes:AE,wrapIn:DE,wrapInList:NE});const RE=vt.create({name:"commands",addCommands(){return{...OE}}}),IE=vt.create({name:"drop",addProseMirrorPlugins(){return[new Tt({key:new pn("tiptapDrop"),props:{handleDrop:(r,e,t,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:n})}}})]}}),PE=vt.create({name:"editable",addProseMirrorPlugins(){return[new Tt({key:new pn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),zE=vt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:r}=this;return[new Tt({key:new pn("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{r.isFocused=!0;const n=r.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,t)=>{r.isFocused=!1;const n=r.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),LE=vt.create({name:"keymap",addKeyboardShortcuts(){const r=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:a})=>{const{selection:f,doc:d}=a,{empty:p,$anchor:m}=f,{pos:k,parent:v}=m,x=m.parent.isTextblock&&k>0?a.doc.resolve(k-1):m,w=x.parent.type.spec.isolating,C=m.pos-m.parentOffset,E=w&&x.parent.childCount===1?C===m.pos:de.atStart(d).from===k;return!p||!v.type.isTextblock||v.textContent.length||!E||E&&m.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:r,"Mod-Backspace":r,"Shift-Backspace":r,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...n},s={...n,"Ctrl-h":r,"Alt-Backspace":r,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Zf()||y1()?s:o},addProseMirrorPlugins(){return[new Tt({key:new pn("clearDocument"),appendTransaction:(r,e,t)=>{const n=r.some(w=>w.docChanged)&&!e.doc.eq(t.doc),o=r.some(w=>w.getMeta("preventClearDocument"));if(!n||o)return;const{empty:s,from:c,to:a}=e.selection,f=de.atStart(e.doc).from,d=de.atEnd(e.doc).to;if(s||!(c===f&&a===d)||!Xf(t.doc))return;const k=t.tr,v=Dl({state:t,transaction:k}),{commands:x}=new Nl({editor:this.editor,state:v});if(x.clearNodes(),!!k.steps.length)return k}})]}}),FE=vt.create({name:"paste",addProseMirrorPlugins(){return[new Tt({key:new pn("tiptapPaste"),props:{handlePaste:(r,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),BE=vt.create({name:"tabindex",addProseMirrorPlugins(){return[new Tt({key:new pn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Er{get name(){return this.node.type.name}constructor(e,t,n=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Er(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Er(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Er(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,n)=>{const o=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,c=this.pos+n+(s?0:1),a=this.resolvedPos.doc.resolve(c);if(!o&&a.depth<=this.depth)return;const f=new Er(a,this.editor,o,o?t:null);o&&(f.actualDepth=this.depth+1),e.push(new Er(a,this.editor,o,o?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,o=this.parent;for(;o&&!n;){if(o.node.type.name===e)if(Object.keys(t).length>0){const s=o.node.attrs,c=Object.keys(t);for(let a=0;a<c.length;a+=1){const f=c[a];if(s[f]!==t[f])break}}else n=o;o=o.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let o=[];if(!this.children||this.children.length===0)return o;const s=Object.keys(t);return this.children.forEach(c=>{n&&o.length>0||(c.node.type.name===e&&s.every(f=>t[f]===c.node.attrs[f])&&o.push(c),!(n&&o.length>0)&&(o=o.concat(c.querySelectorAll(e,t,n))))}),o}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const qE=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function VE(r,e,t){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(o),o}class $E extends tC{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:n,moved:o})=>this.options.onDrop(t,n,o)),this.on("paste",({event:t,slice:n})=>this.options.onPaste(t,n)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=VE(qE,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n=u1(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:n});return this.view.updateState(o),o}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(s=>{const c=typeof s=="string"?`${s}$`:s.key;n=t.filter(a=>!a.key.startsWith(c))}),t.length===n.length)return;const o=this.state.reconfigure({plugins:n});return this.view.updateState(o),o}createExtensionManager(){var e,t;const o=[...this.options.enableCoreExtensions?[PE,gC.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),RE,zE,LE,BE,IE,FE].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new mo(o,this)}createCommandManager(){this.commandManager=new Nl({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=Tf(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(c){if(!(c instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(c.message))throw c;this.emit("contentError",{editor:this,error:c,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=Tf(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=m1(t,this.options.autofocus);this.view=new vw(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:po.create({doc:t,selection:n||void 0})});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(c=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(c)});return}const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),s=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return uE(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,o=typeof e=="string"?t:e;return fE(this.state,n,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Jf(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return cE(this.state.doc,{blockSeparator:t,textSerializers:{...d1(this.schema),...n}})}get isEmpty(){return Xf(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Er(t,this)}get $doc(){return this.$pos(0)}}function _o(r){return new Rl({find:r.find,handler:({state:e,range:t,match:n})=>{const o=me(r.getAttributes,void 0,n);if(o===!1||o===null)return null;const{tr:s}=e,c=n[n.length-1],a=n[0];if(c){const f=a.search(/\S/),d=t.from+a.indexOf(c),p=d+c.length;if(v1(t.from,t.to,e.doc).filter(v=>v.mark.type.excluded.find(w=>w===r.type&&w!==v.mark.type)).filter(v=>v.to>d).length)return null;p<t.to&&s.delete(p,t.to),d>t.from&&s.delete(t.from+f,d);const k=t.from+f+c.length;s.addMark(t.from+f,k,r.type.create(o||{})),s.removeStoredMark(r.type)}}})}function x1(r){return new Rl({find:r.find,handler:({state:e,range:t,match:n})=>{const o=me(r.getAttributes,void 0,n)||{},{tr:s}=e,c=t.from;let a=t.to;const f=r.type.create(o);if(n[1]){const d=n[0].lastIndexOf(n[1]);let p=c+d;p>a?p=a:a=p+n[1].length;const m=n[0][n[0].length-1];s.insertText(m,c+n[0].length-1),s.replaceWith(p,a,f)}else if(n[0]){const d=r.type.isInline?c:c-1;s.insert(d,r.type.create(o)).delete(s.mapping.map(c),s.mapping.map(a))}s.scrollIntoView()}})}function Df(r){return new Rl({find:r.find,handler:({state:e,range:t,match:n})=>{const o=e.doc.resolve(t.from),s=me(r.getAttributes,void 0,n)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),r.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,r.type,s)}})}function Di(r){return new Rl({find:r.find,handler:({state:e,range:t,match:n,chain:o})=>{const s=me(r.getAttributes,void 0,n)||{},c=e.tr.delete(t.from,t.to),f=c.doc.resolve(t.from).blockRange(),d=f&&zf(f,r.type,s);if(!d)return null;if(c.wrap(f,d),r.keepMarks&&r.editor){const{selection:m,storedMarks:k}=e,{splittableMarks:v}=r.editor.extensionManager,x=k||m.$to.parentOffset&&m.$from.marks();if(x){const w=x.filter(C=>v.includes(C.type.name));c.ensureMarks(w)}}if(r.keepAttributes){const m=r.type.name==="bulletList"||r.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(m,s).run()}const p=c.doc.resolve(t.from-1).nodeBefore;p&&p.type===r.type&&sr(c.doc,t.from-1)&&(!r.joinPredicate||r.joinPredicate(n,p))&&c.join(t.from-1)}})}class xt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=me(ne(this,"addOptions",{name:this.name}))),this.storage=me(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new xt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Il(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new xt(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=me(ne(t,"addOptions",{name:t.name})),t.storage=me(ne(t,"addStorage",{name:t.name,options:t.options})),t}}function bo(r){return new uC({find:r.find,handler:({state:e,range:t,match:n,pasteEvent:o})=>{const s=me(r.getAttributes,void 0,n,o);if(s===!1||s===null)return null;const{tr:c}=e,a=n[n.length-1],f=n[0];let d=t.to;if(a){const p=f.search(/\S/),m=t.from+f.indexOf(a),k=m+a.length;if(v1(t.from,t.to,e.doc).filter(x=>x.mark.type.excluded.find(C=>C===r.type&&C!==x.mark.type)).filter(x=>x.to>m).length)return null;k<t.to&&c.delete(k,t.to),m>t.from&&c.delete(t.from+p,m),d=t.from+p+a.length,c.addMark(t.from+p,d,r.type.create(s||{})),c.removeStoredMark(r.type)}}})}var jE=$0();const HE=Of(jE);function UE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var S1={exports:{}},Ya={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function WE(){if(kg)return Ya;kg=1;var r=mt;function e(m,k){return m===k&&(m!==0||1/m===1/k)||m!==m&&k!==k}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,o=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function a(m,k){var v=k(),x=n({inst:{value:v,getSnapshot:k}}),w=x[0].inst,C=x[1];return s(function(){w.value=v,w.getSnapshot=k,f(w)&&C({inst:w})},[m,v,k]),o(function(){return f(w)&&C({inst:w}),m(function(){f(w)&&C({inst:w})})},[m]),c(v),v}function f(m){var k=m.getSnapshot;m=m.value;try{var v=k();return!t(m,v)}catch{return!0}}function d(m,k){return k()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:a;return Ya.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:p,Ya}S1.exports=WE();var ed=S1.exports;const KE=(...r)=>e=>{r.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},JE=({contentComponent:r})=>{const e=ed.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return mt.createElement(mt.Fragment,null,Object.values(e))};function GE(){const r=new Set;let e={};return{subscribe(t){return r.add(t),()=>{r.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,n){e={...e,[t]:HE.createPortal(n.reactElement,n.element,t)},r.forEach(o=>o())},removeRenderer(t){const n={...e};delete n[t],e=n,r.forEach(o=>o())}}}class QE extends mt.Component{constructor(e){var t;super(e),this.editorContentRef=mt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=GE(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...n}=this.props;return mt.createElement(mt.Fragment,null,mt.createElement("div",{ref:KE(t,this.editorContentRef),...n}),(e==null?void 0:e.contentComponent)&&mt.createElement(JE,{contentComponent:e.contentComponent}))}}const ZE=Le.forwardRef((r,e)=>{const t=mt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[r.editor]);return mt.createElement(QE,{key:t,innerRef:e,...r})}),YE=mt.memo(ZE);var XE=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,o,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(o=n;o--!==0;)if(!r(e[o],t[o]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;for(o of e.entries())if(!r(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(o=n;o--!==0;)if(e[o]!==t[o])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[o]))return!1;for(o=n;o--!==0;){var c=s[o];if(!(c==="_owner"&&e.$$typeof)&&!r(e[c],t[c]))return!1}return!0}return e!==e&&t!==t},e_=UE(XE),w1={exports:{}},Xa={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function t_(){if(vg)return Xa;vg=1;var r=mt,e=ed;function t(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var n=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,s=r.useRef,c=r.useEffect,a=r.useMemo,f=r.useDebugValue;return Xa.useSyncExternalStoreWithSelector=function(d,p,m,k,v){var x=s(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=a(function(){function E(O){if(!A){if(A=!0,b=O,O=k(O),v!==void 0&&w.hasValue){var W=w.value;if(v(W,O))return T=W}return T=O}if(W=T,n(b,O))return W;var L=k(O);return v!==void 0&&v(W,L)?W:(b=O,T=L)}var A=!1,b,T,I=m===void 0?null:m;return[function(){return E(p())},I===null?void 0:function(){return E(I())}]},[p,m,k,v]);var C=o(d,x[0],x[1]);return c(function(){w.hasValue=!0,w.value=C},[C]),f(C),C},Xa}w1.exports=t_();var n_=w1.exports;const r_=typeof window<"u"?Le.useLayoutEffect:Le.useEffect;class o_{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(o=>o())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}}function i_(r){var e;const[t]=Le.useState(()=>new o_(r.editor)),n=n_.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,r.selector,(e=r.equalityFn)!==null&&e!==void 0?e:e_);return r_(()=>t.watch(r.editor),[r.editor,t]),Le.useDebugValue(n),n}const s_=!1,Nf=typeof window>"u",l_=Nf||!!(typeof window<"u"&&window.next);class c_{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return Nf||l_?null:this.createEditor();if(this.options.current.immediatelyRender&&Nf&&s_)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var o,s;return(s=(o=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(o,...n)},onBlur:(...n)=>{var o,s;return(s=(o=this.options.current).onBlur)===null||s===void 0?void 0:s.call(o,...n)},onCreate:(...n)=>{var o,s;return(s=(o=this.options.current).onCreate)===null||s===void 0?void 0:s.call(o,...n)},onDestroy:(...n)=>{var o,s;return(s=(o=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(o,...n)},onFocus:(...n)=>{var o,s;return(s=(o=this.options.current).onFocus)===null||s===void 0?void 0:s.call(o,...n)},onSelectionUpdate:(...n)=>{var o,s;return(s=(o=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(o,...n)},onTransaction:(...n)=>{var o,s;return(s=(o=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(o,...n)},onUpdate:(...n)=>{var o,s;return(s=(o=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(o,...n)},onContentError:(...n)=>{var o,s;return(s=(o=this.options.current).onContentError)===null||s===void 0?void 0:s.call(o,...n)},onDrop:(...n)=>{var o,s;return(s=(o=this.options.current).onDrop)===null||s===void 0?void 0:s.call(o,...n)},onPaste:(...n)=>{var o,s;return(s=(o=this.options.current).onPaste)===null||s===void 0?void 0:s.call(o,...n)}};return new $E(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,o)=>n===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function a_(r={},e=[]){const t=Le.useRef(r);t.current=r;const[n]=Le.useState(()=>new c_(t)),o=ed.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return Le.useDebugValue(o),Le.useEffect(n.onRender(e)),i_({editor:o,selector:({transactionNumber:s})=>r.shouldRerenderOnTransaction===!1?null:r.immediatelyRender&&s===0?0:s+1}),o}const u_=Le.createContext({editor:null});u_.Consumer;const f_=Le.createContext({onDragStart:void 0}),d_=()=>Le.useContext(f_);mt.forwardRef((r,e)=>{const{onDragStart:t}=d_(),n=r.as||"div";return mt.createElement(n,{...r,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...r.style}})});const h_=/^\s*>\s$/,p_=xt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:r}){return["blockquote",ft(this.options.HTMLAttributes,r),0]},addCommands(){return{setBlockquote:()=>({commands:r})=>r.wrapIn(this.name),toggleBlockquote:()=>({commands:r})=>r.toggleWrap(this.name),unsetBlockquote:()=>({commands:r})=>r.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Di({find:h_,type:this.type})]}}),m_=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,g_=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,y_=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,k_=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,v_=ir.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:r=>r.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:r=>r.type.name===this.name},{style:"font-weight",getAttrs:r=>/^(bold(er)?|[5-9]\d{2,})$/.test(r)&&null}]},renderHTML({HTMLAttributes:r}){return["strong",ft(this.options.HTMLAttributes,r),0]},addCommands(){return{setBold:()=>({commands:r})=>r.setMark(this.name),toggleBold:()=>({commands:r})=>r.toggleMark(this.name),unsetBold:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[_o({find:m_,type:this.type}),_o({find:y_,type:this.type})]},addPasteRules(){return[bo({find:g_,type:this.type}),bo({find:k_,type:this.type})]}}),x_="listItem",xg="textStyle",Sg=/^\s*([-+*])\s$/,S_=xt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:r}){return["ul",ft(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleBulletList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(x_,this.editor.getAttributes(xg)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let r=Di({find:Sg,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(r=Di({find:Sg,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(xg),editor:this.editor})),[r]}}),w_=new RegExp("(?<!`)`([^`]+)`(?!`)"),C_=new RegExp("(?<!`)`([^`]+)`(?!`)","g"),E_=ir.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:r}){return["code",ft(this.options.HTMLAttributes,r),0]},addCommands(){return{setCode:()=>({commands:r})=>r.setMark(this.name),toggleCode:()=>({commands:r})=>r.toggleMark(this.name),unsetCode:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[_o({find:w_,type:this.type})]},addPasteRules(){return[bo({find:C_,type:this.type})]}}),__=/^```([a-z]+)?[\s\n]$/,b_=/^~~~([a-z]+)?[\s\n]$/,M_=xt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:r=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=r.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(c=>c.startsWith(t)).map(c=>c.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:r,HTMLAttributes:e}){return["pre",ft(this.options.HTMLAttributes,e),["code",{class:r.attrs.language?this.options.languageClassPrefix+r.attrs.language:null},0]]},addCommands(){return{setCodeBlock:r=>({commands:e})=>e.setNode(this.name,r),toggleCodeBlock:r=>({commands:e})=>e.toggleNode(this.name,"paragraph",r)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:r,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!r||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:r})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=r,{selection:t}=e,{$from:n,empty:o}=t;if(!o||n.parent.type!==this.type)return!1;const s=n.parentOffset===n.parent.nodeSize-2,c=n.parent.textContent.endsWith(`

`);return!s||!c?!1:r.chain().command(({tr:a})=>(a.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:r})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=r,{selection:t,doc:n}=e,{$from:o,empty:s}=t;if(!s||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const a=o.after();return a===void 0?!1:n.nodeAt(a)?r.commands.command(({tr:d})=>(d.setSelection(de.near(n.resolve(a))),!0)):r.commands.exitCode()}}},addInputRules(){return[Df({find:__,type:this.type,getAttributes:r=>({language:r[1]})}),Df({find:b_,type:this.type,getAttributes:r=>({language:r[1]})})]},addProseMirrorPlugins(){return[new Tt({key:new pn("codeBlockVSCodeHandler"),props:{handlePaste:(r,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),o=n?JSON.parse(n):void 0,s=o==null?void 0:o.mode;if(!t||!s)return!1;const{tr:c,schema:a}=r.state,f=a.text(t.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:s},f)),c.selection.$from.parent.type!==this.type&&c.setSelection(ue.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),r.dispatch(c),!0}}})]}}),T_=xt.create({name:"doc",topNode:!0,content:"block+"});function A_(r={}){return new Tt({view(e){return new D_(e,r)}})}class D_{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=t.width)!==null&&n!==void 0?n:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let s=c=>{this[o](c)};return e.dom.addEventListener(o,s),{name:o,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,n;if(t){let a=e.nodeBefore,f=e.nodeAfter;if(a||f){let d=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(d){let p=d.getBoundingClientRect(),m=a?p.bottom:p.top;a&&f&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:p.left,right:p.right,top:m-this.width/2,bottom:m+this.width/2}}}}if(!n){let a=this.editorView.coordsAtPos(this.cursorPos);n={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let o=this.editorView.dom.offsetParent;this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let s,c;if(!o||o==document.body&&getComputedStyle(o).position=="static")s=-pageXOffset,c=-pageYOffset;else{let a=o.getBoundingClientRect();s=a.left-o.scrollLeft,c=a.top-o.scrollTop}this.element.style.left=n.left-s+"px",this.element.style.top=n.top-c+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),o=n&&n.type.spec.disableDropCursor,s=typeof o=="function"?o(this.editorView,t,e):o;if(t&&!s){let c=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=my(this.editorView.state.doc,c,this.editorView.dragging.slice);a!=null&&(c=a)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const N_=vt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[A_(this.options)]}});class Fe extends de{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return Fe.valid(n)?new Fe(n):de.near(n)}content(){return Q.empty}eq(e){return e instanceof Fe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Fe(e.resolve(t.pos))}getBookmark(){return new td(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!O_(e)||!R_(e))return!1;let n=t.type.spec.allowGapCursor;if(n!=null)return n;let o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&Fe.valid(e))return e;let o=e.pos,s=null;for(let c=e.depth;;c--){let a=e.node(c);if(t>0?e.indexAfter(c)<a.childCount:e.index(c)>0){s=a.child(t>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;o+=t;let f=e.doc.resolve(o);if(Fe.valid(f))return f}for(;;){let c=t>0?s.firstChild:s.lastChild;if(!c){if(s.isAtom&&!s.isText&&!le.isSelectable(s)){e=e.doc.resolve(o+s.nodeSize*t),n=!1;continue e}break}s=c,o+=t;let a=e.doc.resolve(o);if(Fe.valid(a))return a}return null}}}Fe.prototype.visible=!1;Fe.findFrom=Fe.findGapCursorFrom;de.jsonID("gapcursor",Fe);class td{constructor(e){this.pos=e}map(e){return new td(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Fe.valid(t)?new Fe(t):de.near(t)}}function O_(r){for(let e=r.depth;e>=0;e--){let t=r.index(e),n=r.node(e);if(t==0){if(n.type.spec.isolating)return!0;continue}for(let o=n.child(t-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function R_(r){for(let e=r.depth;e>=0;e--){let t=r.indexAfter(e),n=r.node(e);if(t==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let o=n.child(t);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function I_(){return new Tt({props:{decorations:F_,createSelectionBetween(r,e,t){return e.pos==t.pos&&Fe.valid(t)?new Fe(t):null},handleClick:z_,handleKeyDown:P_,handleDOMEvents:{beforeinput:L_}}})}const P_=n1({ArrowLeft:Xs("horiz",-1),ArrowRight:Xs("horiz",1),ArrowUp:Xs("vert",-1),ArrowDown:Xs("vert",1)});function Xs(r,e){const t=r=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,o,s){let c=n.selection,a=e>0?c.$to:c.$from,f=c.empty;if(c instanceof ue){if(!s.endOfTextblock(t)||a.depth==0)return!1;f=!1,a=n.doc.resolve(e>0?a.after():a.before())}let d=Fe.findGapCursorFrom(a,e,f);return d?(o&&o(n.tr.setSelection(new Fe(d))),!0):!1}}function z_(r,e,t){if(!r||!r.editable)return!1;let n=r.state.doc.resolve(e);if(!Fe.valid(n))return!1;let o=r.posAtCoords({left:t.clientX,top:t.clientY});return o&&o.inside>-1&&le.isSelectable(r.state.doc.nodeAt(o.inside))?!1:(r.dispatch(r.state.tr.setSelection(new Fe(n))),!0)}function L_(r,e){if(e.inputType!="insertCompositionText"||!(r.state.selection instanceof Fe))return!1;let{$from:t}=r.state.selection,n=t.parent.contentMatchAt(t.index()).findWrapping(r.state.schema.nodes.text);if(!n)return!1;let o=H.empty;for(let c=n.length-1;c>=0;c--)o=H.from(n[c].createAndFill(null,o));let s=r.state.tr.replace(t.pos,t.pos,new Q(o,0,0));return s.setSelection(ue.near(s.doc.resolve(t.pos+1))),r.dispatch(s),!1}function F_(r){if(!(r.selection instanceof Fe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ue.create(r.doc,[jt.widget(r.selection.head,e,{key:"gapcursor"})])}const B_=vt.create({name:"gapCursor",addProseMirrorPlugins(){return[I_()]},extendNodeSchema(r){var e;const t={name:r.name,options:r.options,storage:r.storage};return{allowGapCursor:(e=me(ne(r,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),q_=xt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:r}){return["br",ft(this.options.HTMLAttributes,r)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:r,chain:e,state:t,editor:n})=>r.first([()=>r.exitCode(),()=>r.command(()=>{const{selection:o,storedMarks:s}=t;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:a}=n.extensionManager,f=s||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:p})=>{if(p&&f&&c){const m=f.filter(k=>a.includes(k.type.name));d.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),V_=xt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(r=>({tag:`h${r}`,attrs:{level:r}}))},renderHTML({node:r,HTMLAttributes:e}){return[`h${this.options.levels.includes(r.attrs.level)?r.attrs.level:this.options.levels[0]}`,ft(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.setNode(this.name,r):!1,toggleHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.toggleNode(this.name,"paragraph",r):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((r,e)=>({...r,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(r=>Df({find:new RegExp(`^(#{1,${r}})\\s$`),type:this.type,getAttributes:{level:r}}))}});var wl=200,Ye=function(){};Ye.prototype.append=function(e){return e.length?(e=Ye.from(e),!this.length&&e||e.length<wl&&this.leafAppend(e)||this.length<wl&&e.leafPrepend(this)||this.appendInner(e)):this};Ye.prototype.prepend=function(e){return e.length?Ye.from(e).append(this):this};Ye.prototype.appendInner=function(e){return new $_(this,e)};Ye.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Ye.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Ye.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ye.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};Ye.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var o=[];return this.forEach(function(s,c){return o.push(e(s,c))},t,n),o};Ye.from=function(e){return e instanceof Ye?e:e&&e.length?new C1(e):Ye.empty};var C1=function(r){function e(n){r.call(this),this.values=n}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,s){return o==0&&s==this.length?this:new e(this.values.slice(o,s))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,s,c,a){for(var f=s;f<c;f++)if(o(this.values[f],a+f)===!1)return!1},e.prototype.forEachInvertedInner=function(o,s,c,a){for(var f=s-1;f>=c;f--)if(o(this.values[f],a+f)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=wl)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=wl)return new e(o.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Ye);Ye.empty=new C1([]);var $_=function(r){function e(t,n){r.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,o,s,c){var a=this.left.length;if(o<a&&this.left.forEachInner(n,o,Math.min(s,a),c)===!1||s>a&&this.right.forEachInner(n,Math.max(o-a,0),Math.min(this.length,s)-a,c+a)===!1)return!1},e.prototype.forEachInvertedInner=function(n,o,s,c){var a=this.left.length;if(o>a&&this.right.forEachInvertedInner(n,o-a,Math.max(s,a)-a,c+a)===!1||s<a&&this.left.forEachInvertedInner(n,Math.min(o,a),s,c)===!1)return!1},e.prototype.sliceInner=function(n,o){if(n==0&&o==this.length)return this;var s=this.left.length;return o<=s?this.left.slice(n,o):n>=s?this.right.slice(n-s,o-s):this.left.slice(n,s).append(this.right.slice(0,o-s))},e.prototype.leafAppend=function(n){var o=this.right.leafAppend(n);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(n){var o=this.left.leafPrepend(n);if(o)return new e(o,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(Ye);const j_=500;class Xt{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let o,s;t&&(o=this.remapping(n,this.items.length),s=o.maps.length);let c=e.tr,a,f,d=[],p=[];return this.items.forEach((m,k)=>{if(!m.step){o||(o=this.remapping(n,k+1),s=o.maps.length),s--,p.push(m);return}if(o){p.push(new cn(m.map));let v=m.step.map(o.slice(s)),x;v&&c.maybeStep(v).doc&&(x=c.mapping.maps[c.mapping.maps.length-1],d.push(new cn(x,void 0,void 0,d.length+p.length))),s--,x&&o.appendMap(x,s)}else c.maybeStep(m.step);if(m.selection)return a=o?m.selection.map(o.slice(s)):m.selection,f=new Xt(this.items.slice(0,n).append(p.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:c,selection:a}}addTransform(e,t,n,o){let s=[],c=this.eventCount,a=this.items,f=!o&&a.length?a.get(a.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),k=new cn(e.mapping.maps[p],m,t),v;(v=f&&f.merge(k))&&(k=v,p?s.pop():a=a.slice(0,a.length-1)),s.push(k),t&&(c++,t=void 0),o||(f=k)}let d=c-n.depth;return d>U_&&(a=H_(a,d),c-=d),new Xt(a.append(s),c)}remapping(e,t){let n=new go;return this.items.forEach((o,s)=>{let c=o.mirrorOffset!=null&&s-o.mirrorOffset>=e?n.maps.length-o.mirrorOffset:void 0;n.appendMap(o.map,c)},e,t),n}addMaps(e){return this.eventCount==0?this:new Xt(this.items.append(e.map(t=>new cn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],o=Math.max(0,this.items.length-t),s=e.mapping,c=e.steps.length,a=this.eventCount;this.items.forEach(k=>{k.selection&&a--},o);let f=t;this.items.forEach(k=>{let v=s.getMirror(--f);if(v==null)return;c=Math.min(c,v);let x=s.maps[v];if(k.step){let w=e.steps[v].invert(e.docs[v]),C=k.selection&&k.selection.map(s.slice(f+1,v));C&&a++,n.push(new cn(x,w,C))}else n.push(new cn(x))},o);let d=[];for(let k=t;k<c;k++)d.push(new cn(s.maps[k]));let p=this.items.slice(0,o).append(d).append(n),m=new Xt(p,a);return m.emptyItemCount()>j_&&(m=m.compress(this.items.length-n.length)),m}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,o=[],s=0;return this.items.forEach((c,a)=>{if(a>=e)o.push(c),c.selection&&s++;else if(c.step){let f=c.step.map(t.slice(n)),d=f&&f.getMap();if(n--,d&&t.appendMap(d,n),f){let p=c.selection&&c.selection.map(t.slice(n));p&&s++;let m=new cn(d.invert(),f,p),k,v=o.length-1;(k=o.length&&o[v].merge(m))?o[v]=k:o.push(m)}}else c.map&&n--},this.items.length,0),new Xt(Ye.from(o.reverse()),s)}}Xt.empty=new Xt(Ye.empty,0);function H_(r,e){let t;return r.forEach((n,o)=>{if(n.selection&&e--==0)return t=o,!1}),r.slice(t)}class cn{constructor(e,t,n,o){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new cn(t.getMap().invert(),t,this.selection)}}}class Kn{constructor(e,t,n,o,s){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=o,this.prevComposition=s}}const U_=20;function W_(r,e,t,n){let o=t.getMeta(Or),s;if(o)return o.historyState;t.getMeta(G_)&&(r=new Kn(r.done,r.undone,null,0,-1));let c=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(c&&c.getMeta(Or))return c.getMeta(Or).redo?new Kn(r.done.addTransform(t,void 0,n,sl(e)),r.undone,wg(t.mapping.maps),r.prevTime,r.prevComposition):new Kn(r.done,r.undone.addTransform(t,void 0,n,sl(e)),null,r.prevTime,r.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),f=r.prevTime==0||!c&&r.prevComposition!=a&&(r.prevTime<(t.time||0)-n.newGroupDelay||!K_(t,r.prevRanges)),d=c?eu(r.prevRanges,t.mapping):wg(t.mapping.maps);return new Kn(r.done.addTransform(t,f?e.selection.getBookmark():void 0,n,sl(e)),Xt.empty,d,t.time,a??r.prevComposition)}else return(s=t.getMeta("rebased"))?new Kn(r.done.rebased(t,s),r.undone.rebased(t,s),eu(r.prevRanges,t.mapping),r.prevTime,r.prevComposition):new Kn(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),eu(r.prevRanges,t.mapping),r.prevTime,r.prevComposition)}function K_(r,e){if(!e)return!1;if(!r.docChanged)return!0;let t=!1;return r.mapping.maps[0].forEach((n,o)=>{for(let s=0;s<e.length;s+=2)n<=e[s+1]&&o>=e[s]&&(t=!0)}),t}function wg(r){let e=[];for(let t=r.length-1;t>=0&&e.length==0;t--)r[t].forEach((n,o,s,c)=>e.push(s,c));return e}function eu(r,e){if(!r)return null;let t=[];for(let n=0;n<r.length;n+=2){let o=e.map(r[n],1),s=e.map(r[n+1],-1);o<=s&&t.push(o,s)}return t}function J_(r,e,t){let n=sl(e),o=Or.get(e).spec.config,s=(t?r.undone:r.done).popEvent(e,n);if(!s)return null;let c=s.selection.resolve(s.transform.doc),a=(t?r.done:r.undone).addTransform(s.transform,e.selection.getBookmark(),o,n),f=new Kn(t?a:s.remaining,t?s.remaining:a,null,0,-1);return s.transform.setSelection(c).setMeta(Or,{redo:t,historyState:f})}let tu=!1,Cg=null;function sl(r){let e=r.plugins;if(Cg!=e){tu=!1,Cg=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){tu=!0;break}}return tu}const Or=new pn("history"),G_=new pn("closeHistory");function Q_(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new Tt({key:Or,state:{init(){return new Kn(Xt.empty,Xt.empty,null,0,-1)},apply(e,t,n){return W_(t,n,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,o=n=="historyUndo"?_1:n=="historyRedo"?b1:null;return o?(t.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function E1(r,e){return(t,n)=>{let o=Or.getState(t);if(!o||(r?o.undone:o.done).eventCount==0)return!1;if(n){let s=J_(o,t,r);s&&n(e?s.scrollIntoView():s)}return!0}}const _1=E1(!1,!0),b1=E1(!0,!0),Z_=vt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:r,dispatch:e})=>_1(r,e),redo:()=>({state:r,dispatch:e})=>b1(r,e)}},addProseMirrorPlugins(){return[Q_(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Y_=xt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:r}){return["hr",ft(this.options.HTMLAttributes,r)]},addCommands(){return{setHorizontalRule:()=>({chain:r,state:e})=>{const{selection:t}=e,{$from:n,$to:o}=t,s=r();return n.parentOffset===0?s.insertContentAt({from:Math.max(n.pos-1,0),to:o.pos},{type:this.name}):dE(t)?s.insertContentAt(o.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:c,dispatch:a})=>{var f;if(a){const{$to:d}=c.selection,p=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?c.setSelection(ue.create(c.doc,d.pos+1)):d.nodeAfter.isBlock?c.setSelection(le.create(c.doc,d.pos)):c.setSelection(ue.create(c.doc,d.pos));else{const m=(f=d.parent.type.contentMatch.defaultType)===null||f===void 0?void 0:f.create();m&&(c.insert(p,m),c.setSelection(ue.create(c.doc,p+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[x1({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),X_=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,eb=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,tb=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,nb=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,rb=ir.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:r=>r.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:r=>r.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:r}){return["em",ft(this.options.HTMLAttributes,r),0]},addCommands(){return{setItalic:()=>({commands:r})=>r.setMark(this.name),toggleItalic:()=>({commands:r})=>r.toggleMark(this.name),unsetItalic:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[_o({find:X_,type:this.type}),_o({find:tb,type:this.type})]},addPasteRules(){return[bo({find:eb,type:this.type}),bo({find:nb,type:this.type})]}}),ob=xt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",ft(this.options.HTMLAttributes,r),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ib="listItem",Eg="textStyle",_g=/^(\d+)\.\s$/,sb=xt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:r=>r.hasAttribute("start")?parseInt(r.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:r=>r.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:r}){const{start:e,...t}=r;return e===1?["ol",ft(this.options.HTMLAttributes,t),0]:["ol",ft(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleOrderedList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ib,this.editor.getAttributes(Eg)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let r=Di({find:_g,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(r=Di({find:_g,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Eg)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[r]}}),lb=xt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:r}){return["p",ft(this.options.HTMLAttributes,r),0]},addCommands(){return{setParagraph:()=>({commands:r})=>r.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),cb=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,ab=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,ub=ir.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["s",ft(this.options.HTMLAttributes,r),0]},addCommands(){return{setStrike:()=>({commands:r})=>r.setMark(this.name),toggleStrike:()=>({commands:r})=>r.toggleMark(this.name),unsetStrike:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[_o({find:cb,type:this.type})]},addPasteRules(){return[bo({find:ab,type:this.type})]}}),fb=xt.create({name:"text",group:"inline"}),db=vt.create({name:"starterKit",addExtensions(){var r,e,t,n,o,s,c,a,f,d,p,m,k,v,x,w,C,E;const A=[];return this.options.bold!==!1&&A.push(v_.configure((r=this.options)===null||r===void 0?void 0:r.bold)),this.options.blockquote!==!1&&A.push(p_.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&A.push(S_.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&A.push(E_.configure((n=this.options)===null||n===void 0?void 0:n.code)),this.options.codeBlock!==!1&&A.push(M_.configure((o=this.options)===null||o===void 0?void 0:o.codeBlock)),this.options.document!==!1&&A.push(T_.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&A.push(N_.configure((c=this.options)===null||c===void 0?void 0:c.dropcursor)),this.options.gapcursor!==!1&&A.push(B_.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&A.push(q_.configure((f=this.options)===null||f===void 0?void 0:f.hardBreak)),this.options.heading!==!1&&A.push(V_.configure((d=this.options)===null||d===void 0?void 0:d.heading)),this.options.history!==!1&&A.push(Z_.configure((p=this.options)===null||p===void 0?void 0:p.history)),this.options.horizontalRule!==!1&&A.push(Y_.configure((m=this.options)===null||m===void 0?void 0:m.horizontalRule)),this.options.italic!==!1&&A.push(rb.configure((k=this.options)===null||k===void 0?void 0:k.italic)),this.options.listItem!==!1&&A.push(ob.configure((v=this.options)===null||v===void 0?void 0:v.listItem)),this.options.orderedList!==!1&&A.push(sb.configure((x=this.options)===null||x===void 0?void 0:x.orderedList)),this.options.paragraph!==!1&&A.push(lb.configure((w=this.options)===null||w===void 0?void 0:w.paragraph)),this.options.strike!==!1&&A.push(ub.configure((C=this.options)===null||C===void 0?void 0:C.strike)),this.options.text!==!1&&A.push(fb.configure((E=this.options)===null||E===void 0?void 0:E.text)),A}}),hb=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,pb=xt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:r}){return["img",ft(this.options.HTMLAttributes,r)]},addCommands(){return{setImage:r=>({commands:e})=>e.insertContent({type:this.name,attrs:r})}},addInputRules(){return[x1({find:hb,type:this.type,getAttributes:r=>{const[,,e,t,n]=r;return{src:t,alt:e,title:n}}})]}});var nu={};const mb="Á",gb="á",yb="Ă",kb="ă",vb="∾",xb="∿",Sb="∾̳",wb="Â",Cb="â",Eb="´",_b="А",bb="а",Mb="Æ",Tb="æ",Ab="⁡",Db="𝔄",Nb="𝔞",Ob="À",Rb="à",Ib="ℵ",Pb="ℵ",zb="Α",Lb="α",Fb="Ā",Bb="ā",qb="⨿",Vb="&",$b="&",jb="⩕",Hb="⩓",Ub="∧",Wb="⩜",Kb="⩘",Jb="⩚",Gb="∠",Qb="⦤",Zb="∠",Yb="⦨",Xb="⦩",eM="⦪",tM="⦫",nM="⦬",rM="⦭",oM="⦮",iM="⦯",sM="∡",lM="∟",cM="⊾",aM="⦝",uM="∢",fM="Å",dM="⍼",hM="Ą",pM="ą",mM="𝔸",gM="𝕒",yM="⩯",kM="≈",vM="⩰",xM="≊",SM="≋",wM="'",CM="⁡",EM="≈",_M="≊",bM="Å",MM="å",TM="𝒜",AM="𝒶",DM="≔",NM="*",OM="≈",RM="≍",IM="Ã",PM="ã",zM="Ä",LM="ä",FM="∳",BM="⨑",qM="≌",VM="϶",$M="‵",jM="∽",HM="⋍",UM="∖",WM="⫧",KM="⊽",JM="⌅",GM="⌆",QM="⌅",ZM="⎵",YM="⎶",XM="≌",eT="Б",tT="б",nT="„",rT="∵",oT="∵",iT="∵",sT="⦰",lT="϶",cT="ℬ",aT="ℬ",uT="Β",fT="β",dT="ℶ",hT="≬",pT="𝔅",mT="𝔟",gT="⋂",yT="◯",kT="⋃",vT="⨀",xT="⨁",ST="⨂",wT="⨆",CT="★",ET="▽",_T="△",bT="⨄",MT="⋁",TT="⋀",AT="⤍",DT="⧫",NT="▪",OT="▴",RT="▾",IT="◂",PT="▸",zT="␣",LT="▒",FT="░",BT="▓",qT="█",VT="=⃥",$T="≡⃥",jT="⫭",HT="⌐",UT="𝔹",WT="𝕓",KT="⊥",JT="⊥",GT="⋈",QT="⧉",ZT="┐",YT="╕",XT="╖",eA="╗",tA="┌",nA="╒",rA="╓",oA="╔",iA="─",sA="═",lA="┬",cA="╤",aA="╥",uA="╦",fA="┴",dA="╧",hA="╨",pA="╩",mA="⊟",gA="⊞",yA="⊠",kA="┘",vA="╛",xA="╜",SA="╝",wA="└",CA="╘",EA="╙",_A="╚",bA="│",MA="║",TA="┼",AA="╪",DA="╫",NA="╬",OA="┤",RA="╡",IA="╢",PA="╣",zA="├",LA="╞",FA="╟",BA="╠",qA="‵",VA="˘",$A="˘",jA="¦",HA="𝒷",UA="ℬ",WA="⁏",KA="∽",JA="⋍",GA="⧅",QA="\\",ZA="⟈",YA="•",XA="•",eD="≎",tD="⪮",nD="≏",rD="≎",oD="≏",iD="Ć",sD="ć",lD="⩄",cD="⩉",aD="⩋",uD="∩",fD="⋒",dD="⩇",hD="⩀",pD="ⅅ",mD="∩︀",gD="⁁",yD="ˇ",kD="ℭ",vD="⩍",xD="Č",SD="č",wD="Ç",CD="ç",ED="Ĉ",_D="ĉ",bD="∰",MD="⩌",TD="⩐",AD="Ċ",DD="ċ",ND="¸",OD="¸",RD="⦲",ID="¢",PD="·",zD="·",LD="𝔠",FD="ℭ",BD="Ч",qD="ч",VD="✓",$D="✓",jD="Χ",HD="χ",UD="ˆ",WD="≗",KD="↺",JD="↻",GD="⊛",QD="⊚",ZD="⊝",YD="⊙",XD="®",eN="Ⓢ",tN="⊖",nN="⊕",rN="⊗",oN="○",iN="⧃",sN="≗",lN="⨐",cN="⫯",aN="⧂",uN="∲",fN="”",dN="’",hN="♣",pN="♣",mN=":",gN="∷",yN="⩴",kN="≔",vN="≔",xN=",",SN="@",wN="∁",CN="∘",EN="∁",_N="ℂ",bN="≅",MN="⩭",TN="≡",AN="∮",DN="∯",NN="∮",ON="𝕔",RN="ℂ",IN="∐",PN="∐",zN="©",LN="©",FN="℗",BN="∳",qN="↵",VN="✗",$N="⨯",jN="𝒞",HN="𝒸",UN="⫏",WN="⫑",KN="⫐",JN="⫒",GN="⋯",QN="⤸",ZN="⤵",YN="⋞",XN="⋟",eO="↶",tO="⤽",nO="⩈",rO="⩆",oO="≍",iO="∪",sO="⋓",lO="⩊",cO="⊍",aO="⩅",uO="∪︀",fO="↷",dO="⤼",hO="⋞",pO="⋟",mO="⋎",gO="⋏",yO="¤",kO="↶",vO="↷",xO="⋎",SO="⋏",wO="∲",CO="∱",EO="⌭",_O="†",bO="‡",MO="ℸ",TO="↓",AO="↡",DO="⇓",NO="‐",OO="⫤",RO="⊣",IO="⤏",PO="˝",zO="Ď",LO="ď",FO="Д",BO="д",qO="‡",VO="⇊",$O="ⅅ",jO="ⅆ",HO="⤑",UO="⩷",WO="°",KO="∇",JO="Δ",GO="δ",QO="⦱",ZO="⥿",YO="𝔇",XO="𝔡",eR="⥥",tR="⇃",nR="⇂",rR="´",oR="˙",iR="˝",sR="`",lR="˜",cR="⋄",aR="⋄",uR="⋄",fR="♦",dR="♦",hR="¨",pR="ⅆ",mR="ϝ",gR="⋲",yR="÷",kR="÷",vR="⋇",xR="⋇",SR="Ђ",wR="ђ",CR="⌞",ER="⌍",_R="$",bR="𝔻",MR="𝕕",TR="¨",AR="˙",DR="⃜",NR="≐",OR="≑",RR="≐",IR="∸",PR="∔",zR="⊡",LR="⌆",FR="∯",BR="¨",qR="⇓",VR="⇐",$R="⇔",jR="⫤",HR="⟸",UR="⟺",WR="⟹",KR="⇒",JR="⊨",GR="⇑",QR="⇕",ZR="∥",YR="⤓",XR="↓",e2="↓",t2="⇓",n2="⇵",r2="̑",o2="⇊",i2="⇃",s2="⇂",l2="⥐",c2="⥞",a2="⥖",u2="↽",f2="⥟",d2="⥗",h2="⇁",p2="↧",m2="⊤",g2="⤐",y2="⌟",k2="⌌",v2="𝒟",x2="𝒹",S2="Ѕ",w2="ѕ",C2="⧶",E2="Đ",_2="đ",b2="⋱",M2="▿",T2="▾",A2="⇵",D2="⥯",N2="⦦",O2="Џ",R2="џ",I2="⟿",P2="É",z2="é",L2="⩮",F2="Ě",B2="ě",q2="Ê",V2="ê",$2="≖",j2="≕",H2="Э",U2="э",W2="⩷",K2="Ė",J2="ė",G2="≑",Q2="ⅇ",Z2="≒",Y2="𝔈",X2="𝔢",eI="⪚",tI="È",nI="è",rI="⪖",oI="⪘",iI="⪙",sI="∈",lI="⏧",cI="ℓ",aI="⪕",uI="⪗",fI="Ē",dI="ē",hI="∅",pI="∅",mI="◻",gI="∅",yI="▫",kI=" ",vI=" ",xI=" ",SI="Ŋ",wI="ŋ",CI=" ",EI="Ę",_I="ę",bI="𝔼",MI="𝕖",TI="⋕",AI="⧣",DI="⩱",NI="ε",OI="Ε",RI="ε",II="ϵ",PI="≖",zI="≕",LI="≂",FI="⪖",BI="⪕",qI="⩵",VI="=",$I="≂",jI="≟",HI="⇌",UI="≡",WI="⩸",KI="⧥",JI="⥱",GI="≓",QI="ℯ",ZI="ℰ",YI="≐",XI="⩳",eP="≂",tP="Η",nP="η",rP="Ð",oP="ð",iP="Ë",sP="ë",lP="€",cP="!",aP="∃",uP="∃",fP="ℰ",dP="ⅇ",hP="ⅇ",pP="≒",mP="Ф",gP="ф",yP="♀",kP="ﬃ",vP="ﬀ",xP="ﬄ",SP="𝔉",wP="𝔣",CP="ﬁ",EP="◼",_P="▪",bP="fj",MP="♭",TP="ﬂ",AP="▱",DP="ƒ",NP="𝔽",OP="𝕗",RP="∀",IP="∀",PP="⋔",zP="⫙",LP="ℱ",FP="⨍",BP="½",qP="⅓",VP="¼",$P="⅕",jP="⅙",HP="⅛",UP="⅔",WP="⅖",KP="¾",JP="⅗",GP="⅜",QP="⅘",ZP="⅚",YP="⅝",XP="⅞",ez="⁄",tz="⌢",nz="𝒻",rz="ℱ",oz="ǵ",iz="Γ",sz="γ",lz="Ϝ",cz="ϝ",az="⪆",uz="Ğ",fz="ğ",dz="Ģ",hz="Ĝ",pz="ĝ",mz="Г",gz="г",yz="Ġ",kz="ġ",vz="≥",xz="≧",Sz="⪌",wz="⋛",Cz="≥",Ez="≧",_z="⩾",bz="⪩",Mz="⩾",Tz="⪀",Az="⪂",Dz="⪄",Nz="⋛︀",Oz="⪔",Rz="𝔊",Iz="𝔤",Pz="≫",zz="⋙",Lz="⋙",Fz="ℷ",Bz="Ѓ",qz="ѓ",Vz="⪥",$z="≷",jz="⪒",Hz="⪤",Uz="⪊",Wz="⪊",Kz="⪈",Jz="≩",Gz="⪈",Qz="≩",Zz="⋧",Yz="𝔾",Xz="𝕘",eL="`",tL="≥",nL="⋛",rL="≧",oL="⪢",iL="≷",sL="⩾",lL="≳",cL="𝒢",aL="ℊ",uL="≳",fL="⪎",dL="⪐",hL="⪧",pL="⩺",mL=">",gL=">",yL="≫",kL="⋗",vL="⦕",xL="⩼",SL="⪆",wL="⥸",CL="⋗",EL="⋛",_L="⪌",bL="≷",ML="≳",TL="≩︀",AL="≩︀",DL="ˇ",NL=" ",OL="½",RL="ℋ",IL="Ъ",PL="ъ",zL="⥈",LL="↔",FL="⇔",BL="↭",qL="^",VL="ℏ",$L="Ĥ",jL="ĥ",HL="♥",UL="♥",WL="…",KL="⊹",JL="𝔥",GL="ℌ",QL="ℋ",ZL="⤥",YL="⤦",XL="⇿",eF="∻",tF="↩",nF="↪",rF="𝕙",oF="ℍ",iF="―",sF="─",lF="𝒽",cF="ℋ",aF="ℏ",uF="Ħ",fF="ħ",dF="≎",hF="≏",pF="⁃",mF="‐",gF="Í",yF="í",kF="⁣",vF="Î",xF="î",SF="И",wF="и",CF="İ",EF="Е",_F="е",bF="¡",MF="⇔",TF="𝔦",AF="ℑ",DF="Ì",NF="ì",OF="ⅈ",RF="⨌",IF="∭",PF="⧜",zF="℩",LF="Ĳ",FF="ĳ",BF="Ī",qF="ī",VF="ℑ",$F="ⅈ",jF="ℐ",HF="ℑ",UF="ı",WF="ℑ",KF="⊷",JF="Ƶ",GF="⇒",QF="℅",ZF="∞",YF="⧝",XF="ı",e3="⊺",t3="∫",n3="∬",r3="ℤ",o3="∫",i3="⊺",s3="⋂",l3="⨗",c3="⨼",a3="⁣",u3="⁢",f3="Ё",d3="ё",h3="Į",p3="į",m3="𝕀",g3="𝕚",y3="Ι",k3="ι",v3="⨼",x3="¿",S3="𝒾",w3="ℐ",C3="∈",E3="⋵",_3="⋹",b3="⋴",M3="⋳",T3="∈",A3="⁢",D3="Ĩ",N3="ĩ",O3="І",R3="і",I3="Ï",P3="ï",z3="Ĵ",L3="ĵ",F3="Й",B3="й",q3="𝔍",V3="𝔧",$3="ȷ",j3="𝕁",H3="𝕛",U3="𝒥",W3="𝒿",K3="Ј",J3="ј",G3="Є",Q3="є",Z3="Κ",Y3="κ",X3="ϰ",eB="Ķ",tB="ķ",nB="К",rB="к",oB="𝔎",iB="𝔨",sB="ĸ",lB="Х",cB="х",aB="Ќ",uB="ќ",fB="𝕂",dB="𝕜",hB="𝒦",pB="𝓀",mB="⇚",gB="Ĺ",yB="ĺ",kB="⦴",vB="ℒ",xB="Λ",SB="λ",wB="⟨",CB="⟪",EB="⦑",_B="⟨",bB="⪅",MB="ℒ",TB="«",AB="⇤",DB="⤟",NB="←",OB="↞",RB="⇐",IB="⤝",PB="↩",zB="↫",LB="⤹",FB="⥳",BB="↢",qB="⤙",VB="⤛",$B="⪫",jB="⪭",HB="⪭︀",UB="⤌",WB="⤎",KB="❲",JB="{",GB="[",QB="⦋",ZB="⦏",YB="⦍",XB="Ľ",eq="ľ",tq="Ļ",nq="ļ",rq="⌈",oq="{",iq="Л",sq="л",lq="⤶",cq="“",aq="„",uq="⥧",fq="⥋",dq="↲",hq="≤",pq="≦",mq="⟨",gq="⇤",yq="←",kq="←",vq="⇐",xq="⇆",Sq="↢",wq="⌈",Cq="⟦",Eq="⥡",_q="⥙",bq="⇃",Mq="⌊",Tq="↽",Aq="↼",Dq="⇇",Nq="↔",Oq="↔",Rq="⇔",Iq="⇆",Pq="⇋",zq="↭",Lq="⥎",Fq="↤",Bq="⊣",qq="⥚",Vq="⋋",$q="⧏",jq="⊲",Hq="⊴",Uq="⥑",Wq="⥠",Kq="⥘",Jq="↿",Gq="⥒",Qq="↼",Zq="⪋",Yq="⋚",Xq="≤",e4="≦",t4="⩽",n4="⪨",r4="⩽",o4="⩿",i4="⪁",s4="⪃",l4="⋚︀",c4="⪓",a4="⪅",u4="⋖",f4="⋚",d4="⪋",h4="⋚",p4="≦",m4="≶",g4="≶",y4="⪡",k4="≲",v4="⩽",x4="≲",S4="⥼",w4="⌊",C4="𝔏",E4="𝔩",_4="≶",b4="⪑",M4="⥢",T4="↽",A4="↼",D4="⥪",N4="▄",O4="Љ",R4="љ",I4="⇇",P4="≪",z4="⋘",L4="⌞",F4="⇚",B4="⥫",q4="◺",V4="Ŀ",$4="ŀ",j4="⎰",H4="⎰",U4="⪉",W4="⪉",K4="⪇",J4="≨",G4="⪇",Q4="≨",Z4="⋦",Y4="⟬",X4="⇽",eV="⟦",tV="⟵",nV="⟵",rV="⟸",oV="⟷",iV="⟷",sV="⟺",lV="⟼",cV="⟶",aV="⟶",uV="⟹",fV="↫",dV="↬",hV="⦅",pV="𝕃",mV="𝕝",gV="⨭",yV="⨴",kV="∗",vV="_",xV="↙",SV="↘",wV="◊",CV="◊",EV="⧫",_V="(",bV="⦓",MV="⇆",TV="⌟",AV="⇋",DV="⥭",NV="‎",OV="⊿",RV="‹",IV="𝓁",PV="ℒ",zV="↰",LV="↰",FV="≲",BV="⪍",qV="⪏",VV="[",$V="‘",jV="‚",HV="Ł",UV="ł",WV="⪦",KV="⩹",JV="<",GV="<",QV="≪",ZV="⋖",YV="⋋",XV="⋉",e$="⥶",t$="⩻",n$="◃",r$="⊴",o$="◂",i$="⦖",s$="⥊",l$="⥦",c$="≨︀",a$="≨︀",u$="¯",f$="♂",d$="✠",h$="✠",p$="↦",m$="↦",g$="↧",y$="↤",k$="↥",v$="▮",x$="⨩",S$="М",w$="м",C$="—",E$="∺",_$="∡",b$=" ",M$="ℳ",T$="𝔐",A$="𝔪",D$="℧",N$="µ",O$="*",R$="⫰",I$="∣",P$="·",z$="⊟",L$="−",F$="∸",B$="⨪",q$="∓",V$="⫛",$$="…",j$="∓",H$="⊧",U$="𝕄",W$="𝕞",K$="∓",J$="𝓂",G$="ℳ",Q$="∾",Z$="Μ",Y$="μ",X$="⊸",ej="⊸",tj="∇",nj="Ń",rj="ń",oj="∠⃒",ij="≉",sj="⩰̸",lj="≋̸",cj="ŉ",aj="≉",uj="♮",fj="ℕ",dj="♮",hj=" ",pj="≎̸",mj="≏̸",gj="⩃",yj="Ň",kj="ň",vj="Ņ",xj="ņ",Sj="≇",wj="⩭̸",Cj="⩂",Ej="Н",_j="н",bj="–",Mj="⤤",Tj="↗",Aj="⇗",Dj="↗",Nj="≠",Oj="≐̸",Rj="​",Ij="​",Pj="​",zj="​",Lj="≢",Fj="⤨",Bj="≂̸",qj="≫",Vj="≪",$j=`
`,jj="∄",Hj="∄",Uj="𝔑",Wj="𝔫",Kj="≧̸",Jj="≱",Gj="≱",Qj="≧̸",Zj="⩾̸",Yj="⩾̸",Xj="⋙̸",e5="≵",t5="≫⃒",n5="≯",r5="≯",o5="≫̸",i5="↮",s5="⇎",l5="⫲",c5="∋",a5="⋼",u5="⋺",f5="∋",d5="Њ",h5="њ",p5="↚",m5="⇍",g5="‥",y5="≦̸",k5="≰",v5="↚",x5="⇍",S5="↮",w5="⇎",C5="≰",E5="≦̸",_5="⩽̸",b5="⩽̸",M5="≮",T5="⋘̸",A5="≴",D5="≪⃒",N5="≮",O5="⋪",R5="⋬",I5="≪̸",P5="∤",z5="⁠",L5=" ",F5="𝕟",B5="ℕ",q5="⫬",V5="¬",$5="≢",j5="≭",H5="∦",U5="∉",W5="≠",K5="≂̸",J5="∄",G5="≯",Q5="≱",Z5="≧̸",Y5="≫̸",X5="≹",e6="⩾̸",t6="≵",n6="≎̸",r6="≏̸",o6="∉",i6="⋵̸",s6="⋹̸",l6="∉",c6="⋷",a6="⋶",u6="⧏̸",f6="⋪",d6="⋬",h6="≮",p6="≰",m6="≸",g6="≪̸",y6="⩽̸",k6="≴",v6="⪢̸",x6="⪡̸",S6="∌",w6="∌",C6="⋾",E6="⋽",_6="⊀",b6="⪯̸",M6="⋠",T6="∌",A6="⧐̸",D6="⋫",N6="⋭",O6="⊏̸",R6="⋢",I6="⊐̸",P6="⋣",z6="⊂⃒",L6="⊈",F6="⊁",B6="⪰̸",q6="⋡",V6="≿̸",$6="⊃⃒",j6="⊉",H6="≁",U6="≄",W6="≇",K6="≉",J6="∤",G6="∦",Q6="∦",Z6="⫽⃥",Y6="∂̸",X6="⨔",e8="⊀",t8="⋠",n8="⊀",r8="⪯̸",o8="⪯̸",i8="⤳̸",s8="↛",l8="⇏",c8="↝̸",a8="↛",u8="⇏",f8="⋫",d8="⋭",h8="⊁",p8="⋡",m8="⪰̸",g8="𝒩",y8="𝓃",k8="∤",v8="∦",x8="≁",S8="≄",w8="≄",C8="∤",E8="∦",_8="⋢",b8="⋣",M8="⊄",T8="⫅̸",A8="⊈",D8="⊂⃒",N8="⊈",O8="⫅̸",R8="⊁",I8="⪰̸",P8="⊅",z8="⫆̸",L8="⊉",F8="⊃⃒",B8="⊉",q8="⫆̸",V8="≹",$8="Ñ",j8="ñ",H8="≸",U8="⋪",W8="⋬",K8="⋫",J8="⋭",G8="Ν",Q8="ν",Z8="#",Y8="№",X8=" ",eH="≍⃒",tH="⊬",nH="⊭",rH="⊮",oH="⊯",iH="≥⃒",sH=">⃒",lH="⤄",cH="⧞",aH="⤂",uH="≤⃒",fH="<⃒",dH="⊴⃒",hH="⤃",pH="⊵⃒",mH="∼⃒",gH="⤣",yH="↖",kH="⇖",vH="↖",xH="⤧",SH="Ó",wH="ó",CH="⊛",EH="Ô",_H="ô",bH="⊚",MH="О",TH="о",AH="⊝",DH="Ő",NH="ő",OH="⨸",RH="⊙",IH="⦼",PH="Œ",zH="œ",LH="⦿",FH="𝔒",BH="𝔬",qH="˛",VH="Ò",$H="ò",jH="⧁",HH="⦵",UH="Ω",WH="∮",KH="↺",JH="⦾",GH="⦻",QH="‾",ZH="⧀",YH="Ō",XH="ō",e9="Ω",t9="ω",n9="Ο",r9="ο",o9="⦶",i9="⊖",s9="𝕆",l9="𝕠",c9="⦷",a9="“",u9="‘",f9="⦹",d9="⊕",h9="↻",p9="⩔",m9="∨",g9="⩝",y9="ℴ",k9="ℴ",v9="ª",x9="º",S9="⊶",w9="⩖",C9="⩗",E9="⩛",_9="Ⓢ",b9="𝒪",M9="ℴ",T9="Ø",A9="ø",D9="⊘",N9="Õ",O9="õ",R9="⨶",I9="⨷",P9="⊗",z9="Ö",L9="ö",F9="⌽",B9="‾",q9="⏞",V9="⎴",$9="⏜",j9="¶",H9="∥",U9="∥",W9="⫳",K9="⫽",J9="∂",G9="∂",Q9="П",Z9="п",Y9="%",X9=".",eU="‰",tU="⊥",nU="‱",rU="𝔓",oU="𝔭",iU="Φ",sU="φ",lU="ϕ",cU="ℳ",aU="☎",uU="Π",fU="π",dU="⋔",hU="ϖ",pU="ℏ",mU="ℎ",gU="ℏ",yU="⨣",kU="⊞",vU="⨢",xU="+",SU="∔",wU="⨥",CU="⩲",EU="±",_U="±",bU="⨦",MU="⨧",TU="±",AU="ℌ",DU="⨕",NU="𝕡",OU="ℙ",RU="£",IU="⪷",PU="⪻",zU="≺",LU="≼",FU="⪷",BU="≺",qU="≼",VU="≺",$U="⪯",jU="≼",HU="≾",UU="⪯",WU="⪹",KU="⪵",JU="⋨",GU="⪯",QU="⪳",ZU="≾",YU="′",XU="″",e7="ℙ",t7="⪹",n7="⪵",r7="⋨",o7="∏",i7="∏",s7="⌮",l7="⌒",c7="⌓",a7="∝",u7="∝",f7="∷",d7="∝",h7="≾",p7="⊰",m7="𝒫",g7="𝓅",y7="Ψ",k7="ψ",v7=" ",x7="𝔔",S7="𝔮",w7="⨌",C7="𝕢",E7="ℚ",_7="⁗",b7="𝒬",M7="𝓆",T7="ℍ",A7="⨖",D7="?",N7="≟",O7='"',R7='"',I7="⇛",P7="∽̱",z7="Ŕ",L7="ŕ",F7="√",B7="⦳",q7="⟩",V7="⟫",$7="⦒",j7="⦥",H7="⟩",U7="»",W7="⥵",K7="⇥",J7="⤠",G7="⤳",Q7="→",Z7="↠",Y7="⇒",X7="⤞",eW="↪",tW="↬",nW="⥅",rW="⥴",oW="⤖",iW="↣",sW="↝",lW="⤚",cW="⤜",aW="∶",uW="ℚ",fW="⤍",dW="⤏",hW="⤐",pW="❳",mW="}",gW="]",yW="⦌",kW="⦎",vW="⦐",xW="Ř",SW="ř",wW="Ŗ",CW="ŗ",EW="⌉",_W="}",bW="Р",MW="р",TW="⤷",AW="⥩",DW="”",NW="”",OW="↳",RW="ℜ",IW="ℛ",PW="ℜ",zW="ℝ",LW="ℜ",FW="▭",BW="®",qW="®",VW="∋",$W="⇋",jW="⥯",HW="⥽",UW="⌋",WW="𝔯",KW="ℜ",JW="⥤",GW="⇁",QW="⇀",ZW="⥬",YW="Ρ",XW="ρ",eK="ϱ",tK="⟩",nK="⇥",rK="→",oK="→",iK="⇒",sK="⇄",lK="↣",cK="⌉",aK="⟧",uK="⥝",fK="⥕",dK="⇂",hK="⌋",pK="⇁",mK="⇀",gK="⇄",yK="⇌",kK="⇉",vK="↝",xK="↦",SK="⊢",wK="⥛",CK="⋌",EK="⧐",_K="⊳",bK="⊵",MK="⥏",TK="⥜",AK="⥔",DK="↾",NK="⥓",OK="⇀",RK="˚",IK="≓",PK="⇄",zK="⇌",LK="‏",FK="⎱",BK="⎱",qK="⫮",VK="⟭",$K="⇾",jK="⟧",HK="⦆",UK="𝕣",WK="ℝ",KK="⨮",JK="⨵",GK="⥰",QK=")",ZK="⦔",YK="⨒",XK="⇉",eJ="⇛",tJ="›",nJ="𝓇",rJ="ℛ",oJ="↱",iJ="↱",sJ="]",lJ="’",cJ="’",aJ="⋌",uJ="⋊",fJ="▹",dJ="⊵",hJ="▸",pJ="⧎",mJ="⧴",gJ="⥨",yJ="℞",kJ="Ś",vJ="ś",xJ="‚",SJ="⪸",wJ="Š",CJ="š",EJ="⪼",_J="≻",bJ="≽",MJ="⪰",TJ="⪴",AJ="Ş",DJ="ş",NJ="Ŝ",OJ="ŝ",RJ="⪺",IJ="⪶",PJ="⋩",zJ="⨓",LJ="≿",FJ="С",BJ="с",qJ="⊡",VJ="⋅",$J="⩦",jJ="⤥",HJ="↘",UJ="⇘",WJ="↘",KJ="§",JJ=";",GJ="⤩",QJ="∖",ZJ="∖",YJ="✶",XJ="𝔖",eG="𝔰",tG="⌢",nG="♯",rG="Щ",oG="щ",iG="Ш",sG="ш",lG="↓",cG="←",aG="∣",uG="∥",fG="→",dG="↑",hG="­",pG="Σ",mG="σ",gG="ς",yG="ς",kG="∼",vG="⩪",xG="≃",SG="≃",wG="⪞",CG="⪠",EG="⪝",_G="⪟",bG="≆",MG="⨤",TG="⥲",AG="←",DG="∘",NG="∖",OG="⨳",RG="⧤",IG="∣",PG="⌣",zG="⪪",LG="⪬",FG="⪬︀",BG="Ь",qG="ь",VG="⌿",$G="⧄",jG="/",HG="𝕊",UG="𝕤",WG="♠",KG="♠",JG="∥",GG="⊓",QG="⊓︀",ZG="⊔",YG="⊔︀",XG="√",eQ="⊏",tQ="⊑",nQ="⊏",rQ="⊑",oQ="⊐",iQ="⊒",sQ="⊐",lQ="⊒",cQ="□",aQ="□",uQ="⊓",fQ="⊏",dQ="⊑",hQ="⊐",pQ="⊒",mQ="⊔",gQ="▪",yQ="□",kQ="▪",vQ="→",xQ="𝒮",SQ="𝓈",wQ="∖",CQ="⌣",EQ="⋆",_Q="⋆",bQ="☆",MQ="★",TQ="ϵ",AQ="ϕ",DQ="¯",NQ="⊂",OQ="⋐",RQ="⪽",IQ="⫅",PQ="⊆",zQ="⫃",LQ="⫁",FQ="⫋",BQ="⊊",qQ="⪿",VQ="⥹",$Q="⊂",jQ="⋐",HQ="⊆",UQ="⫅",WQ="⊆",KQ="⊊",JQ="⫋",GQ="⫇",QQ="⫕",ZQ="⫓",YQ="⪸",XQ="≻",eZ="≽",tZ="≻",nZ="⪰",rZ="≽",oZ="≿",iZ="⪰",sZ="⪺",lZ="⪶",cZ="⋩",aZ="≿",uZ="∋",fZ="∑",dZ="∑",hZ="♪",pZ="¹",mZ="²",gZ="³",yZ="⊃",kZ="⋑",vZ="⪾",xZ="⫘",SZ="⫆",wZ="⊇",CZ="⫄",EZ="⊃",_Z="⊇",bZ="⟉",MZ="⫗",TZ="⥻",AZ="⫂",DZ="⫌",NZ="⊋",OZ="⫀",RZ="⊃",IZ="⋑",PZ="⊇",zZ="⫆",LZ="⊋",FZ="⫌",BZ="⫈",qZ="⫔",VZ="⫖",$Z="⤦",jZ="↙",HZ="⇙",UZ="↙",WZ="⤪",KZ="ß",JZ="	",GZ="⌖",QZ="Τ",ZZ="τ",YZ="⎴",XZ="Ť",eY="ť",tY="Ţ",nY="ţ",rY="Т",oY="т",iY="⃛",sY="⌕",lY="𝔗",cY="𝔱",aY="∴",uY="∴",fY="∴",dY="Θ",hY="θ",pY="ϑ",mY="ϑ",gY="≈",yY="∼",kY="  ",vY=" ",xY=" ",SY="≈",wY="∼",CY="Þ",EY="þ",_Y="˜",bY="∼",MY="≃",TY="≅",AY="≈",DY="⨱",NY="⊠",OY="×",RY="⨰",IY="∭",PY="⤨",zY="⌶",LY="⫱",FY="⊤",BY="𝕋",qY="𝕥",VY="⫚",$Y="⤩",jY="‴",HY="™",UY="™",WY="▵",KY="▿",JY="◃",GY="⊴",QY="≜",ZY="▹",YY="⊵",XY="◬",eX="≜",tX="⨺",nX="⃛",rX="⨹",oX="⧍",iX="⨻",sX="⏢",lX="𝒯",cX="𝓉",aX="Ц",uX="ц",fX="Ћ",dX="ћ",hX="Ŧ",pX="ŧ",mX="≬",gX="↞",yX="↠",kX="Ú",vX="ú",xX="↑",SX="↟",wX="⇑",CX="⥉",EX="Ў",_X="ў",bX="Ŭ",MX="ŭ",TX="Û",AX="û",DX="У",NX="у",OX="⇅",RX="Ű",IX="ű",PX="⥮",zX="⥾",LX="𝔘",FX="𝔲",BX="Ù",qX="ù",VX="⥣",$X="↿",jX="↾",HX="▀",UX="⌜",WX="⌜",KX="⌏",JX="◸",GX="Ū",QX="ū",ZX="¨",YX="_",XX="⏟",eee="⎵",tee="⏝",nee="⋃",ree="⊎",oee="Ų",iee="ų",see="𝕌",lee="𝕦",cee="⤒",aee="↑",uee="↑",fee="⇑",dee="⇅",hee="↕",pee="↕",mee="⇕",gee="⥮",yee="↿",kee="↾",vee="⊎",xee="↖",See="↗",wee="υ",Cee="ϒ",Eee="ϒ",_ee="Υ",bee="υ",Mee="↥",Tee="⊥",Aee="⇈",Dee="⌝",Nee="⌝",Oee="⌎",Ree="Ů",Iee="ů",Pee="◹",zee="𝒰",Lee="𝓊",Fee="⋰",Bee="Ũ",qee="ũ",Vee="▵",$ee="▴",jee="⇈",Hee="Ü",Uee="ü",Wee="⦧",Kee="⦜",Jee="ϵ",Gee="ϰ",Qee="∅",Zee="ϕ",Yee="ϖ",Xee="∝",ete="↕",tte="⇕",nte="ϱ",rte="ς",ote="⊊︀",ite="⫋︀",ste="⊋︀",lte="⫌︀",cte="ϑ",ate="⊲",ute="⊳",fte="⫨",dte="⫫",hte="⫩",pte="В",mte="в",gte="⊢",yte="⊨",kte="⊩",vte="⊫",xte="⫦",Ste="⊻",wte="∨",Cte="⋁",Ete="≚",_te="⋮",bte="|",Mte="‖",Tte="|",Ate="‖",Dte="∣",Nte="|",Ote="❘",Rte="≀",Ite=" ",Pte="𝔙",zte="𝔳",Lte="⊲",Fte="⊂⃒",Bte="⊃⃒",qte="𝕍",Vte="𝕧",$te="∝",jte="⊳",Hte="𝒱",Ute="𝓋",Wte="⫋︀",Kte="⊊︀",Jte="⫌︀",Gte="⊋︀",Qte="⊪",Zte="⦚",Yte="Ŵ",Xte="ŵ",ene="⩟",tne="∧",nne="⋀",rne="≙",one="℘",ine="𝔚",sne="𝔴",lne="𝕎",cne="𝕨",ane="℘",une="≀",fne="≀",dne="𝒲",hne="𝓌",pne="⋂",mne="◯",gne="⋃",yne="▽",kne="𝔛",vne="𝔵",xne="⟷",Sne="⟺",wne="Ξ",Cne="ξ",Ene="⟵",_ne="⟸",bne="⟼",Mne="⋻",Tne="⨀",Ane="𝕏",Dne="𝕩",Nne="⨁",One="⨂",Rne="⟶",Ine="⟹",Pne="𝒳",zne="𝓍",Lne="⨆",Fne="⨄",Bne="△",qne="⋁",Vne="⋀",$ne="Ý",jne="ý",Hne="Я",Une="я",Wne="Ŷ",Kne="ŷ",Jne="Ы",Gne="ы",Qne="¥",Zne="𝔜",Yne="𝔶",Xne="Ї",ere="ї",tre="𝕐",nre="𝕪",rre="𝒴",ore="𝓎",ire="Ю",sre="ю",lre="ÿ",cre="Ÿ",are="Ź",ure="ź",fre="Ž",dre="ž",hre="З",pre="з",mre="Ż",gre="ż",yre="ℨ",kre="​",vre="Ζ",xre="ζ",Sre="𝔷",wre="ℨ",Cre="Ж",Ere="ж",_re="⇝",bre="𝕫",Mre="ℤ",Tre="𝒵",Are="𝓏",Dre="‍",Nre="‌",Ore={Aacute:mb,aacute:gb,Abreve:yb,abreve:kb,ac:vb,acd:xb,acE:Sb,Acirc:wb,acirc:Cb,acute:Eb,Acy:_b,acy:bb,AElig:Mb,aelig:Tb,af:Ab,Afr:Db,afr:Nb,Agrave:Ob,agrave:Rb,alefsym:Ib,aleph:Pb,Alpha:zb,alpha:Lb,Amacr:Fb,amacr:Bb,amalg:qb,amp:Vb,AMP:$b,andand:jb,And:Hb,and:Ub,andd:Wb,andslope:Kb,andv:Jb,ang:Gb,ange:Qb,angle:Zb,angmsdaa:Yb,angmsdab:Xb,angmsdac:eM,angmsdad:tM,angmsdae:nM,angmsdaf:rM,angmsdag:oM,angmsdah:iM,angmsd:sM,angrt:lM,angrtvb:cM,angrtvbd:aM,angsph:uM,angst:fM,angzarr:dM,Aogon:hM,aogon:pM,Aopf:mM,aopf:gM,apacir:yM,ap:kM,apE:vM,ape:xM,apid:SM,apos:wM,ApplyFunction:CM,approx:EM,approxeq:_M,Aring:bM,aring:MM,Ascr:TM,ascr:AM,Assign:DM,ast:NM,asymp:OM,asympeq:RM,Atilde:IM,atilde:PM,Auml:zM,auml:LM,awconint:FM,awint:BM,backcong:qM,backepsilon:VM,backprime:$M,backsim:jM,backsimeq:HM,Backslash:UM,Barv:WM,barvee:KM,barwed:JM,Barwed:GM,barwedge:QM,bbrk:ZM,bbrktbrk:YM,bcong:XM,Bcy:eT,bcy:tT,bdquo:nT,becaus:rT,because:oT,Because:iT,bemptyv:sT,bepsi:lT,bernou:cT,Bernoullis:aT,Beta:uT,beta:fT,beth:dT,between:hT,Bfr:pT,bfr:mT,bigcap:gT,bigcirc:yT,bigcup:kT,bigodot:vT,bigoplus:xT,bigotimes:ST,bigsqcup:wT,bigstar:CT,bigtriangledown:ET,bigtriangleup:_T,biguplus:bT,bigvee:MT,bigwedge:TT,bkarow:AT,blacklozenge:DT,blacksquare:NT,blacktriangle:OT,blacktriangledown:RT,blacktriangleleft:IT,blacktriangleright:PT,blank:zT,blk12:LT,blk14:FT,blk34:BT,block:qT,bne:VT,bnequiv:$T,bNot:jT,bnot:HT,Bopf:UT,bopf:WT,bot:KT,bottom:JT,bowtie:GT,boxbox:QT,boxdl:ZT,boxdL:YT,boxDl:XT,boxDL:eA,boxdr:tA,boxdR:nA,boxDr:rA,boxDR:oA,boxh:iA,boxH:sA,boxhd:lA,boxHd:cA,boxhD:aA,boxHD:uA,boxhu:fA,boxHu:dA,boxhU:hA,boxHU:pA,boxminus:mA,boxplus:gA,boxtimes:yA,boxul:kA,boxuL:vA,boxUl:xA,boxUL:SA,boxur:wA,boxuR:CA,boxUr:EA,boxUR:_A,boxv:bA,boxV:MA,boxvh:TA,boxvH:AA,boxVh:DA,boxVH:NA,boxvl:OA,boxvL:RA,boxVl:IA,boxVL:PA,boxvr:zA,boxvR:LA,boxVr:FA,boxVR:BA,bprime:qA,breve:VA,Breve:$A,brvbar:jA,bscr:HA,Bscr:UA,bsemi:WA,bsim:KA,bsime:JA,bsolb:GA,bsol:QA,bsolhsub:ZA,bull:YA,bullet:XA,bump:eD,bumpE:tD,bumpe:nD,Bumpeq:rD,bumpeq:oD,Cacute:iD,cacute:sD,capand:lD,capbrcup:cD,capcap:aD,cap:uD,Cap:fD,capcup:dD,capdot:hD,CapitalDifferentialD:pD,caps:mD,caret:gD,caron:yD,Cayleys:kD,ccaps:vD,Ccaron:xD,ccaron:SD,Ccedil:wD,ccedil:CD,Ccirc:ED,ccirc:_D,Cconint:bD,ccups:MD,ccupssm:TD,Cdot:AD,cdot:DD,cedil:ND,Cedilla:OD,cemptyv:RD,cent:ID,centerdot:PD,CenterDot:zD,cfr:LD,Cfr:FD,CHcy:BD,chcy:qD,check:VD,checkmark:$D,Chi:jD,chi:HD,circ:UD,circeq:WD,circlearrowleft:KD,circlearrowright:JD,circledast:GD,circledcirc:QD,circleddash:ZD,CircleDot:YD,circledR:XD,circledS:eN,CircleMinus:tN,CirclePlus:nN,CircleTimes:rN,cir:oN,cirE:iN,cire:sN,cirfnint:lN,cirmid:cN,cirscir:aN,ClockwiseContourIntegral:uN,CloseCurlyDoubleQuote:fN,CloseCurlyQuote:dN,clubs:hN,clubsuit:pN,colon:mN,Colon:gN,Colone:yN,colone:kN,coloneq:vN,comma:xN,commat:SN,comp:wN,compfn:CN,complement:EN,complexes:_N,cong:bN,congdot:MN,Congruent:TN,conint:AN,Conint:DN,ContourIntegral:NN,copf:ON,Copf:RN,coprod:IN,Coproduct:PN,copy:zN,COPY:LN,copysr:FN,CounterClockwiseContourIntegral:BN,crarr:qN,cross:VN,Cross:$N,Cscr:jN,cscr:HN,csub:UN,csube:WN,csup:KN,csupe:JN,ctdot:GN,cudarrl:QN,cudarrr:ZN,cuepr:YN,cuesc:XN,cularr:eO,cularrp:tO,cupbrcap:nO,cupcap:rO,CupCap:oO,cup:iO,Cup:sO,cupcup:lO,cupdot:cO,cupor:aO,cups:uO,curarr:fO,curarrm:dO,curlyeqprec:hO,curlyeqsucc:pO,curlyvee:mO,curlywedge:gO,curren:yO,curvearrowleft:kO,curvearrowright:vO,cuvee:xO,cuwed:SO,cwconint:wO,cwint:CO,cylcty:EO,dagger:_O,Dagger:bO,daleth:MO,darr:TO,Darr:AO,dArr:DO,dash:NO,Dashv:OO,dashv:RO,dbkarow:IO,dblac:PO,Dcaron:zO,dcaron:LO,Dcy:FO,dcy:BO,ddagger:qO,ddarr:VO,DD:$O,dd:jO,DDotrahd:HO,ddotseq:UO,deg:WO,Del:KO,Delta:JO,delta:GO,demptyv:QO,dfisht:ZO,Dfr:YO,dfr:XO,dHar:eR,dharl:tR,dharr:nR,DiacriticalAcute:rR,DiacriticalDot:oR,DiacriticalDoubleAcute:iR,DiacriticalGrave:sR,DiacriticalTilde:lR,diam:cR,diamond:aR,Diamond:uR,diamondsuit:fR,diams:dR,die:hR,DifferentialD:pR,digamma:mR,disin:gR,div:yR,divide:kR,divideontimes:vR,divonx:xR,DJcy:SR,djcy:wR,dlcorn:CR,dlcrop:ER,dollar:_R,Dopf:bR,dopf:MR,Dot:TR,dot:AR,DotDot:DR,doteq:NR,doteqdot:OR,DotEqual:RR,dotminus:IR,dotplus:PR,dotsquare:zR,doublebarwedge:LR,DoubleContourIntegral:FR,DoubleDot:BR,DoubleDownArrow:qR,DoubleLeftArrow:VR,DoubleLeftRightArrow:$R,DoubleLeftTee:jR,DoubleLongLeftArrow:HR,DoubleLongLeftRightArrow:UR,DoubleLongRightArrow:WR,DoubleRightArrow:KR,DoubleRightTee:JR,DoubleUpArrow:GR,DoubleUpDownArrow:QR,DoubleVerticalBar:ZR,DownArrowBar:YR,downarrow:XR,DownArrow:e2,Downarrow:t2,DownArrowUpArrow:n2,DownBreve:r2,downdownarrows:o2,downharpoonleft:i2,downharpoonright:s2,DownLeftRightVector:l2,DownLeftTeeVector:c2,DownLeftVectorBar:a2,DownLeftVector:u2,DownRightTeeVector:f2,DownRightVectorBar:d2,DownRightVector:h2,DownTeeArrow:p2,DownTee:m2,drbkarow:g2,drcorn:y2,drcrop:k2,Dscr:v2,dscr:x2,DScy:S2,dscy:w2,dsol:C2,Dstrok:E2,dstrok:_2,dtdot:b2,dtri:M2,dtrif:T2,duarr:A2,duhar:D2,dwangle:N2,DZcy:O2,dzcy:R2,dzigrarr:I2,Eacute:P2,eacute:z2,easter:L2,Ecaron:F2,ecaron:B2,Ecirc:q2,ecirc:V2,ecir:$2,ecolon:j2,Ecy:H2,ecy:U2,eDDot:W2,Edot:K2,edot:J2,eDot:G2,ee:Q2,efDot:Z2,Efr:Y2,efr:X2,eg:eI,Egrave:tI,egrave:nI,egs:rI,egsdot:oI,el:iI,Element:sI,elinters:lI,ell:cI,els:aI,elsdot:uI,Emacr:fI,emacr:dI,empty:hI,emptyset:pI,EmptySmallSquare:mI,emptyv:gI,EmptyVerySmallSquare:yI,emsp13:kI,emsp14:vI,emsp:xI,ENG:SI,eng:wI,ensp:CI,Eogon:EI,eogon:_I,Eopf:bI,eopf:MI,epar:TI,eparsl:AI,eplus:DI,epsi:NI,Epsilon:OI,epsilon:RI,epsiv:II,eqcirc:PI,eqcolon:zI,eqsim:LI,eqslantgtr:FI,eqslantless:BI,Equal:qI,equals:VI,EqualTilde:$I,equest:jI,Equilibrium:HI,equiv:UI,equivDD:WI,eqvparsl:KI,erarr:JI,erDot:GI,escr:QI,Escr:ZI,esdot:YI,Esim:XI,esim:eP,Eta:tP,eta:nP,ETH:rP,eth:oP,Euml:iP,euml:sP,euro:lP,excl:cP,exist:aP,Exists:uP,expectation:fP,exponentiale:dP,ExponentialE:hP,fallingdotseq:pP,Fcy:mP,fcy:gP,female:yP,ffilig:kP,fflig:vP,ffllig:xP,Ffr:SP,ffr:wP,filig:CP,FilledSmallSquare:EP,FilledVerySmallSquare:_P,fjlig:bP,flat:MP,fllig:TP,fltns:AP,fnof:DP,Fopf:NP,fopf:OP,forall:RP,ForAll:IP,fork:PP,forkv:zP,Fouriertrf:LP,fpartint:FP,frac12:BP,frac13:qP,frac14:VP,frac15:$P,frac16:jP,frac18:HP,frac23:UP,frac25:WP,frac34:KP,frac35:JP,frac38:GP,frac45:QP,frac56:ZP,frac58:YP,frac78:XP,frasl:ez,frown:tz,fscr:nz,Fscr:rz,gacute:oz,Gamma:iz,gamma:sz,Gammad:lz,gammad:cz,gap:az,Gbreve:uz,gbreve:fz,Gcedil:dz,Gcirc:hz,gcirc:pz,Gcy:mz,gcy:gz,Gdot:yz,gdot:kz,ge:vz,gE:xz,gEl:Sz,gel:wz,geq:Cz,geqq:Ez,geqslant:_z,gescc:bz,ges:Mz,gesdot:Tz,gesdoto:Az,gesdotol:Dz,gesl:Nz,gesles:Oz,Gfr:Rz,gfr:Iz,gg:Pz,Gg:zz,ggg:Lz,gimel:Fz,GJcy:Bz,gjcy:qz,gla:Vz,gl:$z,glE:jz,glj:Hz,gnap:Uz,gnapprox:Wz,gne:Kz,gnE:Jz,gneq:Gz,gneqq:Qz,gnsim:Zz,Gopf:Yz,gopf:Xz,grave:eL,GreaterEqual:tL,GreaterEqualLess:nL,GreaterFullEqual:rL,GreaterGreater:oL,GreaterLess:iL,GreaterSlantEqual:sL,GreaterTilde:lL,Gscr:cL,gscr:aL,gsim:uL,gsime:fL,gsiml:dL,gtcc:hL,gtcir:pL,gt:mL,GT:gL,Gt:yL,gtdot:kL,gtlPar:vL,gtquest:xL,gtrapprox:SL,gtrarr:wL,gtrdot:CL,gtreqless:EL,gtreqqless:_L,gtrless:bL,gtrsim:ML,gvertneqq:TL,gvnE:AL,Hacek:DL,hairsp:NL,half:OL,hamilt:RL,HARDcy:IL,hardcy:PL,harrcir:zL,harr:LL,hArr:FL,harrw:BL,Hat:qL,hbar:VL,Hcirc:$L,hcirc:jL,hearts:HL,heartsuit:UL,hellip:WL,hercon:KL,hfr:JL,Hfr:GL,HilbertSpace:QL,hksearow:ZL,hkswarow:YL,hoarr:XL,homtht:eF,hookleftarrow:tF,hookrightarrow:nF,hopf:rF,Hopf:oF,horbar:iF,HorizontalLine:sF,hscr:lF,Hscr:cF,hslash:aF,Hstrok:uF,hstrok:fF,HumpDownHump:dF,HumpEqual:hF,hybull:pF,hyphen:mF,Iacute:gF,iacute:yF,ic:kF,Icirc:vF,icirc:xF,Icy:SF,icy:wF,Idot:CF,IEcy:EF,iecy:_F,iexcl:bF,iff:MF,ifr:TF,Ifr:AF,Igrave:DF,igrave:NF,ii:OF,iiiint:RF,iiint:IF,iinfin:PF,iiota:zF,IJlig:LF,ijlig:FF,Imacr:BF,imacr:qF,image:VF,ImaginaryI:$F,imagline:jF,imagpart:HF,imath:UF,Im:WF,imof:KF,imped:JF,Implies:GF,incare:QF,in:"∈",infin:ZF,infintie:YF,inodot:XF,intcal:e3,int:t3,Int:n3,integers:r3,Integral:o3,intercal:i3,Intersection:s3,intlarhk:l3,intprod:c3,InvisibleComma:a3,InvisibleTimes:u3,IOcy:f3,iocy:d3,Iogon:h3,iogon:p3,Iopf:m3,iopf:g3,Iota:y3,iota:k3,iprod:v3,iquest:x3,iscr:S3,Iscr:w3,isin:C3,isindot:E3,isinE:_3,isins:b3,isinsv:M3,isinv:T3,it:A3,Itilde:D3,itilde:N3,Iukcy:O3,iukcy:R3,Iuml:I3,iuml:P3,Jcirc:z3,jcirc:L3,Jcy:F3,jcy:B3,Jfr:q3,jfr:V3,jmath:$3,Jopf:j3,jopf:H3,Jscr:U3,jscr:W3,Jsercy:K3,jsercy:J3,Jukcy:G3,jukcy:Q3,Kappa:Z3,kappa:Y3,kappav:X3,Kcedil:eB,kcedil:tB,Kcy:nB,kcy:rB,Kfr:oB,kfr:iB,kgreen:sB,KHcy:lB,khcy:cB,KJcy:aB,kjcy:uB,Kopf:fB,kopf:dB,Kscr:hB,kscr:pB,lAarr:mB,Lacute:gB,lacute:yB,laemptyv:kB,lagran:vB,Lambda:xB,lambda:SB,lang:wB,Lang:CB,langd:EB,langle:_B,lap:bB,Laplacetrf:MB,laquo:TB,larrb:AB,larrbfs:DB,larr:NB,Larr:OB,lArr:RB,larrfs:IB,larrhk:PB,larrlp:zB,larrpl:LB,larrsim:FB,larrtl:BB,latail:qB,lAtail:VB,lat:$B,late:jB,lates:HB,lbarr:UB,lBarr:WB,lbbrk:KB,lbrace:JB,lbrack:GB,lbrke:QB,lbrksld:ZB,lbrkslu:YB,Lcaron:XB,lcaron:eq,Lcedil:tq,lcedil:nq,lceil:rq,lcub:oq,Lcy:iq,lcy:sq,ldca:lq,ldquo:cq,ldquor:aq,ldrdhar:uq,ldrushar:fq,ldsh:dq,le:hq,lE:pq,LeftAngleBracket:mq,LeftArrowBar:gq,leftarrow:yq,LeftArrow:kq,Leftarrow:vq,LeftArrowRightArrow:xq,leftarrowtail:Sq,LeftCeiling:wq,LeftDoubleBracket:Cq,LeftDownTeeVector:Eq,LeftDownVectorBar:_q,LeftDownVector:bq,LeftFloor:Mq,leftharpoondown:Tq,leftharpoonup:Aq,leftleftarrows:Dq,leftrightarrow:Nq,LeftRightArrow:Oq,Leftrightarrow:Rq,leftrightarrows:Iq,leftrightharpoons:Pq,leftrightsquigarrow:zq,LeftRightVector:Lq,LeftTeeArrow:Fq,LeftTee:Bq,LeftTeeVector:qq,leftthreetimes:Vq,LeftTriangleBar:$q,LeftTriangle:jq,LeftTriangleEqual:Hq,LeftUpDownVector:Uq,LeftUpTeeVector:Wq,LeftUpVectorBar:Kq,LeftUpVector:Jq,LeftVectorBar:Gq,LeftVector:Qq,lEg:Zq,leg:Yq,leq:Xq,leqq:e4,leqslant:t4,lescc:n4,les:r4,lesdot:o4,lesdoto:i4,lesdotor:s4,lesg:l4,lesges:c4,lessapprox:a4,lessdot:u4,lesseqgtr:f4,lesseqqgtr:d4,LessEqualGreater:h4,LessFullEqual:p4,LessGreater:m4,lessgtr:g4,LessLess:y4,lesssim:k4,LessSlantEqual:v4,LessTilde:x4,lfisht:S4,lfloor:w4,Lfr:C4,lfr:E4,lg:_4,lgE:b4,lHar:M4,lhard:T4,lharu:A4,lharul:D4,lhblk:N4,LJcy:O4,ljcy:R4,llarr:I4,ll:P4,Ll:z4,llcorner:L4,Lleftarrow:F4,llhard:B4,lltri:q4,Lmidot:V4,lmidot:$4,lmoustache:j4,lmoust:H4,lnap:U4,lnapprox:W4,lne:K4,lnE:J4,lneq:G4,lneqq:Q4,lnsim:Z4,loang:Y4,loarr:X4,lobrk:eV,longleftarrow:tV,LongLeftArrow:nV,Longleftarrow:rV,longleftrightarrow:oV,LongLeftRightArrow:iV,Longleftrightarrow:sV,longmapsto:lV,longrightarrow:cV,LongRightArrow:aV,Longrightarrow:uV,looparrowleft:fV,looparrowright:dV,lopar:hV,Lopf:pV,lopf:mV,loplus:gV,lotimes:yV,lowast:kV,lowbar:vV,LowerLeftArrow:xV,LowerRightArrow:SV,loz:wV,lozenge:CV,lozf:EV,lpar:_V,lparlt:bV,lrarr:MV,lrcorner:TV,lrhar:AV,lrhard:DV,lrm:NV,lrtri:OV,lsaquo:RV,lscr:IV,Lscr:PV,lsh:zV,Lsh:LV,lsim:FV,lsime:BV,lsimg:qV,lsqb:VV,lsquo:$V,lsquor:jV,Lstrok:HV,lstrok:UV,ltcc:WV,ltcir:KV,lt:JV,LT:GV,Lt:QV,ltdot:ZV,lthree:YV,ltimes:XV,ltlarr:e$,ltquest:t$,ltri:n$,ltrie:r$,ltrif:o$,ltrPar:i$,lurdshar:s$,luruhar:l$,lvertneqq:c$,lvnE:a$,macr:u$,male:f$,malt:d$,maltese:h$,Map:"⤅",map:p$,mapsto:m$,mapstodown:g$,mapstoleft:y$,mapstoup:k$,marker:v$,mcomma:x$,Mcy:S$,mcy:w$,mdash:C$,mDDot:E$,measuredangle:_$,MediumSpace:b$,Mellintrf:M$,Mfr:T$,mfr:A$,mho:D$,micro:N$,midast:O$,midcir:R$,mid:I$,middot:P$,minusb:z$,minus:L$,minusd:F$,minusdu:B$,MinusPlus:q$,mlcp:V$,mldr:$$,mnplus:j$,models:H$,Mopf:U$,mopf:W$,mp:K$,mscr:J$,Mscr:G$,mstpos:Q$,Mu:Z$,mu:Y$,multimap:X$,mumap:ej,nabla:tj,Nacute:nj,nacute:rj,nang:oj,nap:ij,napE:sj,napid:lj,napos:cj,napprox:aj,natural:uj,naturals:fj,natur:dj,nbsp:hj,nbump:pj,nbumpe:mj,ncap:gj,Ncaron:yj,ncaron:kj,Ncedil:vj,ncedil:xj,ncong:Sj,ncongdot:wj,ncup:Cj,Ncy:Ej,ncy:_j,ndash:bj,nearhk:Mj,nearr:Tj,neArr:Aj,nearrow:Dj,ne:Nj,nedot:Oj,NegativeMediumSpace:Rj,NegativeThickSpace:Ij,NegativeThinSpace:Pj,NegativeVeryThinSpace:zj,nequiv:Lj,nesear:Fj,nesim:Bj,NestedGreaterGreater:qj,NestedLessLess:Vj,NewLine:$j,nexist:jj,nexists:Hj,Nfr:Uj,nfr:Wj,ngE:Kj,nge:Jj,ngeq:Gj,ngeqq:Qj,ngeqslant:Zj,nges:Yj,nGg:Xj,ngsim:e5,nGt:t5,ngt:n5,ngtr:r5,nGtv:o5,nharr:i5,nhArr:s5,nhpar:l5,ni:c5,nis:a5,nisd:u5,niv:f5,NJcy:d5,njcy:h5,nlarr:p5,nlArr:m5,nldr:g5,nlE:y5,nle:k5,nleftarrow:v5,nLeftarrow:x5,nleftrightarrow:S5,nLeftrightarrow:w5,nleq:C5,nleqq:E5,nleqslant:_5,nles:b5,nless:M5,nLl:T5,nlsim:A5,nLt:D5,nlt:N5,nltri:O5,nltrie:R5,nLtv:I5,nmid:P5,NoBreak:z5,NonBreakingSpace:L5,nopf:F5,Nopf:B5,Not:q5,not:V5,NotCongruent:$5,NotCupCap:j5,NotDoubleVerticalBar:H5,NotElement:U5,NotEqual:W5,NotEqualTilde:K5,NotExists:J5,NotGreater:G5,NotGreaterEqual:Q5,NotGreaterFullEqual:Z5,NotGreaterGreater:Y5,NotGreaterLess:X5,NotGreaterSlantEqual:e6,NotGreaterTilde:t6,NotHumpDownHump:n6,NotHumpEqual:r6,notin:o6,notindot:i6,notinE:s6,notinva:l6,notinvb:c6,notinvc:a6,NotLeftTriangleBar:u6,NotLeftTriangle:f6,NotLeftTriangleEqual:d6,NotLess:h6,NotLessEqual:p6,NotLessGreater:m6,NotLessLess:g6,NotLessSlantEqual:y6,NotLessTilde:k6,NotNestedGreaterGreater:v6,NotNestedLessLess:x6,notni:S6,notniva:w6,notnivb:C6,notnivc:E6,NotPrecedes:_6,NotPrecedesEqual:b6,NotPrecedesSlantEqual:M6,NotReverseElement:T6,NotRightTriangleBar:A6,NotRightTriangle:D6,NotRightTriangleEqual:N6,NotSquareSubset:O6,NotSquareSubsetEqual:R6,NotSquareSuperset:I6,NotSquareSupersetEqual:P6,NotSubset:z6,NotSubsetEqual:L6,NotSucceeds:F6,NotSucceedsEqual:B6,NotSucceedsSlantEqual:q6,NotSucceedsTilde:V6,NotSuperset:$6,NotSupersetEqual:j6,NotTilde:H6,NotTildeEqual:U6,NotTildeFullEqual:W6,NotTildeTilde:K6,NotVerticalBar:J6,nparallel:G6,npar:Q6,nparsl:Z6,npart:Y6,npolint:X6,npr:e8,nprcue:t8,nprec:n8,npreceq:r8,npre:o8,nrarrc:i8,nrarr:s8,nrArr:l8,nrarrw:c8,nrightarrow:a8,nRightarrow:u8,nrtri:f8,nrtrie:d8,nsc:h8,nsccue:p8,nsce:m8,Nscr:g8,nscr:y8,nshortmid:k8,nshortparallel:v8,nsim:x8,nsime:S8,nsimeq:w8,nsmid:C8,nspar:E8,nsqsube:_8,nsqsupe:b8,nsub:M8,nsubE:T8,nsube:A8,nsubset:D8,nsubseteq:N8,nsubseteqq:O8,nsucc:R8,nsucceq:I8,nsup:P8,nsupE:z8,nsupe:L8,nsupset:F8,nsupseteq:B8,nsupseteqq:q8,ntgl:V8,Ntilde:$8,ntilde:j8,ntlg:H8,ntriangleleft:U8,ntrianglelefteq:W8,ntriangleright:K8,ntrianglerighteq:J8,Nu:G8,nu:Q8,num:Z8,numero:Y8,numsp:X8,nvap:eH,nvdash:tH,nvDash:nH,nVdash:rH,nVDash:oH,nvge:iH,nvgt:sH,nvHarr:lH,nvinfin:cH,nvlArr:aH,nvle:uH,nvlt:fH,nvltrie:dH,nvrArr:hH,nvrtrie:pH,nvsim:mH,nwarhk:gH,nwarr:yH,nwArr:kH,nwarrow:vH,nwnear:xH,Oacute:SH,oacute:wH,oast:CH,Ocirc:EH,ocirc:_H,ocir:bH,Ocy:MH,ocy:TH,odash:AH,Odblac:DH,odblac:NH,odiv:OH,odot:RH,odsold:IH,OElig:PH,oelig:zH,ofcir:LH,Ofr:FH,ofr:BH,ogon:qH,Ograve:VH,ograve:$H,ogt:jH,ohbar:HH,ohm:UH,oint:WH,olarr:KH,olcir:JH,olcross:GH,oline:QH,olt:ZH,Omacr:YH,omacr:XH,Omega:e9,omega:t9,Omicron:n9,omicron:r9,omid:o9,ominus:i9,Oopf:s9,oopf:l9,opar:c9,OpenCurlyDoubleQuote:a9,OpenCurlyQuote:u9,operp:f9,oplus:d9,orarr:h9,Or:p9,or:m9,ord:g9,order:y9,orderof:k9,ordf:v9,ordm:x9,origof:S9,oror:w9,orslope:C9,orv:E9,oS:_9,Oscr:b9,oscr:M9,Oslash:T9,oslash:A9,osol:D9,Otilde:N9,otilde:O9,otimesas:R9,Otimes:I9,otimes:P9,Ouml:z9,ouml:L9,ovbar:F9,OverBar:B9,OverBrace:q9,OverBracket:V9,OverParenthesis:$9,para:j9,parallel:H9,par:U9,parsim:W9,parsl:K9,part:J9,PartialD:G9,Pcy:Q9,pcy:Z9,percnt:Y9,period:X9,permil:eU,perp:tU,pertenk:nU,Pfr:rU,pfr:oU,Phi:iU,phi:sU,phiv:lU,phmmat:cU,phone:aU,Pi:uU,pi:fU,pitchfork:dU,piv:hU,planck:pU,planckh:mU,plankv:gU,plusacir:yU,plusb:kU,pluscir:vU,plus:xU,plusdo:SU,plusdu:wU,pluse:CU,PlusMinus:EU,plusmn:_U,plussim:bU,plustwo:MU,pm:TU,Poincareplane:AU,pointint:DU,popf:NU,Popf:OU,pound:RU,prap:IU,Pr:PU,pr:zU,prcue:LU,precapprox:FU,prec:BU,preccurlyeq:qU,Precedes:VU,PrecedesEqual:$U,PrecedesSlantEqual:jU,PrecedesTilde:HU,preceq:UU,precnapprox:WU,precneqq:KU,precnsim:JU,pre:GU,prE:QU,precsim:ZU,prime:YU,Prime:XU,primes:e7,prnap:t7,prnE:n7,prnsim:r7,prod:o7,Product:i7,profalar:s7,profline:l7,profsurf:c7,prop:a7,Proportional:u7,Proportion:f7,propto:d7,prsim:h7,prurel:p7,Pscr:m7,pscr:g7,Psi:y7,psi:k7,puncsp:v7,Qfr:x7,qfr:S7,qint:w7,qopf:C7,Qopf:E7,qprime:_7,Qscr:b7,qscr:M7,quaternions:T7,quatint:A7,quest:D7,questeq:N7,quot:O7,QUOT:R7,rAarr:I7,race:P7,Racute:z7,racute:L7,radic:F7,raemptyv:B7,rang:q7,Rang:V7,rangd:$7,range:j7,rangle:H7,raquo:U7,rarrap:W7,rarrb:K7,rarrbfs:J7,rarrc:G7,rarr:Q7,Rarr:Z7,rArr:Y7,rarrfs:X7,rarrhk:eW,rarrlp:tW,rarrpl:nW,rarrsim:rW,Rarrtl:oW,rarrtl:iW,rarrw:sW,ratail:lW,rAtail:cW,ratio:aW,rationals:uW,rbarr:fW,rBarr:dW,RBarr:hW,rbbrk:pW,rbrace:mW,rbrack:gW,rbrke:yW,rbrksld:kW,rbrkslu:vW,Rcaron:xW,rcaron:SW,Rcedil:wW,rcedil:CW,rceil:EW,rcub:_W,Rcy:bW,rcy:MW,rdca:TW,rdldhar:AW,rdquo:DW,rdquor:NW,rdsh:OW,real:RW,realine:IW,realpart:PW,reals:zW,Re:LW,rect:FW,reg:BW,REG:qW,ReverseElement:VW,ReverseEquilibrium:$W,ReverseUpEquilibrium:jW,rfisht:HW,rfloor:UW,rfr:WW,Rfr:KW,rHar:JW,rhard:GW,rharu:QW,rharul:ZW,Rho:YW,rho:XW,rhov:eK,RightAngleBracket:tK,RightArrowBar:nK,rightarrow:rK,RightArrow:oK,Rightarrow:iK,RightArrowLeftArrow:sK,rightarrowtail:lK,RightCeiling:cK,RightDoubleBracket:aK,RightDownTeeVector:uK,RightDownVectorBar:fK,RightDownVector:dK,RightFloor:hK,rightharpoondown:pK,rightharpoonup:mK,rightleftarrows:gK,rightleftharpoons:yK,rightrightarrows:kK,rightsquigarrow:vK,RightTeeArrow:xK,RightTee:SK,RightTeeVector:wK,rightthreetimes:CK,RightTriangleBar:EK,RightTriangle:_K,RightTriangleEqual:bK,RightUpDownVector:MK,RightUpTeeVector:TK,RightUpVectorBar:AK,RightUpVector:DK,RightVectorBar:NK,RightVector:OK,ring:RK,risingdotseq:IK,rlarr:PK,rlhar:zK,rlm:LK,rmoustache:FK,rmoust:BK,rnmid:qK,roang:VK,roarr:$K,robrk:jK,ropar:HK,ropf:UK,Ropf:WK,roplus:KK,rotimes:JK,RoundImplies:GK,rpar:QK,rpargt:ZK,rppolint:YK,rrarr:XK,Rrightarrow:eJ,rsaquo:tJ,rscr:nJ,Rscr:rJ,rsh:oJ,Rsh:iJ,rsqb:sJ,rsquo:lJ,rsquor:cJ,rthree:aJ,rtimes:uJ,rtri:fJ,rtrie:dJ,rtrif:hJ,rtriltri:pJ,RuleDelayed:mJ,ruluhar:gJ,rx:yJ,Sacute:kJ,sacute:vJ,sbquo:xJ,scap:SJ,Scaron:wJ,scaron:CJ,Sc:EJ,sc:_J,sccue:bJ,sce:MJ,scE:TJ,Scedil:AJ,scedil:DJ,Scirc:NJ,scirc:OJ,scnap:RJ,scnE:IJ,scnsim:PJ,scpolint:zJ,scsim:LJ,Scy:FJ,scy:BJ,sdotb:qJ,sdot:VJ,sdote:$J,searhk:jJ,searr:HJ,seArr:UJ,searrow:WJ,sect:KJ,semi:JJ,seswar:GJ,setminus:QJ,setmn:ZJ,sext:YJ,Sfr:XJ,sfr:eG,sfrown:tG,sharp:nG,SHCHcy:rG,shchcy:oG,SHcy:iG,shcy:sG,ShortDownArrow:lG,ShortLeftArrow:cG,shortmid:aG,shortparallel:uG,ShortRightArrow:fG,ShortUpArrow:dG,shy:hG,Sigma:pG,sigma:mG,sigmaf:gG,sigmav:yG,sim:kG,simdot:vG,sime:xG,simeq:SG,simg:wG,simgE:CG,siml:EG,simlE:_G,simne:bG,simplus:MG,simrarr:TG,slarr:AG,SmallCircle:DG,smallsetminus:NG,smashp:OG,smeparsl:RG,smid:IG,smile:PG,smt:zG,smte:LG,smtes:FG,SOFTcy:BG,softcy:qG,solbar:VG,solb:$G,sol:jG,Sopf:HG,sopf:UG,spades:WG,spadesuit:KG,spar:JG,sqcap:GG,sqcaps:QG,sqcup:ZG,sqcups:YG,Sqrt:XG,sqsub:eQ,sqsube:tQ,sqsubset:nQ,sqsubseteq:rQ,sqsup:oQ,sqsupe:iQ,sqsupset:sQ,sqsupseteq:lQ,square:cQ,Square:aQ,SquareIntersection:uQ,SquareSubset:fQ,SquareSubsetEqual:dQ,SquareSuperset:hQ,SquareSupersetEqual:pQ,SquareUnion:mQ,squarf:gQ,squ:yQ,squf:kQ,srarr:vQ,Sscr:xQ,sscr:SQ,ssetmn:wQ,ssmile:CQ,sstarf:EQ,Star:_Q,star:bQ,starf:MQ,straightepsilon:TQ,straightphi:AQ,strns:DQ,sub:NQ,Sub:OQ,subdot:RQ,subE:IQ,sube:PQ,subedot:zQ,submult:LQ,subnE:FQ,subne:BQ,subplus:qQ,subrarr:VQ,subset:$Q,Subset:jQ,subseteq:HQ,subseteqq:UQ,SubsetEqual:WQ,subsetneq:KQ,subsetneqq:JQ,subsim:GQ,subsub:QQ,subsup:ZQ,succapprox:YQ,succ:XQ,succcurlyeq:eZ,Succeeds:tZ,SucceedsEqual:nZ,SucceedsSlantEqual:rZ,SucceedsTilde:oZ,succeq:iZ,succnapprox:sZ,succneqq:lZ,succnsim:cZ,succsim:aZ,SuchThat:uZ,sum:fZ,Sum:dZ,sung:hZ,sup1:pZ,sup2:mZ,sup3:gZ,sup:yZ,Sup:kZ,supdot:vZ,supdsub:xZ,supE:SZ,supe:wZ,supedot:CZ,Superset:EZ,SupersetEqual:_Z,suphsol:bZ,suphsub:MZ,suplarr:TZ,supmult:AZ,supnE:DZ,supne:NZ,supplus:OZ,supset:RZ,Supset:IZ,supseteq:PZ,supseteqq:zZ,supsetneq:LZ,supsetneqq:FZ,supsim:BZ,supsub:qZ,supsup:VZ,swarhk:$Z,swarr:jZ,swArr:HZ,swarrow:UZ,swnwar:WZ,szlig:KZ,Tab:JZ,target:GZ,Tau:QZ,tau:ZZ,tbrk:YZ,Tcaron:XZ,tcaron:eY,Tcedil:tY,tcedil:nY,Tcy:rY,tcy:oY,tdot:iY,telrec:sY,Tfr:lY,tfr:cY,there4:aY,therefore:uY,Therefore:fY,Theta:dY,theta:hY,thetasym:pY,thetav:mY,thickapprox:gY,thicksim:yY,ThickSpace:kY,ThinSpace:vY,thinsp:xY,thkap:SY,thksim:wY,THORN:CY,thorn:EY,tilde:_Y,Tilde:bY,TildeEqual:MY,TildeFullEqual:TY,TildeTilde:AY,timesbar:DY,timesb:NY,times:OY,timesd:RY,tint:IY,toea:PY,topbot:zY,topcir:LY,top:FY,Topf:BY,topf:qY,topfork:VY,tosa:$Y,tprime:jY,trade:HY,TRADE:UY,triangle:WY,triangledown:KY,triangleleft:JY,trianglelefteq:GY,triangleq:QY,triangleright:ZY,trianglerighteq:YY,tridot:XY,trie:eX,triminus:tX,TripleDot:nX,triplus:rX,trisb:oX,tritime:iX,trpezium:sX,Tscr:lX,tscr:cX,TScy:aX,tscy:uX,TSHcy:fX,tshcy:dX,Tstrok:hX,tstrok:pX,twixt:mX,twoheadleftarrow:gX,twoheadrightarrow:yX,Uacute:kX,uacute:vX,uarr:xX,Uarr:SX,uArr:wX,Uarrocir:CX,Ubrcy:EX,ubrcy:_X,Ubreve:bX,ubreve:MX,Ucirc:TX,ucirc:AX,Ucy:DX,ucy:NX,udarr:OX,Udblac:RX,udblac:IX,udhar:PX,ufisht:zX,Ufr:LX,ufr:FX,Ugrave:BX,ugrave:qX,uHar:VX,uharl:$X,uharr:jX,uhblk:HX,ulcorn:UX,ulcorner:WX,ulcrop:KX,ultri:JX,Umacr:GX,umacr:QX,uml:ZX,UnderBar:YX,UnderBrace:XX,UnderBracket:eee,UnderParenthesis:tee,Union:nee,UnionPlus:ree,Uogon:oee,uogon:iee,Uopf:see,uopf:lee,UpArrowBar:cee,uparrow:aee,UpArrow:uee,Uparrow:fee,UpArrowDownArrow:dee,updownarrow:hee,UpDownArrow:pee,Updownarrow:mee,UpEquilibrium:gee,upharpoonleft:yee,upharpoonright:kee,uplus:vee,UpperLeftArrow:xee,UpperRightArrow:See,upsi:wee,Upsi:Cee,upsih:Eee,Upsilon:_ee,upsilon:bee,UpTeeArrow:Mee,UpTee:Tee,upuparrows:Aee,urcorn:Dee,urcorner:Nee,urcrop:Oee,Uring:Ree,uring:Iee,urtri:Pee,Uscr:zee,uscr:Lee,utdot:Fee,Utilde:Bee,utilde:qee,utri:Vee,utrif:$ee,uuarr:jee,Uuml:Hee,uuml:Uee,uwangle:Wee,vangrt:Kee,varepsilon:Jee,varkappa:Gee,varnothing:Qee,varphi:Zee,varpi:Yee,varpropto:Xee,varr:ete,vArr:tte,varrho:nte,varsigma:rte,varsubsetneq:ote,varsubsetneqq:ite,varsupsetneq:ste,varsupsetneqq:lte,vartheta:cte,vartriangleleft:ate,vartriangleright:ute,vBar:fte,Vbar:dte,vBarv:hte,Vcy:pte,vcy:mte,vdash:gte,vDash:yte,Vdash:kte,VDash:vte,Vdashl:xte,veebar:Ste,vee:wte,Vee:Cte,veeeq:Ete,vellip:_te,verbar:bte,Verbar:Mte,vert:Tte,Vert:Ate,VerticalBar:Dte,VerticalLine:Nte,VerticalSeparator:Ote,VerticalTilde:Rte,VeryThinSpace:Ite,Vfr:Pte,vfr:zte,vltri:Lte,vnsub:Fte,vnsup:Bte,Vopf:qte,vopf:Vte,vprop:$te,vrtri:jte,Vscr:Hte,vscr:Ute,vsubnE:Wte,vsubne:Kte,vsupnE:Jte,vsupne:Gte,Vvdash:Qte,vzigzag:Zte,Wcirc:Yte,wcirc:Xte,wedbar:ene,wedge:tne,Wedge:nne,wedgeq:rne,weierp:one,Wfr:ine,wfr:sne,Wopf:lne,wopf:cne,wp:ane,wr:une,wreath:fne,Wscr:dne,wscr:hne,xcap:pne,xcirc:mne,xcup:gne,xdtri:yne,Xfr:kne,xfr:vne,xharr:xne,xhArr:Sne,Xi:wne,xi:Cne,xlarr:Ene,xlArr:_ne,xmap:bne,xnis:Mne,xodot:Tne,Xopf:Ane,xopf:Dne,xoplus:Nne,xotime:One,xrarr:Rne,xrArr:Ine,Xscr:Pne,xscr:zne,xsqcup:Lne,xuplus:Fne,xutri:Bne,xvee:qne,xwedge:Vne,Yacute:$ne,yacute:jne,YAcy:Hne,yacy:Une,Ycirc:Wne,ycirc:Kne,Ycy:Jne,ycy:Gne,yen:Qne,Yfr:Zne,yfr:Yne,YIcy:Xne,yicy:ere,Yopf:tre,yopf:nre,Yscr:rre,yscr:ore,YUcy:ire,yucy:sre,yuml:lre,Yuml:cre,Zacute:are,zacute:ure,Zcaron:fre,zcaron:dre,Zcy:hre,zcy:pre,Zdot:mre,zdot:gre,zeetrf:yre,ZeroWidthSpace:kre,Zeta:vre,zeta:xre,zfr:Sre,Zfr:wre,ZHcy:Cre,zhcy:Ere,zigrarr:_re,zopf:bre,Zopf:Mre,Zscr:Tre,zscr:Are,zwj:Dre,zwnj:Nre};var ru,bg;function M1(){return bg||(bg=1,ru=Ore),ru}var ou,Mg;function nd(){return Mg||(Mg=1,ou=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/),ou}var uo={},iu,Tg;function Rre(){if(Tg)return iu;Tg=1;var r={};function e(n){var o,s,c=r[n];if(c)return c;for(c=r[n]=[],o=0;o<128;o++)s=String.fromCharCode(o),/^[0-9a-z]$/i.test(s)?c.push(s):c.push("%"+("0"+o.toString(16).toUpperCase()).slice(-2));for(o=0;o<n.length;o++)c[n.charCodeAt(o)]=n[o];return c}function t(n,o,s){var c,a,f,d,p,m="";for(typeof o!="string"&&(s=o,o=t.defaultChars),typeof s>"u"&&(s=!0),p=e(o),c=0,a=n.length;c<a;c++){if(f=n.charCodeAt(c),s&&f===37&&c+2<a&&/^[0-9a-f]{2}$/i.test(n.slice(c+1,c+3))){m+=n.slice(c,c+3),c+=2;continue}if(f<128){m+=p[f];continue}if(f>=55296&&f<=57343){if(f>=55296&&f<=56319&&c+1<a&&(d=n.charCodeAt(c+1),d>=56320&&d<=57343)){m+=encodeURIComponent(n[c]+n[c+1]),c++;continue}m+="%EF%BF%BD";continue}m+=encodeURIComponent(n[c])}return m}return t.defaultChars=";/?:@&=+$,-_.!~*'()#",t.componentChars="-_.!~*'()",iu=t,iu}var su,Ag;function Ire(){if(Ag)return su;Ag=1;var r={};function e(n){var o,s,c=r[n];if(c)return c;for(c=r[n]=[],o=0;o<128;o++)s=String.fromCharCode(o),c.push(s);for(o=0;o<n.length;o++)s=n.charCodeAt(o),c[s]="%"+("0"+s.toString(16).toUpperCase()).slice(-2);return c}function t(n,o){var s;return typeof o!="string"&&(o=t.defaultChars),s=e(o),n.replace(/(%[a-f0-9]{2})+/gi,function(c){var a,f,d,p,m,k,v,x="";for(a=0,f=c.length;a<f;a+=3){if(d=parseInt(c.slice(a+1,a+3),16),d<128){x+=s[d];continue}if((d&224)===192&&a+3<f&&(p=parseInt(c.slice(a+4,a+6),16),(p&192)===128)){v=d<<6&1984|p&63,v<128?x+="��":x+=String.fromCharCode(v),a+=3;continue}if((d&240)===224&&a+6<f&&(p=parseInt(c.slice(a+4,a+6),16),m=parseInt(c.slice(a+7,a+9),16),(p&192)===128&&(m&192)===128)){v=d<<12&61440|p<<6&4032|m&63,v<2048||v>=55296&&v<=57343?x+="���":x+=String.fromCharCode(v),a+=6;continue}if((d&248)===240&&a+9<f&&(p=parseInt(c.slice(a+4,a+6),16),m=parseInt(c.slice(a+7,a+9),16),k=parseInt(c.slice(a+10,a+12),16),(p&192)===128&&(m&192)===128&&(k&192)===128)){v=d<<18&1835008|p<<12&258048|m<<6&4032|k&63,v<65536||v>1114111?x+="����":(v-=65536,x+=String.fromCharCode(55296+(v>>10),56320+(v&1023))),a+=9;continue}x+="�"}return x})}return t.defaultChars=";/?:@&=+$,#",t.componentChars="",su=t,su}var lu,Dg;function Pre(){return Dg||(Dg=1,lu=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}),lu}var cu,Ng;function zre(){if(Ng)return cu;Ng=1;function r(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var e=/^([a-z0-9.+-]+:)/i,t=/:[0-9]*$/,n=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],s=["{","}","|","\\","^","`"].concat(o),c=["'"].concat(s),a=["%","/","?",";","#"].concat(c),f=["/","?","#"],d=255,p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,k={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function x(w,C){if(w&&w instanceof r)return w;var E=new r;return E.parse(w,C),E}return r.prototype.parse=function(w,C){var E,A,b,T,I,O=w;if(O=O.trim(),!C&&w.split("#").length===1){var W=n.exec(O);if(W)return this.pathname=W[1],W[2]&&(this.search=W[2]),this}var L=e.exec(O);if(L&&(L=L[0],b=L.toLowerCase(),this.protocol=L,O=O.substr(L.length)),(C||L||O.match(/^\/\/[^@\/]+@[^@\/]+/))&&(I=O.substr(0,2)==="//",I&&!(L&&k[L])&&(O=O.substr(2),this.slashes=!0)),!k[L]&&(I||L&&!v[L])){var F=-1;for(E=0;E<f.length;E++)T=O.indexOf(f[E]),T!==-1&&(F===-1||T<F)&&(F=T);var K,X;for(F===-1?X=O.lastIndexOf("@"):X=O.lastIndexOf("@",F),X!==-1&&(K=O.slice(0,X),O=O.slice(X+1),this.auth=K),F=-1,E=0;E<a.length;E++)T=O.indexOf(a[E]),T!==-1&&(F===-1||T<F)&&(F=T);F===-1&&(F=O.length),O[F-1]===":"&&F--;var ae=O.slice(0,F);O=O.slice(F),this.parseHost(ae),this.hostname=this.hostname||"";var xe=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!xe){var V=this.hostname.split(/\./);for(E=0,A=V.length;E<A;E++){var he=V[E];if(he&&!he.match(p)){for(var pe="",ke=0,G=he.length;ke<G;ke++)he.charCodeAt(ke)>127?pe+="x":pe+=he[ke];if(!pe.match(p)){var Y=V.slice(0,E),B=V.slice(E+1),N=he.match(m);N&&(Y.push(N[1]),B.unshift(N[2])),B.length&&(O=B.join(".")+O),this.hostname=Y.join(".");break}}}}this.hostname.length>d&&(this.hostname=""),xe&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var q=O.indexOf("#");q!==-1&&(this.hash=O.substr(q),O=O.slice(0,q));var fe=O.indexOf("?");return fe!==-1&&(this.search=O.substr(fe),O=O.slice(0,fe)),O&&(this.pathname=O),v[b]&&this.hostname&&!this.pathname&&(this.pathname=""),this},r.prototype.parseHost=function(w){var C=t.exec(w);C&&(C=C[0],C!==":"&&(this.port=C.substr(1)),w=w.substr(0,w.length-C.length)),w&&(this.hostname=w)},cu=x,cu}var Og;function T1(){return Og||(Og=1,uo.encode=Rre(),uo.decode=Ire(),uo.format=Pre(),uo.parse=zre()),uo}var wr={},au,Rg;function A1(){return Rg||(Rg=1,au=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),au}var uu,Ig;function D1(){return Ig||(Ig=1,uu=/[\0-\x1F\x7F-\x9F]/),uu}var fu,Pg;function Lre(){return Pg||(Pg=1,fu=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/),fu}var du,zg;function N1(){return zg||(zg=1,du=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/),du}var Lg;function Fre(){return Lg||(Lg=1,wr.Any=A1(),wr.Cc=D1(),wr.Cf=Lre(),wr.P=nd(),wr.Z=N1()),wr}var Fg;function Ee(){return Fg||(Fg=1,function(r){function e(V){return Object.prototype.toString.call(V)}function t(V){return e(V)==="[object String]"}var n=Object.prototype.hasOwnProperty;function o(V,he){return n.call(V,he)}function s(V){var he=Array.prototype.slice.call(arguments,1);return he.forEach(function(pe){if(pe){if(typeof pe!="object")throw new TypeError(pe+"must be object");Object.keys(pe).forEach(function(ke){V[ke]=pe[ke]})}}),V}function c(V,he,pe){return[].concat(V.slice(0,he),pe,V.slice(he+1))}function a(V){return!(V>=55296&&V<=57343||V>=64976&&V<=65007||(V&65535)===65535||(V&65535)===65534||V>=0&&V<=8||V===11||V>=14&&V<=31||V>=127&&V<=159||V>1114111)}function f(V){if(V>65535){V-=65536;var he=55296+(V>>10),pe=56320+(V&1023);return String.fromCharCode(he,pe)}return String.fromCharCode(V)}var d=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,p=/&([a-z#][a-z0-9]{1,31});/gi,m=new RegExp(d.source+"|"+p.source,"gi"),k=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i,v=M1();function x(V,he){var pe;return o(v,he)?v[he]:he.charCodeAt(0)===35&&k.test(he)&&(pe=he[1].toLowerCase()==="x"?parseInt(he.slice(2),16):parseInt(he.slice(1),10),a(pe))?f(pe):V}function w(V){return V.indexOf("\\")<0?V:V.replace(d,"$1")}function C(V){return V.indexOf("\\")<0&&V.indexOf("&")<0?V:V.replace(m,function(he,pe,ke){return pe||x(he,ke)})}var E=/[&<>"]/,A=/[&<>"]/g,b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function T(V){return b[V]}function I(V){return E.test(V)?V.replace(A,T):V}var O=/[.?*+^$[\]\\(){}|-]/g;function W(V){return V.replace(O,"\\$&")}function L(V){switch(V){case 9:case 32:return!0}return!1}function F(V){if(V>=8192&&V<=8202)return!0;switch(V){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var K=nd();function X(V){return K.test(V)}function ae(V){switch(V){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function xe(V){return V=V.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(V=V.replace(/ẞ/g,"ß")),V.toLowerCase().toUpperCase()}r.lib={},r.lib.mdurl=T1(),r.lib.ucmicro=Fre(),r.assign=s,r.isString=t,r.has=o,r.unescapeMd=w,r.unescapeAll=C,r.isValidEntityCode=a,r.fromCodePoint=f,r.escapeHtml=I,r.arrayReplaceAt=c,r.isSpace=L,r.isWhiteSpace=F,r.isMdAsciiPunct=ae,r.isPunctChar=X,r.escapeRE=W,r.normalizeReference=xe}(nu)),nu}var mi={},hu,Bg;function Bre(){return Bg||(Bg=1,hu=function(e,t,n){var o,s,c,a,f=-1,d=e.posMax,p=e.pos;for(e.pos=t+1,o=1;e.pos<d;){if(c=e.src.charCodeAt(e.pos),c===93&&(o--,o===0)){s=!0;break}if(a=e.pos,e.md.inline.skipToken(e),c===91){if(a===e.pos-1)o++;else if(n)return e.pos=p,-1}}return s&&(f=e.pos),e.pos=p,f}),hu}var pu,qg;function qre(){if(qg)return pu;qg=1;var r=Ee().unescapeAll;return pu=function(t,n,o){var s,c,a=n,f={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(a)===60){for(a++;a<o;){if(s=t.charCodeAt(a),s===10||s===60)return f;if(s===62)return f.pos=a+1,f.str=r(t.slice(n+1,a)),f.ok=!0,f;if(s===92&&a+1<o){a+=2;continue}a++}return f}for(c=0;a<o&&(s=t.charCodeAt(a),!(s===32||s<32||s===127));){if(s===92&&a+1<o){if(t.charCodeAt(a+1)===32)break;a+=2;continue}if(s===40&&(c++,c>32))return f;if(s===41){if(c===0)break;c--}a++}return n===a||c!==0||(f.str=r(t.slice(n,a)),f.pos=a,f.ok=!0),f},pu}var mu,Vg;function Vre(){if(Vg)return mu;Vg=1;var r=Ee().unescapeAll;return mu=function(t,n,o){var s,c,a=0,f=n,d={ok:!1,pos:0,lines:0,str:""};if(f>=o||(c=t.charCodeAt(f),c!==34&&c!==39&&c!==40))return d;for(f++,c===40&&(c=41);f<o;){if(s=t.charCodeAt(f),s===c)return d.pos=f+1,d.lines=a,d.str=r(t.slice(n+1,f)),d.ok=!0,d;if(s===40&&c===41)return d;s===10?a++:s===92&&f+1<o&&(f++,t.charCodeAt(f)===10&&a++),f++}return d},mu}var $g;function $re(){return $g||($g=1,mi.parseLinkLabel=Bre(),mi.parseLinkDestination=qre(),mi.parseLinkTitle=Vre()),mi}var gu,jg;function jre(){if(jg)return gu;jg=1;var r=Ee().assign,e=Ee().unescapeAll,t=Ee().escapeHtml,n={};n.code_inline=function(s,c,a,f,d){var p=s[c];return"<code"+d.renderAttrs(p)+">"+t(p.content)+"</code>"},n.code_block=function(s,c,a,f,d){var p=s[c];return"<pre"+d.renderAttrs(p)+"><code>"+t(s[c].content)+`</code></pre>
`},n.fence=function(s,c,a,f,d){var p=s[c],m=p.info?e(p.info).trim():"",k="",v="",x,w,C,E,A;return m&&(C=m.split(/(\s+)/g),k=C[0],v=C.slice(2).join("")),a.highlight?x=a.highlight(p.content,k,v)||t(p.content):x=t(p.content),x.indexOf("<pre")===0?x+`
`:m?(w=p.attrIndex("class"),E=p.attrs?p.attrs.slice():[],w<0?E.push(["class",a.langPrefix+k]):(E[w]=E[w].slice(),E[w][1]+=" "+a.langPrefix+k),A={attrs:E},"<pre><code"+d.renderAttrs(A)+">"+x+`</code></pre>
`):"<pre><code"+d.renderAttrs(p)+">"+x+`</code></pre>
`},n.image=function(s,c,a,f,d){var p=s[c];return p.attrs[p.attrIndex("alt")][1]=d.renderInlineAsText(p.children,a,f),d.renderToken(s,c,a)},n.hardbreak=function(s,c,a){return a.xhtmlOut?`<br />
`:`<br>
`},n.softbreak=function(s,c,a){return a.breaks?a.xhtmlOut?`<br />
`:`<br>
`:`
`},n.text=function(s,c){return t(s[c].content)},n.html_block=function(s,c){return s[c].content},n.html_inline=function(s,c){return s[c].content};function o(){this.rules=r({},n)}return o.prototype.renderAttrs=function(c){var a,f,d;if(!c.attrs)return"";for(d="",a=0,f=c.attrs.length;a<f;a++)d+=" "+t(c.attrs[a][0])+'="'+t(c.attrs[a][1])+'"';return d},o.prototype.renderToken=function(c,a,f){var d,p="",m=!1,k=c[a];return k.hidden?"":(k.block&&k.nesting!==-1&&a&&c[a-1].hidden&&(p+=`
`),p+=(k.nesting===-1?"</":"<")+k.tag,p+=this.renderAttrs(k),k.nesting===0&&f.xhtmlOut&&(p+=" /"),k.block&&(m=!0,k.nesting===1&&a+1<c.length&&(d=c[a+1],(d.type==="inline"||d.hidden||d.nesting===-1&&d.tag===k.tag)&&(m=!1))),p+=m?`>
`:">",p)},o.prototype.renderInline=function(s,c,a){for(var f,d="",p=this.rules,m=0,k=s.length;m<k;m++)f=s[m].type,typeof p[f]<"u"?d+=p[f](s,m,c,a,this):d+=this.renderToken(s,m,c);return d},o.prototype.renderInlineAsText=function(s,c,a){for(var f="",d=0,p=s.length;d<p;d++)s[d].type==="text"?f+=s[d].content:s[d].type==="image"?f+=this.renderInlineAsText(s[d].children,c,a):s[d].type==="softbreak"&&(f+=`
`);return f},o.prototype.render=function(s,c,a){var f,d,p,m="",k=this.rules;for(f=0,d=s.length;f<d;f++)p=s[f].type,p==="inline"?m+=this.renderInline(s[f].children,c,a):typeof k[p]<"u"?m+=k[p](s,f,c,a,this):m+=this.renderToken(s,f,c,a);return m},gu=o,gu}var yu,Hg;function rd(){if(Hg)return yu;Hg=1;function r(){this.__rules__=[],this.__cache__=null}return r.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},r.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(o){t.indexOf(o)<0&&t.push(o)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(o){o.enabled&&(n&&o.alt.indexOf(n)<0||e.__cache__[n].push(o.fn))})})},r.prototype.at=function(e,t,n){var o=this.__find__(e),s=n||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__[o].fn=t,this.__rules__[o].alt=s.alt||[],this.__cache__=null},r.prototype.before=function(e,t,n,o){var s=this.__find__(e),c=o||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s,0,{name:t,enabled:!0,fn:n,alt:c.alt||[]}),this.__cache__=null},r.prototype.after=function(e,t,n,o){var s=this.__find__(e),c=o||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s+1,0,{name:t,enabled:!0,fn:n,alt:c.alt||[]}),this.__cache__=null},r.prototype.push=function(e,t,n){var o=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null},r.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(o){var s=this.__find__(o);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[s].enabled=!0,n.push(o)},this),this.__cache__=null,n},r.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)},r.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(o){var s=this.__find__(o);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[s].enabled=!1,n.push(o)},this),this.__cache__=null,n},r.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]},yu=r,yu}var ku,Ug;function Hre(){if(Ug)return ku;Ug=1;var r=/\r\n?|\n/g,e=/\0/g;return ku=function(n){var o;o=n.src.replace(r,`
`),o=o.replace(e,"�"),n.src=o},ku}var vu,Wg;function Ure(){return Wg||(Wg=1,vu=function(e){var t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}),vu}var xu,Kg;function Wre(){return Kg||(Kg=1,xu=function(e){var t=e.tokens,n,o,s;for(o=0,s=t.length;o<s;o++)n=t[o],n.type==="inline"&&e.md.inline.parse(n.content,e.md,e.env,n.children)}),xu}var Su,Jg;function Kre(){if(Jg)return Su;Jg=1;var r=Ee().arrayReplaceAt;function e(n){return/^<a[>\s]/i.test(n)}function t(n){return/^<\/a\s*>/i.test(n)}return Su=function(o){var s,c,a,f,d,p,m,k,v,x,w,C,E,A,b,T,I=o.tokens,O;if(o.md.options.linkify){for(c=0,a=I.length;c<a;c++)if(!(I[c].type!=="inline"||!o.md.linkify.pretest(I[c].content)))for(f=I[c].children,E=0,s=f.length-1;s>=0;s--){if(p=f[s],p.type==="link_close"){for(s--;f[s].level!==p.level&&f[s].type!=="link_open";)s--;continue}if(p.type==="html_inline"&&(e(p.content)&&E>0&&E--,t(p.content)&&E++),!(E>0)&&p.type==="text"&&o.md.linkify.test(p.content)){for(v=p.content,O=o.md.linkify.match(v),m=[],C=p.level,w=0,O.length>0&&O[0].index===0&&s>0&&f[s-1].type==="text_special"&&(O=O.slice(1)),k=0;k<O.length;k++)A=O[k].url,b=o.md.normalizeLink(A),o.md.validateLink(b)&&(T=O[k].text,O[k].schema?O[k].schema==="mailto:"&&!/^mailto:/i.test(T)?T=o.md.normalizeLinkText("mailto:"+T).replace(/^mailto:/,""):T=o.md.normalizeLinkText(T):T=o.md.normalizeLinkText("http://"+T).replace(/^http:\/\//,""),x=O[k].index,x>w&&(d=new o.Token("text","",0),d.content=v.slice(w,x),d.level=C,m.push(d)),d=new o.Token("link_open","a",1),d.attrs=[["href",b]],d.level=C++,d.markup="linkify",d.info="auto",m.push(d),d=new o.Token("text","",0),d.content=T,d.level=C,m.push(d),d=new o.Token("link_close","a",-1),d.level=--C,d.markup="linkify",d.info="auto",m.push(d),w=O[k].lastIndex);w<v.length&&(d=new o.Token("text","",0),d.content=v.slice(w),d.level=C,m.push(d)),I[c].children=f=r(f,s,m)}}}},Su}var wu,Gg;function Jre(){if(Gg)return wu;Gg=1;var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,e=/\((c|tm|r)\)/i,t=/\((c|tm|r)\)/ig,n={c:"©",r:"®",tm:"™"};function o(a,f){return n[f.toLowerCase()]}function s(a){var f,d,p=0;for(f=a.length-1;f>=0;f--)d=a[f],d.type==="text"&&!p&&(d.content=d.content.replace(t,o)),d.type==="link_open"&&d.info==="auto"&&p--,d.type==="link_close"&&d.info==="auto"&&p++}function c(a){var f,d,p=0;for(f=a.length-1;f>=0;f--)d=a[f],d.type==="text"&&!p&&r.test(d.content)&&(d.content=d.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),d.type==="link_open"&&d.info==="auto"&&p--,d.type==="link_close"&&d.info==="auto"&&p++}return wu=function(f){var d;if(f.md.options.typographer)for(d=f.tokens.length-1;d>=0;d--)f.tokens[d].type==="inline"&&(e.test(f.tokens[d].content)&&s(f.tokens[d].children),r.test(f.tokens[d].content)&&c(f.tokens[d].children))},wu}var Cu,Qg;function Gre(){if(Qg)return Cu;Qg=1;var r=Ee().isWhiteSpace,e=Ee().isPunctChar,t=Ee().isMdAsciiPunct,n=/['"]/,o=/['"]/g,s="’";function c(f,d,p){return f.slice(0,d)+p+f.slice(d+1)}function a(f,d){var p,m,k,v,x,w,C,E,A,b,T,I,O,W,L,F,K,X,ae,xe,V;for(ae=[],p=0;p<f.length;p++){for(m=f[p],C=f[p].level,K=ae.length-1;K>=0&&!(ae[K].level<=C);K--);if(ae.length=K+1,m.type==="text"){k=m.content,x=0,w=k.length;e:for(;x<w&&(o.lastIndex=x,v=o.exec(k),!!v);){if(L=F=!0,x=v.index+1,X=v[0]==="'",A=32,v.index-1>=0)A=k.charCodeAt(v.index-1);else for(K=p-1;K>=0&&!(f[K].type==="softbreak"||f[K].type==="hardbreak");K--)if(f[K].content){A=f[K].content.charCodeAt(f[K].content.length-1);break}if(b=32,x<w)b=k.charCodeAt(x);else for(K=p+1;K<f.length&&!(f[K].type==="softbreak"||f[K].type==="hardbreak");K++)if(f[K].content){b=f[K].content.charCodeAt(0);break}if(T=t(A)||e(String.fromCharCode(A)),I=t(b)||e(String.fromCharCode(b)),O=r(A),W=r(b),W?L=!1:I&&(O||T||(L=!1)),O?F=!1:T&&(W||I||(F=!1)),b===34&&v[0]==='"'&&A>=48&&A<=57&&(F=L=!1),L&&F&&(L=T,F=I),!L&&!F){X&&(m.content=c(m.content,v.index,s));continue}if(F){for(K=ae.length-1;K>=0&&(E=ae[K],!(ae[K].level<C));K--)if(E.single===X&&ae[K].level===C){E=ae[K],X?(xe=d.md.options.quotes[2],V=d.md.options.quotes[3]):(xe=d.md.options.quotes[0],V=d.md.options.quotes[1]),m.content=c(m.content,v.index,V),f[E.token].content=c(f[E.token].content,E.pos,xe),x+=V.length-1,E.token===p&&(x+=xe.length-1),k=m.content,w=k.length,ae.length=K;continue e}}L?ae.push({token:p,pos:v.index,single:X,level:C}):F&&X&&(m.content=c(m.content,v.index,s))}}}}return Cu=function(d){var p;if(d.md.options.typographer)for(p=d.tokens.length-1;p>=0;p--)d.tokens[p].type!=="inline"||!n.test(d.tokens[p].content)||a(d.tokens[p].children,d)},Cu}var Eu,Zg;function Qre(){return Zg||(Zg=1,Eu=function(e){var t,n,o,s,c,a,f=e.tokens;for(t=0,n=f.length;t<n;t++)if(f[t].type==="inline"){for(o=f[t].children,c=o.length,s=0;s<c;s++)o[s].type==="text_special"&&(o[s].type="text");for(s=a=0;s<c;s++)o[s].type==="text"&&s+1<c&&o[s+1].type==="text"?o[s+1].content=o[s].content+o[s+1].content:(s!==a&&(o[a]=o[s]),a++);s!==a&&(o.length=a)}}),Eu}var _u,Yg;function od(){if(Yg)return _u;Yg=1;function r(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}return r.prototype.attrIndex=function(t){var n,o,s;if(!this.attrs)return-1;for(n=this.attrs,o=0,s=n.length;o<s;o++)if(n[o][0]===t)return o;return-1},r.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},r.prototype.attrSet=function(t,n){var o=this.attrIndex(t),s=[t,n];o<0?this.attrPush(s):this.attrs[o]=s},r.prototype.attrGet=function(t){var n=this.attrIndex(t),o=null;return n>=0&&(o=this.attrs[n][1]),o},r.prototype.attrJoin=function(t,n){var o=this.attrIndex(t);o<0?this.attrPush([t,n]):this.attrs[o][1]=this.attrs[o][1]+" "+n},_u=r,_u}var bu,Xg;function Zre(){if(Xg)return bu;Xg=1;var r=od();function e(t,n,o){this.src=t,this.env=o,this.tokens=[],this.inlineMode=!1,this.md=n}return e.prototype.Token=r,bu=e,bu}var Mu,e0;function Yre(){if(e0)return Mu;e0=1;var r=rd(),e=[["normalize",Hre()],["block",Ure()],["inline",Wre()],["linkify",Kre()],["replacements",Jre()],["smartquotes",Gre()],["text_join",Qre()]];function t(){this.ruler=new r;for(var n=0;n<e.length;n++)this.ruler.push(e[n][0],e[n][1])}return t.prototype.process=function(n){var o,s,c;for(c=this.ruler.getRules(""),o=0,s=c.length;o<s;o++)c[o](n)},t.prototype.State=Zre(),Mu=t,Mu}var Tu,t0;function Xre(){if(t0)return Tu;t0=1;var r=Ee().isSpace;function e(n,o){var s=n.bMarks[o]+n.tShift[o],c=n.eMarks[o];return n.src.slice(s,c)}function t(n){var o=[],s=0,c=n.length,a,f=!1,d=0,p="";for(a=n.charCodeAt(s);s<c;)a===124&&(f?(p+=n.substring(d,s-1),d=s):(o.push(p+n.substring(d,s)),p="",d=s+1)),f=a===92,s++,a=n.charCodeAt(s);return o.push(p+n.substring(d)),o}return Tu=function(o,s,c,a){var f,d,p,m,k,v,x,w,C,E,A,b,T,I,O,W,L,F;if(s+2>c||(v=s+1,o.sCount[v]<o.blkIndent)||o.sCount[v]-o.blkIndent>=4||(p=o.bMarks[v]+o.tShift[v],p>=o.eMarks[v])||(L=o.src.charCodeAt(p++),L!==124&&L!==45&&L!==58)||p>=o.eMarks[v]||(F=o.src.charCodeAt(p++),F!==124&&F!==45&&F!==58&&!r(F))||L===45&&r(F))return!1;for(;p<o.eMarks[v];){if(f=o.src.charCodeAt(p),f!==124&&f!==45&&f!==58&&!r(f))return!1;p++}for(d=e(o,s+1),x=d.split("|"),E=[],m=0;m<x.length;m++){if(A=x[m].trim(),!A){if(m===0||m===x.length-1)continue;return!1}if(!/^:?-+:?$/.test(A))return!1;A.charCodeAt(A.length-1)===58?E.push(A.charCodeAt(0)===58?"center":"right"):A.charCodeAt(0)===58?E.push("left"):E.push("")}if(d=e(o,s).trim(),d.indexOf("|")===-1||o.sCount[s]-o.blkIndent>=4||(x=t(d),x.length&&x[0]===""&&x.shift(),x.length&&x[x.length-1]===""&&x.pop(),w=x.length,w===0||w!==E.length))return!1;if(a)return!0;for(I=o.parentType,o.parentType="table",W=o.md.block.ruler.getRules("blockquote"),C=o.push("table_open","table",1),C.map=b=[s,0],C=o.push("thead_open","thead",1),C.map=[s,s+1],C=o.push("tr_open","tr",1),C.map=[s,s+1],m=0;m<x.length;m++)C=o.push("th_open","th",1),E[m]&&(C.attrs=[["style","text-align:"+E[m]]]),C=o.push("inline","",0),C.content=x[m].trim(),C.children=[],C=o.push("th_close","th",-1);for(C=o.push("tr_close","tr",-1),C=o.push("thead_close","thead",-1),v=s+2;v<c&&!(o.sCount[v]<o.blkIndent);v++){for(O=!1,m=0,k=W.length;m<k;m++)if(W[m](o,v,c,!0)){O=!0;break}if(O||(d=e(o,v).trim(),!d)||o.sCount[v]-o.blkIndent>=4)break;for(x=t(d),x.length&&x[0]===""&&x.shift(),x.length&&x[x.length-1]===""&&x.pop(),v===s+2&&(C=o.push("tbody_open","tbody",1),C.map=T=[s+2,0]),C=o.push("tr_open","tr",1),C.map=[v,v+1],m=0;m<w;m++)C=o.push("td_open","td",1),E[m]&&(C.attrs=[["style","text-align:"+E[m]]]),C=o.push("inline","",0),C.content=x[m]?x[m].trim():"",C.children=[],C=o.push("td_close","td",-1);C=o.push("tr_close","tr",-1)}return T&&(C=o.push("tbody_close","tbody",-1),T[1]=v),C=o.push("table_close","table",-1),b[1]=v,o.parentType=I,o.line=v,!0},Tu}var Au,n0;function eoe(){return n0||(n0=1,Au=function(e,t,n){var o,s,c;if(e.sCount[t]-e.blkIndent<4)return!1;for(s=o=t+1;o<n;){if(e.isEmpty(o)){o++;continue}if(e.sCount[o]-e.blkIndent>=4){o++,s=o;continue}break}return e.line=s,c=e.push("code_block","code",0),c.content=e.getLines(t,s,4+e.blkIndent,!1)+`
`,c.map=[t,e.line],!0}),Au}var Du,r0;function toe(){return r0||(r0=1,Du=function(e,t,n,o){var s,c,a,f,d,p,m,k=!1,v=e.bMarks[t]+e.tShift[t],x=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||v+3>x||(s=e.src.charCodeAt(v),s!==126&&s!==96)||(d=v,v=e.skipChars(v,s),c=v-d,c<3)||(m=e.src.slice(d,v),a=e.src.slice(v,x),s===96&&a.indexOf(String.fromCharCode(s))>=0))return!1;if(o)return!0;for(f=t;f++,!(f>=n||(v=d=e.bMarks[f]+e.tShift[f],x=e.eMarks[f],v<x&&e.sCount[f]<e.blkIndent));)if(e.src.charCodeAt(v)===s&&!(e.sCount[f]-e.blkIndent>=4)&&(v=e.skipChars(v,s),!(v-d<c)&&(v=e.skipSpaces(v),!(v<x)))){k=!0;break}return c=e.sCount[t],e.line=f+(k?1:0),p=e.push("fence","code",0),p.info=a,p.content=e.getLines(t+1,f,c,!0),p.markup=m,p.map=[t,e.line],!0}),Du}var Nu,o0;function noe(){if(o0)return Nu;o0=1;var r=Ee().isSpace;return Nu=function(t,n,o,s){var c,a,f,d,p,m,k,v,x,w,C,E,A,b,T,I,O,W,L,F,K=t.lineMax,X=t.bMarks[n]+t.tShift[n],ae=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(X)!==62)return!1;if(s)return!0;for(w=[],C=[],b=[],T=[],W=t.md.block.ruler.getRules("blockquote"),A=t.parentType,t.parentType="blockquote",v=n;v<o&&(F=t.sCount[v]<t.blkIndent,X=t.bMarks[v]+t.tShift[v],ae=t.eMarks[v],!(X>=ae));v++){if(t.src.charCodeAt(X++)===62&&!F){for(d=t.sCount[v]+1,t.src.charCodeAt(X)===32?(X++,d++,c=!1,I=!0):t.src.charCodeAt(X)===9?(I=!0,(t.bsCount[v]+d)%4===3?(X++,d++,c=!1):c=!0):I=!1,x=d,w.push(t.bMarks[v]),t.bMarks[v]=X;X<ae&&(a=t.src.charCodeAt(X),r(a));){a===9?x+=4-(x+t.bsCount[v]+(c?1:0))%4:x++;X++}m=X>=ae,C.push(t.bsCount[v]),t.bsCount[v]=t.sCount[v]+1+(I?1:0),b.push(t.sCount[v]),t.sCount[v]=x-d,T.push(t.tShift[v]),t.tShift[v]=X-t.bMarks[v];continue}if(m)break;for(O=!1,f=0,p=W.length;f<p;f++)if(W[f](t,v,o,!0)){O=!0;break}if(O){t.lineMax=v,t.blkIndent!==0&&(w.push(t.bMarks[v]),C.push(t.bsCount[v]),T.push(t.tShift[v]),b.push(t.sCount[v]),t.sCount[v]-=t.blkIndent);break}w.push(t.bMarks[v]),C.push(t.bsCount[v]),T.push(t.tShift[v]),b.push(t.sCount[v]),t.sCount[v]=-1}for(E=t.blkIndent,t.blkIndent=0,L=t.push("blockquote_open","blockquote",1),L.markup=">",L.map=k=[n,0],t.md.block.tokenize(t,n,v),L=t.push("blockquote_close","blockquote",-1),L.markup=">",t.lineMax=K,t.parentType=A,k[1]=t.line,f=0;f<T.length;f++)t.bMarks[f+n]=w[f],t.tShift[f+n]=T[f],t.sCount[f+n]=b[f],t.bsCount[f+n]=C[f];return t.blkIndent=E,!0},Nu}var Ou,i0;function roe(){if(i0)return Ou;i0=1;var r=Ee().isSpace;return Ou=function(t,n,o,s){var c,a,f,d,p=t.bMarks[n]+t.tShift[n],m=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(c=t.src.charCodeAt(p++),c!==42&&c!==45&&c!==95))return!1;for(a=1;p<m;){if(f=t.src.charCodeAt(p++),f!==c&&!r(f))return!1;f===c&&a++}return a<3?!1:(s||(t.line=n+1,d=t.push("hr","hr",0),d.map=[n,t.line],d.markup=Array(a+1).join(String.fromCharCode(c))),!0)},Ou}var Ru,s0;function ooe(){if(s0)return Ru;s0=1;var r=Ee().isSpace;function e(o,s){var c,a,f,d;return a=o.bMarks[s]+o.tShift[s],f=o.eMarks[s],c=o.src.charCodeAt(a++),c!==42&&c!==45&&c!==43||a<f&&(d=o.src.charCodeAt(a),!r(d))?-1:a}function t(o,s){var c,a=o.bMarks[s]+o.tShift[s],f=a,d=o.eMarks[s];if(f+1>=d||(c=o.src.charCodeAt(f++),c<48||c>57))return-1;for(;;){if(f>=d)return-1;if(c=o.src.charCodeAt(f++),c>=48&&c<=57){if(f-a>=10)return-1;continue}if(c===41||c===46)break;return-1}return f<d&&(c=o.src.charCodeAt(f),!r(c))?-1:f}function n(o,s){var c,a,f=o.level+2;for(c=s+2,a=o.tokens.length-2;c<a;c++)o.tokens[c].level===f&&o.tokens[c].type==="paragraph_open"&&(o.tokens[c+2].hidden=!0,o.tokens[c].hidden=!0,c+=2)}return Ru=function(s,c,a,f){var d,p,m,k,v,x,w,C,E,A,b,T,I,O,W,L,F,K,X,ae,xe,V,he,pe,ke,G,Y,B=c,N=!1,q=!0;if(s.sCount[B]-s.blkIndent>=4||s.listIndent>=0&&s.sCount[B]-s.listIndent>=4&&s.sCount[B]<s.blkIndent)return!1;if(f&&s.parentType==="paragraph"&&s.sCount[B]>=s.blkIndent&&(N=!0),(V=t(s,B))>=0){if(w=!0,pe=s.bMarks[B]+s.tShift[B],I=Number(s.src.slice(pe,V-1)),N&&I!==1)return!1}else if((V=e(s,B))>=0)w=!1;else return!1;if(N&&s.skipSpaces(V)>=s.eMarks[B])return!1;if(f)return!0;for(T=s.src.charCodeAt(V-1),b=s.tokens.length,w?(Y=s.push("ordered_list_open","ol",1),I!==1&&(Y.attrs=[["start",I]])):Y=s.push("bullet_list_open","ul",1),Y.map=A=[B,0],Y.markup=String.fromCharCode(T),he=!1,G=s.md.block.ruler.getRules("list"),F=s.parentType,s.parentType="list";B<a;){for(xe=V,O=s.eMarks[B],x=W=s.sCount[B]+V-(s.bMarks[B]+s.tShift[B]);xe<O;){if(d=s.src.charCodeAt(xe),d===9)W+=4-(W+s.bsCount[B])%4;else if(d===32)W++;else break;xe++}if(p=xe,p>=O?v=1:v=W-x,v>4&&(v=1),k=x+v,Y=s.push("list_item_open","li",1),Y.markup=String.fromCharCode(T),Y.map=C=[B,0],w&&(Y.info=s.src.slice(pe,V-1)),ae=s.tight,X=s.tShift[B],K=s.sCount[B],L=s.listIndent,s.listIndent=s.blkIndent,s.blkIndent=k,s.tight=!0,s.tShift[B]=p-s.bMarks[B],s.sCount[B]=W,p>=O&&s.isEmpty(B+1)?s.line=Math.min(s.line+2,a):s.md.block.tokenize(s,B,a,!0),(!s.tight||he)&&(q=!1),he=s.line-B>1&&s.isEmpty(s.line-1),s.blkIndent=s.listIndent,s.listIndent=L,s.tShift[B]=X,s.sCount[B]=K,s.tight=ae,Y=s.push("list_item_close","li",-1),Y.markup=String.fromCharCode(T),B=s.line,C[1]=B,B>=a||s.sCount[B]<s.blkIndent||s.sCount[B]-s.blkIndent>=4)break;for(ke=!1,m=0,E=G.length;m<E;m++)if(G[m](s,B,a,!0)){ke=!0;break}if(ke)break;if(w){if(V=t(s,B),V<0)break;pe=s.bMarks[B]+s.tShift[B]}else if(V=e(s,B),V<0)break;if(T!==s.src.charCodeAt(V-1))break}return w?Y=s.push("ordered_list_close","ol",-1):Y=s.push("bullet_list_close","ul",-1),Y.markup=String.fromCharCode(T),A[1]=B,s.line=B,s.parentType=F,q&&n(s,b),!0},Ru}var Iu,l0;function ioe(){if(l0)return Iu;l0=1;var r=Ee().normalizeReference,e=Ee().isSpace;return Iu=function(n,o,s,c){var a,f,d,p,m,k,v,x,w,C,E,A,b,T,I,O,W=0,L=n.bMarks[o]+n.tShift[o],F=n.eMarks[o],K=o+1;if(n.sCount[o]-n.blkIndent>=4||n.src.charCodeAt(L)!==91)return!1;for(;++L<F;)if(n.src.charCodeAt(L)===93&&n.src.charCodeAt(L-1)!==92){if(L+1===F||n.src.charCodeAt(L+1)!==58)return!1;break}for(p=n.lineMax,I=n.md.block.ruler.getRules("reference"),C=n.parentType,n.parentType="reference";K<p&&!n.isEmpty(K);K++)if(!(n.sCount[K]-n.blkIndent>3)&&!(n.sCount[K]<0)){for(T=!1,k=0,v=I.length;k<v;k++)if(I[k](n,K,p,!0)){T=!0;break}if(T)break}for(b=n.getLines(o,K,n.blkIndent,!1).trim(),F=b.length,L=1;L<F;L++){if(a=b.charCodeAt(L),a===91)return!1;if(a===93){w=L;break}else a===10?W++:a===92&&(L++,L<F&&b.charCodeAt(L)===10&&W++)}if(w<0||b.charCodeAt(w+1)!==58)return!1;for(L=w+2;L<F;L++)if(a=b.charCodeAt(L),a===10)W++;else if(!e(a))break;if(E=n.md.helpers.parseLinkDestination(b,L,F),!E.ok||(m=n.md.normalizeLink(E.str),!n.md.validateLink(m)))return!1;for(L=E.pos,W+=E.lines,f=L,d=W,A=L;L<F;L++)if(a=b.charCodeAt(L),a===10)W++;else if(!e(a))break;for(E=n.md.helpers.parseLinkTitle(b,L,F),L<F&&A!==L&&E.ok?(O=E.str,L=E.pos,W+=E.lines):(O="",L=f,W=d);L<F&&(a=b.charCodeAt(L),!!e(a));)L++;if(L<F&&b.charCodeAt(L)!==10&&O)for(O="",L=f,W=d;L<F&&(a=b.charCodeAt(L),!!e(a));)L++;return L<F&&b.charCodeAt(L)!==10||(x=r(b.slice(1,w)),!x)?!1:(c||(typeof n.env.references>"u"&&(n.env.references={}),typeof n.env.references[x]>"u"&&(n.env.references[x]={title:O,href:m}),n.parentType=C,n.line=o+W+1),!0)},Iu}var Pu,c0;function soe(){return c0||(c0=1,Pu=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]),Pu}var el={},a0;function O1(){if(a0)return el;a0=1;var r="[a-zA-Z_:][a-zA-Z0-9:._-]*",e="[^\"'=<>`\\x00-\\x20]+",t="'[^']*'",n='"[^"]*"',o="(?:"+e+"|"+t+"|"+n+")",s="(?:\\s+"+r+"(?:\\s*=\\s*"+o+")?)",c="<[A-Za-z][A-Za-z0-9\\-]*"+s+"*\\s*\\/?>",a="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",f="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",d="<[?][\\s\\S]*?[?]>",p="<![A-Z]+\\s+[^>]*>",m="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",k=new RegExp("^(?:"+c+"|"+a+"|"+f+"|"+d+"|"+p+"|"+m+")"),v=new RegExp("^(?:"+c+"|"+a+")");return el.HTML_TAG_RE=k,el.HTML_OPEN_CLOSE_TAG_RE=v,el}var zu,u0;function loe(){if(u0)return zu;u0=1;var r=soe(),e=O1().HTML_OPEN_CLOSE_TAG_RE,t=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(e.source+"\\s*$"),/^$/,!1]];return zu=function(o,s,c,a){var f,d,p,m,k=o.bMarks[s]+o.tShift[s],v=o.eMarks[s];if(o.sCount[s]-o.blkIndent>=4||!o.md.options.html||o.src.charCodeAt(k)!==60)return!1;for(m=o.src.slice(k,v),f=0;f<t.length&&!t[f][0].test(m);f++);if(f===t.length)return!1;if(a)return t[f][2];if(d=s+1,!t[f][1].test(m)){for(;d<c&&!(o.sCount[d]<o.blkIndent);d++)if(k=o.bMarks[d]+o.tShift[d],v=o.eMarks[d],m=o.src.slice(k,v),t[f][1].test(m)){m.length!==0&&d++;break}}return o.line=d,p=o.push("html_block","",0),p.map=[s,d],p.content=o.getLines(s,d,o.blkIndent,!0),!0},zu}var Lu,f0;function coe(){if(f0)return Lu;f0=1;var r=Ee().isSpace;return Lu=function(t,n,o,s){var c,a,f,d,p=t.bMarks[n]+t.tShift[n],m=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(c=t.src.charCodeAt(p),c!==35||p>=m))return!1;for(a=1,c=t.src.charCodeAt(++p);c===35&&p<m&&a<=6;)a++,c=t.src.charCodeAt(++p);return a>6||p<m&&!r(c)?!1:(s||(m=t.skipSpacesBack(m,p),f=t.skipCharsBack(m,35,p),f>p&&r(t.src.charCodeAt(f-1))&&(m=f),t.line=n+1,d=t.push("heading_open","h"+String(a),1),d.markup="########".slice(0,a),d.map=[n,t.line],d=t.push("inline","",0),d.content=t.src.slice(p,m).trim(),d.map=[n,t.line],d.children=[],d=t.push("heading_close","h"+String(a),-1),d.markup="########".slice(0,a)),!0)},Lu}var Fu,d0;function aoe(){return d0||(d0=1,Fu=function(e,t,n){var o,s,c,a,f,d,p,m,k,v=t+1,x,w=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(x=e.parentType,e.parentType="paragraph";v<n&&!e.isEmpty(v);v++)if(!(e.sCount[v]-e.blkIndent>3)){if(e.sCount[v]>=e.blkIndent&&(d=e.bMarks[v]+e.tShift[v],p=e.eMarks[v],d<p&&(k=e.src.charCodeAt(d),(k===45||k===61)&&(d=e.skipChars(d,k),d=e.skipSpaces(d),d>=p)))){m=k===61?1:2;break}if(!(e.sCount[v]<0)){for(s=!1,c=0,a=w.length;c<a;c++)if(w[c](e,v,n,!0)){s=!0;break}if(s)break}}return m?(o=e.getLines(t,v,e.blkIndent,!1).trim(),e.line=v+1,f=e.push("heading_open","h"+String(m),1),f.markup=String.fromCharCode(k),f.map=[t,e.line],f=e.push("inline","",0),f.content=o,f.map=[t,e.line-1],f.children=[],f=e.push("heading_close","h"+String(m),-1),f.markup=String.fromCharCode(k),e.parentType=x,!0):!1}),Fu}var Bu,h0;function uoe(){return h0||(h0=1,Bu=function(e,t,n){var o,s,c,a,f,d,p=t+1,m=e.md.block.ruler.getRules("paragraph");for(d=e.parentType,e.parentType="paragraph";p<n&&!e.isEmpty(p);p++)if(!(e.sCount[p]-e.blkIndent>3)&&!(e.sCount[p]<0)){for(s=!1,c=0,a=m.length;c<a;c++)if(m[c](e,p,n,!0)){s=!0;break}if(s)break}return o=e.getLines(t,p,e.blkIndent,!1).trim(),e.line=p,f=e.push("paragraph_open","p",1),f.map=[t,e.line],f=e.push("inline","",0),f.content=o,f.map=[t,e.line],f.children=[],f=e.push("paragraph_close","p",-1),e.parentType=d,!0}),Bu}var qu,p0;function foe(){if(p0)return qu;p0=1;var r=od(),e=Ee().isSpace;function t(n,o,s,c){var a,f,d,p,m,k,v,x;for(this.src=n,this.md=o,this.env=s,this.tokens=c,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",f=this.src,x=!1,d=p=k=v=0,m=f.length;p<m;p++){if(a=f.charCodeAt(p),!x)if(e(a)){k++,a===9?v+=4-v%4:v++;continue}else x=!0;(a===10||p===m-1)&&(a!==10&&p++,this.bMarks.push(d),this.eMarks.push(p),this.tShift.push(k),this.sCount.push(v),this.bsCount.push(0),x=!1,k=0,v=0,d=p+1)}this.bMarks.push(f.length),this.eMarks.push(f.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}return t.prototype.push=function(n,o,s){var c=new r(n,o,s);return c.block=!0,s<0&&this.level--,c.level=this.level,s>0&&this.level++,this.tokens.push(c),c},t.prototype.isEmpty=function(o){return this.bMarks[o]+this.tShift[o]>=this.eMarks[o]},t.prototype.skipEmptyLines=function(o){for(var s=this.lineMax;o<s&&!(this.bMarks[o]+this.tShift[o]<this.eMarks[o]);o++);return o},t.prototype.skipSpaces=function(o){for(var s,c=this.src.length;o<c&&(s=this.src.charCodeAt(o),!!e(s));o++);return o},t.prototype.skipSpacesBack=function(o,s){if(o<=s)return o;for(;o>s;)if(!e(this.src.charCodeAt(--o)))return o+1;return o},t.prototype.skipChars=function(o,s){for(var c=this.src.length;o<c&&this.src.charCodeAt(o)===s;o++);return o},t.prototype.skipCharsBack=function(o,s,c){if(o<=c)return o;for(;o>c;)if(s!==this.src.charCodeAt(--o))return o+1;return o},t.prototype.getLines=function(o,s,c,a){var f,d,p,m,k,v,x,w=o;if(o>=s)return"";for(v=new Array(s-o),f=0;w<s;w++,f++){for(d=0,x=m=this.bMarks[w],w+1<s||a?k=this.eMarks[w]+1:k=this.eMarks[w];m<k&&d<c;){if(p=this.src.charCodeAt(m),e(p))p===9?d+=4-(d+this.bsCount[w])%4:d++;else if(m-x<this.tShift[w])d++;else break;m++}d>c?v[f]=new Array(d-c+1).join(" ")+this.src.slice(m,k):v[f]=this.src.slice(m,k)}return v.join("")},t.prototype.Token=r,qu=t,qu}var Vu,m0;function doe(){if(m0)return Vu;m0=1;var r=rd(),e=[["table",Xre(),["paragraph","reference"]],["code",eoe()],["fence",toe(),["paragraph","reference","blockquote","list"]],["blockquote",noe(),["paragraph","reference","blockquote","list"]],["hr",roe(),["paragraph","reference","blockquote","list"]],["list",ooe(),["paragraph","reference","blockquote"]],["reference",ioe()],["html_block",loe(),["paragraph","reference","blockquote"]],["heading",coe(),["paragraph","reference","blockquote"]],["lheading",aoe()],["paragraph",uoe()]];function t(){this.ruler=new r;for(var n=0;n<e.length;n++)this.ruler.push(e[n][0],e[n][1],{alt:(e[n][2]||[]).slice()})}return t.prototype.tokenize=function(n,o,s){for(var c,a,f,d=this.ruler.getRules(""),p=d.length,m=o,k=!1,v=n.md.options.maxNesting;m<s&&(n.line=m=n.skipEmptyLines(m),!(m>=s||n.sCount[m]<n.blkIndent));){if(n.level>=v){n.line=s;break}for(f=n.line,a=0;a<p;a++)if(c=d[a](n,m,s,!1),c){if(f>=n.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");n.tight=!k,n.isEmpty(n.line-1)&&(k=!0),m=n.line,m<s&&n.isEmpty(m)&&(k=!0,m++,n.line=m)}},t.prototype.parse=function(n,o,s,c){var a;n&&(a=new this.State(n,o,s,c),this.tokenize(a,a.line,a.lineMax))},t.prototype.State=foe(),Vu=t,Vu}var $u,g0;function hoe(){if(g0)return $u;g0=1;function r(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}return $u=function(t,n){for(var o=t.pos;o<t.posMax&&!r(t.src.charCodeAt(o));)o++;return o===t.pos?!1:(n||(t.pending+=t.src.slice(t.pos,o)),t.pos=o,!0)},$u}var ju,y0;function poe(){if(y0)return ju;y0=1;var r=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;return ju=function(t,n){var o,s,c,a,f,d,p,m;return!t.md.options.linkify||t.linkLevel>0||(o=t.pos,s=t.posMax,o+3>s)||t.src.charCodeAt(o)!==58||t.src.charCodeAt(o+1)!==47||t.src.charCodeAt(o+2)!==47||(c=t.pending.match(r),!c)||(a=c[1],f=t.md.linkify.matchAtStart(t.src.slice(o-a.length)),!f)||(d=f.url,d.length<=a.length)||(d=d.replace(/\*+$/,""),p=t.md.normalizeLink(d),!t.md.validateLink(p))?!1:(n||(t.pending=t.pending.slice(0,-a.length),m=t.push("link_open","a",1),m.attrs=[["href",p]],m.markup="linkify",m.info="auto",m=t.push("text","",0),m.content=t.md.normalizeLinkText(d),m=t.push("link_close","a",-1),m.markup="linkify",m.info="auto"),t.pos+=d.length-a.length,!0)},ju}var Hu,k0;function moe(){if(k0)return Hu;k0=1;var r=Ee().isSpace;return Hu=function(t,n){var o,s,c,a=t.pos;if(t.src.charCodeAt(a)!==10)return!1;if(o=t.pending.length-1,s=t.posMax,!n)if(o>=0&&t.pending.charCodeAt(o)===32)if(o>=1&&t.pending.charCodeAt(o-1)===32){for(c=o-1;c>=1&&t.pending.charCodeAt(c-1)===32;)c--;t.pending=t.pending.slice(0,c),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(a++;a<s&&r(t.src.charCodeAt(a));)a++;return t.pos=a,!0},Hu}var Uu,v0;function goe(){if(v0)return Uu;v0=1;for(var r=Ee().isSpace,e=[],t=0;t<256;t++)e.push(0);return"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(n){e[n.charCodeAt(0)]=1}),Uu=function(o,s){var c,a,f,d,p,m=o.pos,k=o.posMax;if(o.src.charCodeAt(m)!==92||(m++,m>=k))return!1;if(c=o.src.charCodeAt(m),c===10){for(s||o.push("hardbreak","br",0),m++;m<k&&(c=o.src.charCodeAt(m),!!r(c));)m++;return o.pos=m,!0}return d=o.src[m],c>=55296&&c<=56319&&m+1<k&&(a=o.src.charCodeAt(m+1),a>=56320&&a<=57343&&(d+=o.src[m+1],m++)),f="\\"+d,s||(p=o.push("text_special","",0),c<256&&e[c]!==0?p.content=d:p.content=f,p.markup=f,p.info="escape"),o.pos=m+1,!0},Uu}var Wu,x0;function yoe(){return x0||(x0=1,Wu=function(e,t){var n,o,s,c,a,f,d,p,m=e.pos,k=e.src.charCodeAt(m);if(k!==96)return!1;for(n=m,m++,o=e.posMax;m<o&&e.src.charCodeAt(m)===96;)m++;if(s=e.src.slice(n,m),d=s.length,e.backticksScanned&&(e.backticks[d]||0)<=n)return t||(e.pending+=s),e.pos+=d,!0;for(f=m;(a=e.src.indexOf("`",f))!==-1;){for(f=a+1;f<o&&e.src.charCodeAt(f)===96;)f++;if(p=f-a,p===d)return t||(c=e.push("code_inline","code",0),c.markup=s,c.content=e.src.slice(m,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=f,!0;e.backticks[p]=a}return e.backticksScanned=!0,t||(e.pending+=s),e.pos+=d,!0}),Wu}var tl={},S0;function w0(){if(S0)return tl;S0=1,tl.tokenize=function(t,n){var o,s,c,a,f,d=t.pos,p=t.src.charCodeAt(d);if(n||p!==126||(s=t.scanDelims(t.pos,!0),a=s.length,f=String.fromCharCode(p),a<2))return!1;for(a%2&&(c=t.push("text","",0),c.content=f,a--),o=0;o<a;o+=2)c=t.push("text","",0),c.content=f+f,t.delimiters.push({marker:p,length:0,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0};function r(e,t){var n,o,s,c,a,f=[],d=t.length;for(n=0;n<d;n++)s=t[n],s.marker===126&&s.end!==-1&&(c=t[s.end],a=e.tokens[s.token],a.type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",a=e.tokens[c.token],a.type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="",e.tokens[c.token-1].type==="text"&&e.tokens[c.token-1].content==="~"&&f.push(c.token-1));for(;f.length;){for(n=f.pop(),o=n+1;o<e.tokens.length&&e.tokens[o].type==="s_close";)o++;o--,n!==o&&(a=e.tokens[o],e.tokens[o]=e.tokens[n],e.tokens[n]=a)}}return tl.postProcess=function(t){var n,o=t.tokens_meta,s=t.tokens_meta.length;for(r(t,t.delimiters),n=0;n<s;n++)o[n]&&o[n].delimiters&&r(t,o[n].delimiters)},tl}var nl={},C0;function E0(){if(C0)return nl;C0=1,nl.tokenize=function(t,n){var o,s,c,a=t.pos,f=t.src.charCodeAt(a);if(n||f!==95&&f!==42)return!1;for(s=t.scanDelims(t.pos,f===42),o=0;o<s.length;o++)c=t.push("text","",0),c.content=String.fromCharCode(f),t.delimiters.push({marker:f,length:s.length,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0};function r(e,t){var n,o,s,c,a,f,d=t.length;for(n=d-1;n>=0;n--)o=t[n],!(o.marker!==95&&o.marker!==42)&&o.end!==-1&&(s=t[o.end],f=n>0&&t[n-1].end===o.end+1&&t[n-1].marker===o.marker&&t[n-1].token===o.token-1&&t[o.end+1].token===s.token+1,a=String.fromCharCode(o.marker),c=e.tokens[o.token],c.type=f?"strong_open":"em_open",c.tag=f?"strong":"em",c.nesting=1,c.markup=f?a+a:a,c.content="",c=e.tokens[s.token],c.type=f?"strong_close":"em_close",c.tag=f?"strong":"em",c.nesting=-1,c.markup=f?a+a:a,c.content="",f&&(e.tokens[t[n-1].token].content="",e.tokens[t[o.end+1].token].content="",n--))}return nl.postProcess=function(t){var n,o=t.tokens_meta,s=t.tokens_meta.length;for(r(t,t.delimiters),n=0;n<s;n++)o[n]&&o[n].delimiters&&r(t,o[n].delimiters)},nl}var Ku,_0;function koe(){if(_0)return Ku;_0=1;var r=Ee().normalizeReference,e=Ee().isSpace;return Ku=function(n,o){var s,c,a,f,d,p,m,k,v,x="",w="",C=n.pos,E=n.posMax,A=n.pos,b=!0;if(n.src.charCodeAt(n.pos)!==91||(d=n.pos+1,f=n.md.helpers.parseLinkLabel(n,n.pos,!0),f<0))return!1;if(p=f+1,p<E&&n.src.charCodeAt(p)===40){for(b=!1,p++;p<E&&(c=n.src.charCodeAt(p),!(!e(c)&&c!==10));p++);if(p>=E)return!1;if(A=p,m=n.md.helpers.parseLinkDestination(n.src,p,n.posMax),m.ok){for(x=n.md.normalizeLink(m.str),n.md.validateLink(x)?p=m.pos:x="",A=p;p<E&&(c=n.src.charCodeAt(p),!(!e(c)&&c!==10));p++);if(m=n.md.helpers.parseLinkTitle(n.src,p,n.posMax),p<E&&A!==p&&m.ok)for(w=m.str,p=m.pos;p<E&&(c=n.src.charCodeAt(p),!(!e(c)&&c!==10));p++);}(p>=E||n.src.charCodeAt(p)!==41)&&(b=!0),p++}if(b){if(typeof n.env.references>"u")return!1;if(p<E&&n.src.charCodeAt(p)===91?(A=p+1,p=n.md.helpers.parseLinkLabel(n,p),p>=0?a=n.src.slice(A,p++):p=f+1):p=f+1,a||(a=n.src.slice(d,f)),k=n.env.references[r(a)],!k)return n.pos=C,!1;x=k.href,w=k.title}return o||(n.pos=d,n.posMax=f,v=n.push("link_open","a",1),v.attrs=s=[["href",x]],w&&s.push(["title",w]),n.linkLevel++,n.md.inline.tokenize(n),n.linkLevel--,v=n.push("link_close","a",-1)),n.pos=p,n.posMax=E,!0},Ku}var Ju,b0;function voe(){if(b0)return Ju;b0=1;var r=Ee().normalizeReference,e=Ee().isSpace;return Ju=function(n,o){var s,c,a,f,d,p,m,k,v,x,w,C,E,A="",b=n.pos,T=n.posMax;if(n.src.charCodeAt(n.pos)!==33||n.src.charCodeAt(n.pos+1)!==91||(p=n.pos+2,d=n.md.helpers.parseLinkLabel(n,n.pos+1,!1),d<0))return!1;if(m=d+1,m<T&&n.src.charCodeAt(m)===40){for(m++;m<T&&(c=n.src.charCodeAt(m),!(!e(c)&&c!==10));m++);if(m>=T)return!1;for(E=m,v=n.md.helpers.parseLinkDestination(n.src,m,n.posMax),v.ok&&(A=n.md.normalizeLink(v.str),n.md.validateLink(A)?m=v.pos:A=""),E=m;m<T&&(c=n.src.charCodeAt(m),!(!e(c)&&c!==10));m++);if(v=n.md.helpers.parseLinkTitle(n.src,m,n.posMax),m<T&&E!==m&&v.ok)for(x=v.str,m=v.pos;m<T&&(c=n.src.charCodeAt(m),!(!e(c)&&c!==10));m++);else x="";if(m>=T||n.src.charCodeAt(m)!==41)return n.pos=b,!1;m++}else{if(typeof n.env.references>"u")return!1;if(m<T&&n.src.charCodeAt(m)===91?(E=m+1,m=n.md.helpers.parseLinkLabel(n,m),m>=0?f=n.src.slice(E,m++):m=d+1):m=d+1,f||(f=n.src.slice(p,d)),k=n.env.references[r(f)],!k)return n.pos=b,!1;A=k.href,x=k.title}return o||(a=n.src.slice(p,d),n.md.inline.parse(a,n.md,n.env,C=[]),w=n.push("image","img",0),w.attrs=s=[["src",A],["alt",""]],w.children=C,w.content=a,x&&s.push(["title",x])),n.pos=m,n.posMax=T,!0},Ju}var Gu,M0;function xoe(){if(M0)return Gu;M0=1;var r=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,e=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;return Gu=function(n,o){var s,c,a,f,d,p,m=n.pos;if(n.src.charCodeAt(m)!==60)return!1;for(d=n.pos,p=n.posMax;;){if(++m>=p||(f=n.src.charCodeAt(m),f===60))return!1;if(f===62)break}return s=n.src.slice(d+1,m),e.test(s)?(c=n.md.normalizeLink(s),n.md.validateLink(c)?(o||(a=n.push("link_open","a",1),a.attrs=[["href",c]],a.markup="autolink",a.info="auto",a=n.push("text","",0),a.content=n.md.normalizeLinkText(s),a=n.push("link_close","a",-1),a.markup="autolink",a.info="auto"),n.pos+=s.length+2,!0):!1):r.test(s)?(c=n.md.normalizeLink("mailto:"+s),n.md.validateLink(c)?(o||(a=n.push("link_open","a",1),a.attrs=[["href",c]],a.markup="autolink",a.info="auto",a=n.push("text","",0),a.content=n.md.normalizeLinkText(s),a=n.push("link_close","a",-1),a.markup="autolink",a.info="auto"),n.pos+=s.length+2,!0):!1):!1},Gu}var Qu,T0;function Soe(){if(T0)return Qu;T0=1;var r=O1().HTML_TAG_RE;function e(o){return/^<a[>\s]/i.test(o)}function t(o){return/^<\/a\s*>/i.test(o)}function n(o){var s=o|32;return s>=97&&s<=122}return Qu=function(s,c){var a,f,d,p,m=s.pos;return!s.md.options.html||(d=s.posMax,s.src.charCodeAt(m)!==60||m+2>=d)||(a=s.src.charCodeAt(m+1),a!==33&&a!==63&&a!==47&&!n(a))||(f=s.src.slice(m).match(r),!f)?!1:(c||(p=s.push("html_inline","",0),p.content=f[0],e(p.content)&&s.linkLevel++,t(p.content)&&s.linkLevel--),s.pos+=f[0].length,!0)},Qu}var Zu,A0;function woe(){if(A0)return Zu;A0=1;var r=M1(),e=Ee().has,t=Ee().isValidEntityCode,n=Ee().fromCodePoint,o=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,s=/^&([a-z][a-z0-9]{1,31});/i;return Zu=function(a,f){var d,p,m,k,v=a.pos,x=a.posMax;if(a.src.charCodeAt(v)!==38||v+1>=x)return!1;if(d=a.src.charCodeAt(v+1),d===35){if(m=a.src.slice(v).match(o),m)return f||(p=m[1][0].toLowerCase()==="x"?parseInt(m[1].slice(1),16):parseInt(m[1],10),k=a.push("text_special","",0),k.content=t(p)?n(p):n(65533),k.markup=m[0],k.info="entity"),a.pos+=m[0].length,!0}else if(m=a.src.slice(v).match(s),m&&e(r,m[1]))return f||(k=a.push("text_special","",0),k.content=r[m[1]],k.markup=m[0],k.info="entity"),a.pos+=m[0].length,!0;return!1},Zu}var Yu,D0;function Coe(){if(D0)return Yu;D0=1;function r(e){var t,n,o,s,c,a,f,d,p={},m=e.length;if(m){var k=0,v=-2,x=[];for(t=0;t<m;t++)if(o=e[t],x.push(0),(e[k].marker!==o.marker||v!==o.token-1)&&(k=t),v=o.token,o.length=o.length||0,!!o.close){for(p.hasOwnProperty(o.marker)||(p[o.marker]=[-1,-1,-1,-1,-1,-1]),c=p[o.marker][(o.open?3:0)+o.length%3],n=k-x[k]-1,a=n;n>c;n-=x[n]+1)if(s=e[n],s.marker===o.marker&&s.open&&s.end<0&&(f=!1,(s.close||o.open)&&(s.length+o.length)%3===0&&(s.length%3!==0||o.length%3!==0)&&(f=!0),!f)){d=n>0&&!e[n-1].open?x[n-1]+1:0,x[t]=t-n+d,x[n]=d,o.open=!1,s.end=t,s.close=!1,a=-1,v=-2;break}a!==-1&&(p[o.marker][(o.open?3:0)+(o.length||0)%3]=a)}}}return Yu=function(t){var n,o=t.tokens_meta,s=t.tokens_meta.length;for(r(t.delimiters),n=0;n<s;n++)o[n]&&o[n].delimiters&&r(o[n].delimiters)},Yu}var Xu,N0;function Eoe(){return N0||(N0=1,Xu=function(e){var t,n,o=0,s=e.tokens,c=e.tokens.length;for(t=n=0;t<c;t++)s[t].nesting<0&&o--,s[t].level=o,s[t].nesting>0&&o++,s[t].type==="text"&&t+1<c&&s[t+1].type==="text"?s[t+1].content=s[t].content+s[t+1].content:(t!==n&&(s[n]=s[t]),n++);t!==n&&(s.length=n)}),Xu}var ef,O0;function _oe(){if(O0)return ef;O0=1;var r=od(),e=Ee().isWhiteSpace,t=Ee().isPunctChar,n=Ee().isMdAsciiPunct;function o(s,c,a,f){this.src=s,this.env=a,this.md=c,this.tokens=f,this.tokens_meta=Array(f.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}return o.prototype.pushPending=function(){var s=new r("text","",0);return s.content=this.pending,s.level=this.pendingLevel,this.tokens.push(s),this.pending="",s},o.prototype.push=function(s,c,a){this.pending&&this.pushPending();var f=new r(s,c,a),d=null;return a<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),f.level=this.level,a>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],d={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(f),this.tokens_meta.push(d),f},o.prototype.scanDelims=function(s,c){var a=s,f,d,p,m,k,v,x,w,C,E=!0,A=!0,b=this.posMax,T=this.src.charCodeAt(s);for(f=s>0?this.src.charCodeAt(s-1):32;a<b&&this.src.charCodeAt(a)===T;)a++;return p=a-s,d=a<b?this.src.charCodeAt(a):32,x=n(f)||t(String.fromCharCode(f)),C=n(d)||t(String.fromCharCode(d)),v=e(f),w=e(d),w?E=!1:C&&(v||x||(E=!1)),v?A=!1:x&&(w||C||(A=!1)),c?(m=E,k=A):(m=E&&(!A||x),k=A&&(!E||C)),{can_open:m,can_close:k,length:p}},o.prototype.Token=r,ef=o,ef}var tf,R0;function boe(){if(R0)return tf;R0=1;var r=rd(),e=[["text",hoe()],["linkify",poe()],["newline",moe()],["escape",goe()],["backticks",yoe()],["strikethrough",w0().tokenize],["emphasis",E0().tokenize],["link",koe()],["image",voe()],["autolink",xoe()],["html_inline",Soe()],["entity",woe()]],t=[["balance_pairs",Coe()],["strikethrough",w0().postProcess],["emphasis",E0().postProcess],["fragments_join",Eoe()]];function n(){var o;for(this.ruler=new r,o=0;o<e.length;o++)this.ruler.push(e[o][0],e[o][1]);for(this.ruler2=new r,o=0;o<t.length;o++)this.ruler2.push(t[o][0],t[o][1])}return n.prototype.skipToken=function(o){var s,c,a=o.pos,f=this.ruler.getRules(""),d=f.length,p=o.md.options.maxNesting,m=o.cache;if(typeof m[a]<"u"){o.pos=m[a];return}if(o.level<p){for(c=0;c<d;c++)if(o.level++,s=f[c](o,!0),o.level--,s){if(a>=o.pos)throw new Error("inline rule didn't increment state.pos");break}}else o.pos=o.posMax;s||o.pos++,m[a]=o.pos},n.prototype.tokenize=function(o){for(var s,c,a,f=this.ruler.getRules(""),d=f.length,p=o.posMax,m=o.md.options.maxNesting;o.pos<p;){if(a=o.pos,o.level<m){for(c=0;c<d;c++)if(s=f[c](o,!1),s){if(a>=o.pos)throw new Error("inline rule didn't increment state.pos");break}}if(s){if(o.pos>=p)break;continue}o.pending+=o.src[o.pos++]}o.pending&&o.pushPending()},n.prototype.parse=function(o,s,c,a){var f,d,p,m=new this.State(o,s,c,a);for(this.tokenize(m),d=this.ruler2.getRules(""),p=d.length,f=0;f<p;f++)d[f](m)},n.prototype.State=_oe(),tf=n,tf}var nf,I0;function Moe(){return I0||(I0=1,nf=function(r){var e={};r=r||{},e.src_Any=A1().source,e.src_Cc=D1().source,e.src_Z=N1().source,e.src_P=nd().source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");var t="[><｜]";return e.src_pseudo_letter="(?:(?!"+t+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+t+"|"+e.src_ZPCc+")(?!"+(r["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+t+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(r["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+t+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}),nf}var rf,P0;function Toe(){if(P0)return rf;P0=1;function r(b){var T=Array.prototype.slice.call(arguments,1);return T.forEach(function(I){I&&Object.keys(I).forEach(function(O){b[O]=I[O]})}),b}function e(b){return Object.prototype.toString.call(b)}function t(b){return e(b)==="[object String]"}function n(b){return e(b)==="[object Object]"}function o(b){return e(b)==="[object RegExp]"}function s(b){return e(b)==="[object Function]"}function c(b){return b.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var a={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function f(b){return Object.keys(b||{}).reduce(function(T,I){return T||a.hasOwnProperty(I)},!1)}var d={"http:":{validate:function(b,T,I){var O=b.slice(T);return I.re.http||(I.re.http=new RegExp("^\\/\\/"+I.re.src_auth+I.re.src_host_port_strict+I.re.src_path,"i")),I.re.http.test(O)?O.match(I.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(b,T,I){var O=b.slice(T);return I.re.no_http||(I.re.no_http=new RegExp("^"+I.re.src_auth+"(?:localhost|(?:(?:"+I.re.src_domain+")\\.)+"+I.re.src_domain_root+")"+I.re.src_port+I.re.src_host_terminator+I.re.src_path,"i")),I.re.no_http.test(O)?T>=3&&b[T-3]===":"||T>=3&&b[T-3]==="/"?0:O.match(I.re.no_http)[0].length:0}},"mailto:":{validate:function(b,T,I){var O=b.slice(T);return I.re.mailto||(I.re.mailto=new RegExp("^"+I.re.src_email_name+"@"+I.re.src_host_strict,"i")),I.re.mailto.test(O)?O.match(I.re.mailto)[0].length:0}}},p="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",m="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function k(b){b.__index__=-1,b.__text_cache__=""}function v(b){return function(T,I){var O=T.slice(I);return b.test(O)?O.match(b)[0].length:0}}function x(){return function(b,T){T.normalize(b)}}function w(b){var T=b.re=Moe()(b.__opts__),I=b.__tlds__.slice();b.onCompile(),b.__tlds_replaced__||I.push(p),I.push(T.src_xn),T.src_tlds=I.join("|");function O(K){return K.replace("%TLDS%",T.src_tlds)}T.email_fuzzy=RegExp(O(T.tpl_email_fuzzy),"i"),T.link_fuzzy=RegExp(O(T.tpl_link_fuzzy),"i"),T.link_no_ip_fuzzy=RegExp(O(T.tpl_link_no_ip_fuzzy),"i"),T.host_fuzzy_test=RegExp(O(T.tpl_host_fuzzy_test),"i");var W=[];b.__compiled__={};function L(K,X){throw new Error('(LinkifyIt) Invalid schema "'+K+'": '+X)}Object.keys(b.__schemas__).forEach(function(K){var X=b.__schemas__[K];if(X!==null){var ae={validate:null,link:null};if(b.__compiled__[K]=ae,n(X)){o(X.validate)?ae.validate=v(X.validate):s(X.validate)?ae.validate=X.validate:L(K,X),s(X.normalize)?ae.normalize=X.normalize:X.normalize?L(K,X):ae.normalize=x();return}if(t(X)){W.push(K);return}L(K,X)}}),W.forEach(function(K){b.__compiled__[b.__schemas__[K]]&&(b.__compiled__[K].validate=b.__compiled__[b.__schemas__[K]].validate,b.__compiled__[K].normalize=b.__compiled__[b.__schemas__[K]].normalize)}),b.__compiled__[""]={validate:null,normalize:x()};var F=Object.keys(b.__compiled__).filter(function(K){return K.length>0&&b.__compiled__[K]}).map(c).join("|");b.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+T.src_ZPCc+"))("+F+")","i"),b.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+T.src_ZPCc+"))("+F+")","ig"),b.re.schema_at_start=RegExp("^"+b.re.schema_search.source,"i"),b.re.pretest=RegExp("("+b.re.schema_test.source+")|("+b.re.host_fuzzy_test.source+")|@","i"),k(b)}function C(b,T){var I=b.__index__,O=b.__last_index__,W=b.__text_cache__.slice(I,O);this.schema=b.__schema__.toLowerCase(),this.index=I+T,this.lastIndex=O+T,this.raw=W,this.text=W,this.url=W}function E(b,T){var I=new C(b,T);return b.__compiled__[I.schema].normalize(I,b),I}function A(b,T){if(!(this instanceof A))return new A(b,T);T||f(b)&&(T=b,b={}),this.__opts__=r({},a,T),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},d,b),this.__compiled__={},this.__tlds__=m,this.__tlds_replaced__=!1,this.re={},w(this)}return A.prototype.add=function(T,I){return this.__schemas__[T]=I,w(this),this},A.prototype.set=function(T){return this.__opts__=r(this.__opts__,T),this},A.prototype.test=function(T){if(this.__text_cache__=T,this.__index__=-1,!T.length)return!1;var I,O,W,L,F,K,X,ae,xe;if(this.re.schema_test.test(T)){for(X=this.re.schema_search,X.lastIndex=0;(I=X.exec(T))!==null;)if(L=this.testSchemaAt(T,I[2],X.lastIndex),L){this.__schema__=I[2],this.__index__=I.index+I[1].length,this.__last_index__=I.index+I[0].length+L;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(ae=T.search(this.re.host_fuzzy_test),ae>=0&&(this.__index__<0||ae<this.__index__)&&(O=T.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(F=O.index+O[1].length,(this.__index__<0||F<this.__index__)&&(this.__schema__="",this.__index__=F,this.__last_index__=O.index+O[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(xe=T.indexOf("@"),xe>=0&&(W=T.match(this.re.email_fuzzy))!==null&&(F=W.index+W[1].length,K=W.index+W[0].length,(this.__index__<0||F<this.__index__||F===this.__index__&&K>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=F,this.__last_index__=K))),this.__index__>=0},A.prototype.pretest=function(T){return this.re.pretest.test(T)},A.prototype.testSchemaAt=function(T,I,O){return this.__compiled__[I.toLowerCase()]?this.__compiled__[I.toLowerCase()].validate(T,O,this):0},A.prototype.match=function(T){var I=0,O=[];this.__index__>=0&&this.__text_cache__===T&&(O.push(E(this,I)),I=this.__last_index__);for(var W=I?T.slice(I):T;this.test(W);)O.push(E(this,I)),W=W.slice(this.__last_index__),I+=this.__last_index__;return O.length?O:null},A.prototype.matchAtStart=function(T){if(this.__text_cache__=T,this.__index__=-1,!T.length)return null;var I=this.re.schema_at_start.exec(T);if(!I)return null;var O=this.testSchemaAt(T,I[2],I[0].length);return O?(this.__schema__=I[2],this.__index__=I.index+I[1].length,this.__last_index__=I.index+I[0].length+O,E(this,0)):null},A.prototype.tlds=function(T,I){return T=Array.isArray(T)?T:[T],I?(this.__tlds__=this.__tlds__.concat(T).sort().filter(function(O,W,L){return O!==L[W-1]}).reverse(),w(this),this):(this.__tlds__=T.slice(),this.__tlds_replaced__=!0,w(this),this)},A.prototype.normalize=function(T){T.schema||(T.url="http://"+T.url),T.schema==="mailto:"&&!/^mailto:/i.test(T.url)&&(T.url="mailto:"+T.url)},A.prototype.onCompile=function(){},rf=A,rf}const xo=2147483647,un=36,id=1,Ni=26,Aoe=38,Doe=700,R1=72,I1=128,P1="-",Noe=/^xn--/,Ooe=/[^\0-\x7F]/,Roe=/[\x2E\u3002\uFF0E\uFF61]/g,Ioe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},of=un-id,fn=Math.floor,sf=String.fromCharCode;function Jn(r){throw new RangeError(Ioe[r])}function Poe(r,e){const t=[];let n=r.length;for(;n--;)t[n]=e(r[n]);return t}function z1(r,e){const t=r.split("@");let n="";t.length>1&&(n=t[0]+"@",r=t[1]),r=r.replace(Roe,".");const o=r.split("."),s=Poe(o,e).join(".");return n+s}function sd(r){const e=[];let t=0;const n=r.length;for(;t<n;){const o=r.charCodeAt(t++);if(o>=55296&&o<=56319&&t<n){const s=r.charCodeAt(t++);(s&64512)==56320?e.push(((o&1023)<<10)+(s&1023)+65536):(e.push(o),t--)}else e.push(o)}return e}const L1=r=>String.fromCodePoint(...r),zoe=function(r){return r>=48&&r<58?26+(r-48):r>=65&&r<91?r-65:r>=97&&r<123?r-97:un},z0=function(r,e){return r+22+75*(r<26)-((e!=0)<<5)},F1=function(r,e,t){let n=0;for(r=t?fn(r/Doe):r>>1,r+=fn(r/e);r>of*Ni>>1;n+=un)r=fn(r/of);return fn(n+(of+1)*r/(r+Aoe))},ld=function(r){const e=[],t=r.length;let n=0,o=I1,s=R1,c=r.lastIndexOf(P1);c<0&&(c=0);for(let a=0;a<c;++a)r.charCodeAt(a)>=128&&Jn("not-basic"),e.push(r.charCodeAt(a));for(let a=c>0?c+1:0;a<t;){const f=n;for(let p=1,m=un;;m+=un){a>=t&&Jn("invalid-input");const k=zoe(r.charCodeAt(a++));k>=un&&Jn("invalid-input"),k>fn((xo-n)/p)&&Jn("overflow"),n+=k*p;const v=m<=s?id:m>=s+Ni?Ni:m-s;if(k<v)break;const x=un-v;p>fn(xo/x)&&Jn("overflow"),p*=x}const d=e.length+1;s=F1(n-f,d,f==0),fn(n/d)>xo-o&&Jn("overflow"),o+=fn(n/d),n%=d,e.splice(n++,0,o)}return String.fromCodePoint(...e)},cd=function(r){const e=[];r=sd(r);const t=r.length;let n=I1,o=0,s=R1;for(const f of r)f<128&&e.push(sf(f));const c=e.length;let a=c;for(c&&e.push(P1);a<t;){let f=xo;for(const p of r)p>=n&&p<f&&(f=p);const d=a+1;f-n>fn((xo-o)/d)&&Jn("overflow"),o+=(f-n)*d,n=f;for(const p of r)if(p<n&&++o>xo&&Jn("overflow"),p===n){let m=o;for(let k=un;;k+=un){const v=k<=s?id:k>=s+Ni?Ni:k-s;if(m<v)break;const x=m-v,w=un-v;e.push(sf(z0(v+x%w,0))),m=fn(x/w)}e.push(sf(z0(m,0))),s=F1(o,d,a===c),o=0,++a}++o,++n}return e.join("")},B1=function(r){return z1(r,function(e){return Noe.test(e)?ld(e.slice(4).toLowerCase()):e})},q1=function(r){return z1(r,function(e){return Ooe.test(e)?"xn--"+cd(e):e})},Loe={version:"2.3.1",ucs2:{decode:sd,encode:L1},decode:ld,encode:cd,toASCII:q1,toUnicode:B1},Foe=Object.freeze(Object.defineProperty({__proto__:null,decode:ld,default:Loe,encode:cd,toASCII:q1,toUnicode:B1,ucs2decode:sd,ucs2encode:L1},Symbol.toStringTag,{value:"Module"})),Boe=Lv(Foe);var lf,L0;function qoe(){return L0||(L0=1,lf={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}),lf}var cf,F0;function Voe(){return F0||(F0=1,cf={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}}),cf}var af,B0;function $oe(){return B0||(B0=1,af={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}),af}var uf,q0;function joe(){if(q0)return uf;q0=1;var r=Ee(),e=$re(),t=jre(),n=Yre(),o=doe(),s=boe(),c=Toe(),a=T1(),f=Boe,d={default:qoe(),zero:Voe(),commonmark:$oe()},p=/^(vbscript|javascript|file|data):/,m=/^data:image\/(gif|png|jpeg|webp);/;function k(E){var A=E.trim().toLowerCase();return p.test(A)?!!m.test(A):!0}var v=["http:","https:","mailto:"];function x(E){var A=a.parse(E,!0);if(A.hostname&&(!A.protocol||v.indexOf(A.protocol)>=0))try{A.hostname=f.toASCII(A.hostname)}catch{}return a.encode(a.format(A))}function w(E){var A=a.parse(E,!0);if(A.hostname&&(!A.protocol||v.indexOf(A.protocol)>=0))try{A.hostname=f.toUnicode(A.hostname)}catch{}return a.decode(a.format(A),a.decode.defaultChars+"%")}function C(E,A){if(!(this instanceof C))return new C(E,A);A||r.isString(E)||(A=E||{},E="default"),this.inline=new s,this.block=new o,this.core=new n,this.renderer=new t,this.linkify=new c,this.validateLink=k,this.normalizeLink=x,this.normalizeLinkText=w,this.utils=r,this.helpers=r.assign({},e),this.options={},this.configure(E),A&&this.set(A)}return C.prototype.set=function(E){return r.assign(this.options,E),this},C.prototype.configure=function(E){var A=this,b;if(r.isString(E)&&(b=E,E=d[b],!E))throw new Error('Wrong `markdown-it` preset "'+b+'", check name');if(!E)throw new Error("Wrong `markdown-it` preset, can't be empty");return E.options&&A.set(E.options),E.components&&Object.keys(E.components).forEach(function(T){E.components[T].rules&&A[T].ruler.enableOnly(E.components[T].rules),E.components[T].rules2&&A[T].ruler2.enableOnly(E.components[T].rules2)}),this},C.prototype.enable=function(E,A){var b=[];Array.isArray(E)||(E=[E]),["core","block","inline"].forEach(function(I){b=b.concat(this[I].ruler.enable(E,!0))},this),b=b.concat(this.inline.ruler2.enable(E,!0));var T=E.filter(function(I){return b.indexOf(I)<0});if(T.length&&!A)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+T);return this},C.prototype.disable=function(E,A){var b=[];Array.isArray(E)||(E=[E]),["core","block","inline"].forEach(function(I){b=b.concat(this[I].ruler.disable(E,!0))},this),b=b.concat(this.inline.ruler2.disable(E,!0));var T=E.filter(function(I){return b.indexOf(I)<0});if(T.length&&!A)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+T);return this},C.prototype.use=function(E){var A=[this].concat(Array.prototype.slice.call(arguments,1));return E.apply(E,A),this},C.prototype.parse=function(E,A){if(typeof E!="string")throw new Error("Input data should be a String");var b=new this.core.State(E,this,A);return this.core.process(b),b.tokens},C.prototype.render=function(E,A){return A=A||{},this.renderer.render(this.parse(E,A),this.options,A)},C.prototype.parseInline=function(E,A){var b=new this.core.State(E,this,A);return b.inlineMode=!0,this.core.process(b),b.tokens},C.prototype.renderInline=function(E,A){return A=A||{},this.renderer.render(this.parseInline(E,A),this.options,A)},uf=C,uf}var ff,V0;function Hoe(){return V0||(V0=1,ff=joe()),ff}var Uoe=Hoe();const Woe=Of(Uoe),Koe=()=>{const[r,e]=Le.useState(""),t=a_({extensions:[db,pb],content:"<p>Start writing ✍️</p>",onUpdate:({editor:p})=>{e(p.getHTML())}}),n=Le.useRef(null),o=Le.useCallback(p=>{t&&t.chain().focus().setImage({src:p}).run()},[t]),s=Le.useCallback(p=>{var v;const m=(v=p.target.files)==null?void 0:v[0];if(!m)return;if(!m.type.startsWith("image/")){alert("画像ファイルを選択してください");return}if(m.size>5*1024*1024){alert("ファイルサイズは5MB以下にしてください");return}const k=new FileReader;k.onload=x=>{var C;const w=(C=x.target)==null?void 0:C.result;typeof w=="string"&&o(w)},k.onerror=()=>{alert("画像の読み込みに失敗しました")},k.readAsDataURL(m),p.target.value=""},[o]),c=Le.useCallback(()=>{var p;(p=n.current)==null||p.click()},[]),a=Le.useCallback(()=>{if(!t)return;const p=new Woe,m=t.getHTML(),k=p.render(m),v=new Blob([k],{type:"text/markdown"}),x=URL.createObjectURL(v),w=document.createElement("a"),C=new Date().toISOString().replace(/[:.]/g,"-");w.href=x,w.download=`dad-notes-${C}.md`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(x),console.log("保存された内容 (Markdown):",k)},[t]),f=Le.useCallback(()=>{if(!t)return;const p=t.getHTML(),m=`
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Saved dad-notes</title>
    <style>
        body { max-width: 800px; margin: 40px auto; padding: 0 20px; }
        img { max-width: 100%; height: auto; }
    </style>
</head>
<body>
    ${p}
</body>
</html>`,k=new Blob([m],{type:"text/html"}),v=URL.createObjectURL(k),x=document.createElement("a"),w=new Date().toISOString().replace(/[:.]/g,"-");x.href=v,x.download=`dad-notes-${w}.html`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(v),console.log("保存された内容:",p)},[t]),d=Le.useCallback(()=>{t&&window.confirm("エディタの内容をリセットしますか？")&&(t.commands.setContent("<p>Start writing ✍️</p>"),e("<p>Start writing ✍️</p>"))},[t]);return Ge.jsxs("div",{className:"editor-container",children:[Ge.jsx("div",{className:"editor-main",children:Ge.jsx(YE,{editor:t})}),Ge.jsx("div",{className:"editor-source",children:Ge.jsx("pre",{children:Ge.jsx("code",{children:r})})}),Ge.jsxs("div",{className:"button-container",children:[Ge.jsx("button",{type:"button",onClick:c,children:"画像を挿入"}),Ge.jsx("button",{type:"button",onClick:a,children:"Markdownとして保存"}),Ge.jsx("button",{type:"button",onClick:f,children:"HTMLとして保存"}),Ge.jsx("button",{type:"button",onClick:d,className:"reset-button",children:"リセット"})]}),Ge.jsx("input",{ref:n,type:"file",accept:"image/*",onChange:s,style:{display:"none"}})]})},Joe=()=>Ge.jsxs("div",{children:[Ge.jsx("h1",{children:"dad-tiptap-editor"}),Ge.jsx(Koe,{}),Ge.jsx("img",{src:"/IMGSS_dte.jpg",alt:"IMGSS_dte"})]});Uv.createRoot(document.getElementById("root")).render(Ge.jsx(Le.StrictMode,{children:Ge.jsx(Joe,{})}));
