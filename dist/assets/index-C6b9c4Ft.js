(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();function _f(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function yv(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var o=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return r[n]}})}),t}var Ea={exports:{}},ai={},_a={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function kv(){if(Wp)return ge;Wp=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(N){return N===null||typeof N!="object"?null:(N=m&&N[m]||N["@@iterator"],typeof N=="function"?N:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function C(N,q,fe){this.props=N,this.context=q,this.refs=w,this.updater=fe||k}C.prototype.isReactComponent={},C.prototype.setState=function(N,q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,q,"setState")},C.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function E(){}E.prototype=C.prototype;function A(N,q,fe){this.props=N,this.context=q,this.refs=w,this.updater=fe||k}var b=A.prototype=new E;b.constructor=A,x(b,C.prototype),b.isPureReactComponent=!0;var T=Array.isArray,I=Object.prototype.hasOwnProperty,O={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function L(N,q,fe){var ye,Se={},we=null,Te=null;if(q!=null)for(ye in q.ref!==void 0&&(Te=q.ref),q.key!==void 0&&(we=""+q.key),q)I.call(q,ye)&&!W.hasOwnProperty(ye)&&(Se[ye]=q[ye]);var _e=arguments.length-2;if(_e===1)Se.children=fe;else if(1<_e){for(var Oe=Array(_e),At=0;At<_e;At++)Oe[At]=arguments[At+2];Se.children=Oe}if(N&&N.defaultProps)for(ye in _e=N.defaultProps,_e)Se[ye]===void 0&&(Se[ye]=_e[ye]);return{$$typeof:r,type:N,key:we,ref:Te,props:Se,_owner:O.current}}function F(N,q){return{$$typeof:r,type:N.type,key:q,ref:N.ref,props:N.props,_owner:N._owner}}function K(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function X(N){var q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(fe){return q[fe]})}var ae=/\/+/g;function xe(N,q){return typeof N=="object"&&N!==null&&N.key!=null?X(""+N.key):q.toString(36)}function V(N,q,fe,ye,Se){var we=typeof N;(we==="undefined"||we==="boolean")&&(N=null);var Te=!1;if(N===null)Te=!0;else switch(we){case"string":case"number":Te=!0;break;case"object":switch(N.$$typeof){case r:case e:Te=!0}}if(Te)return Te=N,Se=Se(Te),N=ye===""?"."+xe(Te,0):ye,T(Se)?(fe="",N!=null&&(fe=N.replace(ae,"$&/")+"/"),V(Se,q,fe,"",function(At){return At})):Se!=null&&(K(Se)&&(Se=F(Se,fe+(!Se.key||Te&&Te.key===Se.key?"":(""+Se.key).replace(ae,"$&/")+"/")+N)),q.push(Se)),1;if(Te=0,ye=ye===""?".":ye+":",T(N))for(var _e=0;_e<N.length;_e++){we=N[_e];var Oe=ye+xe(we,_e);Te+=V(we,q,fe,Oe,Se)}else if(Oe=v(N),typeof Oe=="function")for(N=Oe.call(N),_e=0;!(we=N.next()).done;)we=we.value,Oe=ye+xe(we,_e++),Te+=V(we,q,fe,Oe,Se);else if(we==="object")throw q=String(N),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Te}function he(N,q,fe){if(N==null)return N;var ye=[],Se=0;return V(N,ye,"","",function(we){return q.call(fe,we,Se++)}),ye}function pe(N){if(N._status===-1){var q=N._result;q=q(),q.then(function(fe){(N._status===0||N._status===-1)&&(N._status=1,N._result=fe)},function(fe){(N._status===0||N._status===-1)&&(N._status=2,N._result=fe)}),N._status===-1&&(N._status=0,N._result=q)}if(N._status===1)return N._result.default;throw N._result}var ke={current:null},G={transition:null},Y={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:G,ReactCurrentOwner:O};function B(){throw Error("act(...) is not supported in production builds of React.")}return ge.Children={map:he,forEach:function(N,q,fe){he(N,function(){q.apply(this,arguments)},fe)},count:function(N){var q=0;return he(N,function(){q++}),q},toArray:function(N){return he(N,function(q){return q})||[]},only:function(N){if(!K(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ge.Component=C,ge.Fragment=t,ge.Profiler=o,ge.PureComponent=A,ge.StrictMode=n,ge.Suspense=f,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,ge.act=B,ge.cloneElement=function(N,q,fe){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ye=x({},N.props),Se=N.key,we=N.ref,Te=N._owner;if(q!=null){if(q.ref!==void 0&&(we=q.ref,Te=O.current),q.key!==void 0&&(Se=""+q.key),N.type&&N.type.defaultProps)var _e=N.type.defaultProps;for(Oe in q)I.call(q,Oe)&&!W.hasOwnProperty(Oe)&&(ye[Oe]=q[Oe]===void 0&&_e!==void 0?_e[Oe]:q[Oe])}var Oe=arguments.length-2;if(Oe===1)ye.children=fe;else if(1<Oe){_e=Array(Oe);for(var At=0;At<Oe;At++)_e[At]=arguments[At+2];ye.children=_e}return{$$typeof:r,type:N.type,key:Se,ref:we,props:ye,_owner:Te}},ge.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:s,_context:N},N.Consumer=N},ge.createElement=L,ge.createFactory=function(N){var q=L.bind(null,N);return q.type=N,q},ge.createRef=function(){return{current:null}},ge.forwardRef=function(N){return{$$typeof:a,render:N}},ge.isValidElement=K,ge.lazy=function(N){return{$$typeof:p,_payload:{_status:-1,_result:N},_init:pe}},ge.memo=function(N,q){return{$$typeof:d,type:N,compare:q===void 0?null:q}},ge.startTransition=function(N){var q=G.transition;G.transition={};try{N()}finally{G.transition=q}},ge.unstable_act=B,ge.useCallback=function(N,q){return ke.current.useCallback(N,q)},ge.useContext=function(N){return ke.current.useContext(N)},ge.useDebugValue=function(){},ge.useDeferredValue=function(N){return ke.current.useDeferredValue(N)},ge.useEffect=function(N,q){return ke.current.useEffect(N,q)},ge.useId=function(){return ke.current.useId()},ge.useImperativeHandle=function(N,q,fe){return ke.current.useImperativeHandle(N,q,fe)},ge.useInsertionEffect=function(N,q){return ke.current.useInsertionEffect(N,q)},ge.useLayoutEffect=function(N,q){return ke.current.useLayoutEffect(N,q)},ge.useMemo=function(N,q){return ke.current.useMemo(N,q)},ge.useReducer=function(N,q,fe){return ke.current.useReducer(N,q,fe)},ge.useRef=function(N){return ke.current.useRef(N)},ge.useState=function(N){return ke.current.useState(N)},ge.useSyncExternalStore=function(N,q,fe){return ke.current.useSyncExternalStore(N,q,fe)},ge.useTransition=function(){return ke.current.useTransition()},ge.version="18.3.1",ge}var Kp;function bf(){return Kp||(Kp=1,_a.exports=kv()),_a.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function vv(){if(Jp)return ai;Jp=1;var r=bf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(a,f,d){var p,m={},v=null,k=null;d!==void 0&&(v=""+d),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(k=f.ref);for(p in f)n.call(f,p)&&!s.hasOwnProperty(p)&&(m[p]=f[p]);if(a&&a.defaultProps)for(p in f=a.defaultProps,f)m[p]===void 0&&(m[p]=f[p]);return{$$typeof:e,type:a,key:v,ref:k,props:m,_owner:o.current}}return ai.Fragment=t,ai.jsx=c,ai.jsxs=c,ai}var Gp;function xv(){return Gp||(Gp=1,Ea.exports=vv()),Ea.exports}var tt=xv(),Le=bf();const mt=_f(Le);var Vs={},ba={exports:{}},bt={},Ma={exports:{}},Ta={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function Sv(){return Qp||(Qp=1,function(r){function e(G,Y){var B=G.length;G.push(Y);e:for(;0<B;){var N=B-1>>>1,q=G[N];if(0<o(q,Y))G[N]=Y,G[B]=q,B=N;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var Y=G[0],B=G.pop();if(B!==Y){G[0]=B;e:for(var N=0,q=G.length,fe=q>>>1;N<fe;){var ye=2*(N+1)-1,Se=G[ye],we=ye+1,Te=G[we];if(0>o(Se,B))we<q&&0>o(Te,Se)?(G[N]=Te,G[we]=B,N=we):(G[N]=Se,G[ye]=B,N=ye);else if(we<q&&0>o(Te,B))G[N]=Te,G[we]=B,N=we;else break e}}return Y}function o(G,Y){var B=G.sortIndex-Y.sortIndex;return B!==0?B:G.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var c=Date,a=c.now();r.unstable_now=function(){return c.now()-a}}var f=[],d=[],p=1,m=null,v=3,k=!1,x=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(G){for(var Y=t(d);Y!==null;){if(Y.callback===null)n(d);else if(Y.startTime<=G)n(d),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=t(d)}}function T(G){if(w=!1,b(G),!x)if(t(f)!==null)x=!0,pe(I);else{var Y=t(d);Y!==null&&ke(T,Y.startTime-G)}}function I(G,Y){x=!1,w&&(w=!1,E(L),L=-1),k=!0;var B=v;try{for(b(Y),m=t(f);m!==null&&(!(m.expirationTime>Y)||G&&!X());){var N=m.callback;if(typeof N=="function"){m.callback=null,v=m.priorityLevel;var q=N(m.expirationTime<=Y);Y=r.unstable_now(),typeof q=="function"?m.callback=q:m===t(f)&&n(f),b(Y)}else n(f);m=t(f)}if(m!==null)var fe=!0;else{var ye=t(d);ye!==null&&ke(T,ye.startTime-Y),fe=!1}return fe}finally{m=null,v=B,k=!1}}var O=!1,W=null,L=-1,F=5,K=-1;function X(){return!(r.unstable_now()-K<F)}function ae(){if(W!==null){var G=r.unstable_now();K=G;var Y=!0;try{Y=W(!0,G)}finally{Y?xe():(O=!1,W=null)}}else O=!1}var xe;if(typeof A=="function")xe=function(){A(ae)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,he=V.port2;V.port1.onmessage=ae,xe=function(){he.postMessage(null)}}else xe=function(){C(ae,0)};function pe(G){W=G,O||(O=!0,xe())}function ke(G,Y){L=C(function(){G(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){x||k||(x=!0,pe(I))},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_getFirstCallbackNode=function(){return t(f)},r.unstable_next=function(G){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var B=v;v=Y;try{return G()}finally{v=B}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var B=v;v=G;try{return Y()}finally{v=B}},r.unstable_scheduleCallback=function(G,Y,B){var N=r.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?N+B:N):B=N,G){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=B+q,G={id:p++,callback:Y,priorityLevel:G,startTime:B,expirationTime:q,sortIndex:-1},B>N?(G.sortIndex=B,e(d,G),t(f)===null&&G===t(d)&&(w?(E(L),L=-1):w=!0,ke(T,B-N))):(G.sortIndex=q,e(f,G),x||k||(x=!0,pe(I))),G},r.unstable_shouldYield=X,r.unstable_wrapCallback=function(G){var Y=v;return function(){var B=v;v=Y;try{return G.apply(this,arguments)}finally{v=B}}}}(Ta)),Ta}var Zp;function wv(){return Zp||(Zp=1,Ma.exports=Sv()),Ma.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function Cv(){if(Yp)return bt;Yp=1;var r=bf(),e=wv();function t(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function s(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(o[i]=l,i=0;i<l.length;i++)n.add(l[i])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(i){return f.call(m,i)?!0:f.call(p,i)?!1:d.test(i)?m[i]=!0:(p[i]=!0,!1)}function k(i,l,u,h){if(u!==null&&u.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,l,u,h){if(l===null||typeof l>"u"||k(i,l,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(i,l,u,h,g,y,S){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=l,this.sanitizeURL=y,this.removeEmptyString=S}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new w(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];C[l]=new w(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new w(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new w(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new w(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new w(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new w(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new w(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new w(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function A(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(E,A);C[l]=new w(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(E,A);C[l]=new w(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(E,A);C[l]=new w(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new w(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new w(i,1,!1,i.toLowerCase(),null,!0,!0)});function b(i,l,u,h){var g=C.hasOwnProperty(l)?C[l]:null;(g!==null?g.type!==0:h||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(x(l,u,g,h)&&(u=null),h||g===null?v(l)&&(u===null?i.removeAttribute(l):i.setAttribute(l,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(l=g.attributeName,h=g.attributeNamespace,u===null?i.removeAttribute(l):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,h?i.setAttributeNS(h,l,u):i.setAttribute(l,u))))}var T=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),O=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),X=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),G=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=G&&i[G]||i["@@iterator"],typeof i=="function"?i:null)}var B=Object.assign,N;function q(i){if(N===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);N=l&&l[1]||""}return`
`+N+i}var fe=!1;function ye(i,l){if(!i||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(z){var h=z}Reflect.construct(i,[],l)}else{try{l.call()}catch(z){h=z}i.call(l.prototype)}else{try{throw Error()}catch(z){h=z}i()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var g=z.stack.split(`
`),y=h.stack.split(`
`),S=g.length-1,_=y.length-1;1<=S&&0<=_&&g[S]!==y[_];)_--;for(;1<=S&&0<=_;S--,_--)if(g[S]!==y[_]){if(S!==1||_!==1)do if(S--,_--,0>_||g[S]!==y[_]){var M=`
`+g[S].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=S&&0<=_);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?q(i):""}function Se(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=ye(i.type,!1),i;case 11:return i=ye(i.type.render,!1),i;case 1:return i=ye(i.type,!0),i;default:return""}}function we(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case W:return"Fragment";case O:return"Portal";case F:return"Profiler";case L:return"StrictMode";case xe:return"Suspense";case V:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case X:return(i.displayName||"Context")+".Consumer";case K:return(i._context.displayName||"Context")+".Provider";case ae:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case he:return l=i.displayName||null,l!==null?l:we(i.type)||"Memo";case pe:l=i._payload,i=i._init;try{return we(i(l))}catch{}}return null}function Te(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(l);case 8:return l===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function _e(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Oe(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function At(i){var l=Oe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),h=""+i[l];if(!i.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return g.call(this)},set:function(S){h=""+S,y.call(this,S)}}),Object.defineProperty(i,l,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Di(i){i._valueTracker||(i._valueTracker=At(i))}function Yf(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),h="";return i&&(h=Oe(i)?i.checked?"true":"false":i.value),i=h,i!==u?(l.setValue(i),!0):!1}function Ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Nl(i,l){var u=l.checked;return B({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Xf(i,l){var u=l.defaultValue==null?"":l.defaultValue,h=l.checked!=null?l.checked:l.defaultChecked;u=_e(l.value!=null?l.value:u),i._wrapperState={initialChecked:h,initialValue:u,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ed(i,l){l=l.checked,l!=null&&b(i,"checked",l,!1)}function Ol(i,l){ed(i,l);var u=_e(l.value),h=l.type;if(u!=null)h==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?Rl(i,l.type,u):l.hasOwnProperty("defaultValue")&&Rl(i,l.type,_e(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function td(i,l,u){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var h=l.type;if(!(h!=="submit"&&h!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,u||l===i.value||(i.value=l),i.defaultValue=l}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Rl(i,l,u){(l!=="number"||Ni(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Eo=Array.isArray;function Ir(i,l,u,h){if(i=i.options,l){l={};for(var g=0;g<u.length;g++)l["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=l.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&h&&(i[u].defaultSelected=!0)}else{for(u=""+_e(u),l=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}l!==null||i[g].disabled||(l=i[g])}l!==null&&(l.selected=!0)}}function Il(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return B({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function nd(i,l){var u=l.value;if(u==null){if(u=l.children,l=l.defaultValue,u!=null){if(l!=null)throw Error(t(92));if(Eo(u)){if(1<u.length)throw Error(t(93));u=u[0]}l=u}l==null&&(l=""),u=l}i._wrapperState={initialValue:_e(u)}}function rd(i,l){var u=_e(l.value),h=_e(l.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),l.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),h!=null&&(i.defaultValue=""+h)}function od(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function id(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pl(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?id(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Oi,sd=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,u,h,g){MSApp.execUnsafeLocalFunction(function(){return i(l,u,h,g)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Oi=Oi||document.createElement("div"),Oi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Oi.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function _o(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S1=["Webkit","ms","Moz","O"];Object.keys(bo).forEach(function(i){S1.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),bo[l]=bo[i]})});function ld(i,l,u){return l==null||typeof l=="boolean"||l===""?"":u||typeof l!="number"||l===0||bo.hasOwnProperty(i)&&bo[i]?(""+l).trim():l+"px"}function cd(i,l){i=i.style;for(var u in l)if(l.hasOwnProperty(u)){var h=u.indexOf("--")===0,g=ld(u,l[u],h);u==="float"&&(u="cssFloat"),h?i.setProperty(u,g):i[u]=g}}var w1=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zl(i,l){if(l){if(w1[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Ll(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fl=null;function Bl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ql=null,Pr=null,zr=null;function ad(i){if(i=Jo(i)){if(typeof ql!="function")throw Error(t(280));var l=i.stateNode;l&&(l=ts(l),ql(i.stateNode,i.type,l))}}function ud(i){Pr?zr?zr.push(i):zr=[i]:Pr=i}function fd(){if(Pr){var i=Pr,l=zr;if(zr=Pr=null,ad(i),l)for(i=0;i<l.length;i++)ad(l[i])}}function dd(i,l){return i(l)}function hd(){}var Vl=!1;function pd(i,l,u){if(Vl)return i(l,u);Vl=!0;try{return dd(i,l,u)}finally{Vl=!1,(Pr!==null||zr!==null)&&(hd(),fd())}}function Mo(i,l){var u=i.stateNode;if(u===null)return null;var h=ts(u);if(h===null)return null;u=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,l,typeof u));return u}var $l=!1;if(a)try{var To={};Object.defineProperty(To,"passive",{get:function(){$l=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{$l=!1}function C1(i,l,u,h,g,y,S,_,M){var z=Array.prototype.slice.call(arguments,3);try{l.apply(u,z)}catch(j){this.onError(j)}}var Ao=!1,Ri=null,Ii=!1,jl=null,E1={onError:function(i){Ao=!0,Ri=i}};function _1(i,l,u,h,g,y,S,_,M){Ao=!1,Ri=null,C1.apply(E1,arguments)}function b1(i,l,u,h,g,y,S,_,M){if(_1.apply(this,arguments),Ao){if(Ao){var z=Ri;Ao=!1,Ri=null}else throw Error(t(198));Ii||(Ii=!0,jl=z)}}function sr(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,l.flags&4098&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function md(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function gd(i){if(sr(i)!==i)throw Error(t(188))}function M1(i){var l=i.alternate;if(!l){if(l=sr(i),l===null)throw Error(t(188));return l!==i?null:i}for(var u=i,h=l;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return gd(g),i;if(y===h)return gd(g),l;y=y.sibling}throw Error(t(188))}if(u.return!==h.return)u=g,h=y;else{for(var S=!1,_=g.child;_;){if(_===u){S=!0,u=g,h=y;break}if(_===h){S=!0,h=g,u=y;break}_=_.sibling}if(!S){for(_=y.child;_;){if(_===u){S=!0,u=y,h=g;break}if(_===h){S=!0,h=y,u=g;break}_=_.sibling}if(!S)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:l}function yd(i){return i=M1(i),i!==null?kd(i):null}function kd(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=kd(i);if(l!==null)return l;i=i.sibling}return null}var vd=e.unstable_scheduleCallback,xd=e.unstable_cancelCallback,T1=e.unstable_shouldYield,A1=e.unstable_requestPaint,Be=e.unstable_now,D1=e.unstable_getCurrentPriorityLevel,Hl=e.unstable_ImmediatePriority,Sd=e.unstable_UserBlockingPriority,Pi=e.unstable_NormalPriority,N1=e.unstable_LowPriority,wd=e.unstable_IdlePriority,zi=null,nn=null;function O1(i){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(zi,i,void 0,(i.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:P1,R1=Math.log,I1=Math.LN2;function P1(i){return i>>>=0,i===0?32:31-(R1(i)/I1|0)|0}var Li=64,Fi=4194304;function Do(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Bi(i,l){var u=i.pendingLanes;if(u===0)return 0;var h=0,g=i.suspendedLanes,y=i.pingedLanes,S=u&268435455;if(S!==0){var _=S&~g;_!==0?h=Do(_):(y&=S,y!==0&&(h=Do(y)))}else S=u&~g,S!==0?h=Do(S):y!==0&&(h=Do(y));if(h===0)return 0;if(l!==0&&l!==h&&!(l&g)&&(g=h&-h,y=l&-l,g>=y||g===16&&(y&4194240)!==0))return l;if(h&4&&(h|=u&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=h;0<l;)u=31-Ut(l),g=1<<u,h|=i[u],l&=~g;return h}function z1(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L1(i,l){for(var u=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes;0<y;){var S=31-Ut(y),_=1<<S,M=g[S];M===-1?(!(_&u)||_&h)&&(g[S]=z1(_,l)):M<=l&&(i.expiredLanes|=_),y&=~_}}function Ul(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Cd(){var i=Li;return Li<<=1,!(Li&4194240)&&(Li=64),i}function Wl(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function No(i,l,u){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Ut(l),i[l]=u}function F1(i,l){var u=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-Ut(u),y=1<<g;l[g]=0,h[g]=-1,i[g]=-1,u&=~y}}function Kl(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var h=31-Ut(u),g=1<<h;g&l|i[h]&l&&(i[h]|=l),u&=~g}}var be=0;function Ed(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var _d,Jl,bd,Md,Td,Gl=!1,qi=[],En=null,_n=null,bn=null,Oo=new Map,Ro=new Map,Mn=[],B1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ad(i,l){switch(i){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Oo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(l.pointerId)}}function Io(i,l,u,h,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:l,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},l!==null&&(l=Jo(l),l!==null&&Jl(l)),i):(i.eventSystemFlags|=h,l=i.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),i)}function q1(i,l,u,h,g){switch(l){case"focusin":return En=Io(En,i,l,u,h,g),!0;case"dragenter":return _n=Io(_n,i,l,u,h,g),!0;case"mouseover":return bn=Io(bn,i,l,u,h,g),!0;case"pointerover":var y=g.pointerId;return Oo.set(y,Io(Oo.get(y)||null,i,l,u,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Ro.set(y,Io(Ro.get(y)||null,i,l,u,h,g)),!0}return!1}function Dd(i){var l=lr(i.target);if(l!==null){var u=sr(l);if(u!==null){if(l=u.tag,l===13){if(l=md(u),l!==null){i.blockedOn=l,Td(i.priority,function(){bd(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vi(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Zl(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Fl=h,u.target.dispatchEvent(h),Fl=null}else return l=Jo(u),l!==null&&Jl(l),i.blockedOn=u,!1;l.shift()}return!0}function Nd(i,l,u){Vi(i)&&u.delete(l)}function V1(){Gl=!1,En!==null&&Vi(En)&&(En=null),_n!==null&&Vi(_n)&&(_n=null),bn!==null&&Vi(bn)&&(bn=null),Oo.forEach(Nd),Ro.forEach(Nd)}function Po(i,l){i.blockedOn===l&&(i.blockedOn=null,Gl||(Gl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,V1)))}function zo(i){function l(g){return Po(g,i)}if(0<qi.length){Po(qi[0],i);for(var u=1;u<qi.length;u++){var h=qi[u];h.blockedOn===i&&(h.blockedOn=null)}}for(En!==null&&Po(En,i),_n!==null&&Po(_n,i),bn!==null&&Po(bn,i),Oo.forEach(l),Ro.forEach(l),u=0;u<Mn.length;u++)h=Mn[u],h.blockedOn===i&&(h.blockedOn=null);for(;0<Mn.length&&(u=Mn[0],u.blockedOn===null);)Dd(u),u.blockedOn===null&&Mn.shift()}var Lr=T.ReactCurrentBatchConfig,$i=!0;function $1(i,l,u,h){var g=be,y=Lr.transition;Lr.transition=null;try{be=1,Ql(i,l,u,h)}finally{be=g,Lr.transition=y}}function j1(i,l,u,h){var g=be,y=Lr.transition;Lr.transition=null;try{be=4,Ql(i,l,u,h)}finally{be=g,Lr.transition=y}}function Ql(i,l,u,h){if($i){var g=Zl(i,l,u,h);if(g===null)pc(i,l,h,ji,u),Ad(i,h);else if(q1(g,i,l,u,h))h.stopPropagation();else if(Ad(i,h),l&4&&-1<B1.indexOf(i)){for(;g!==null;){var y=Jo(g);if(y!==null&&_d(y),y=Zl(i,l,u,h),y===null&&pc(i,l,h,ji,u),y===g)break;g=y}g!==null&&h.stopPropagation()}else pc(i,l,h,null,u)}}var ji=null;function Zl(i,l,u,h){if(ji=null,i=Bl(h),i=lr(i),i!==null)if(l=sr(i),l===null)i=null;else if(u=l.tag,u===13){if(i=md(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return ji=i,null}function Od(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D1()){case Hl:return 1;case Sd:return 4;case Pi:case N1:return 16;case wd:return 536870912;default:return 16}default:return 16}}var Tn=null,Yl=null,Hi=null;function Rd(){if(Hi)return Hi;var i,l=Yl,u=l.length,h,g="value"in Tn?Tn.value:Tn.textContent,y=g.length;for(i=0;i<u&&l[i]===g[i];i++);var S=u-i;for(h=1;h<=S&&l[u-h]===g[y-h];h++);return Hi=g.slice(i,1<h?1-h:void 0)}function Ui(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Wi(){return!0}function Id(){return!1}function Dt(i){function l(u,h,g,y,S){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var _ in i)i.hasOwnProperty(_)&&(u=i[_],this[_]=u?u(y):y[_]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Wi:Id,this.isPropagationStopped=Id,this}return B(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),l}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=Dt(Fr),Lo=B({},Fr,{view:0,detail:0}),H1=Dt(Lo),ec,tc,Fo,Ki=B({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fo&&(Fo&&i.type==="mousemove"?(ec=i.screenX-Fo.screenX,tc=i.screenY-Fo.screenY):tc=ec=0,Fo=i),ec)},movementY:function(i){return"movementY"in i?i.movementY:tc}}),Pd=Dt(Ki),U1=B({},Ki,{dataTransfer:0}),W1=Dt(U1),K1=B({},Lo,{relatedTarget:0}),nc=Dt(K1),J1=B({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),G1=Dt(J1),Q1=B({},Fr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Z1=Dt(Q1),Y1=B({},Fr,{data:0}),zd=Dt(Y1),X1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ek={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nk(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=tk[i])?!!l[i]:!1}function rc(){return nk}var rk=B({},Lo,{key:function(i){if(i.key){var l=X1[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Ui(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ek[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(i){return i.type==="keypress"?Ui(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ui(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ok=Dt(rk),ik=B({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ld=Dt(ik),sk=B({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),lk=Dt(sk),ck=B({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ak=Dt(ck),uk=B({},Ki,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),fk=Dt(uk),dk=[9,13,27,32],oc=a&&"CompositionEvent"in window,Bo=null;a&&"documentMode"in document&&(Bo=document.documentMode);var hk=a&&"TextEvent"in window&&!Bo,Fd=a&&(!oc||Bo&&8<Bo&&11>=Bo),Bd=" ",qd=!1;function Vd(i,l){switch(i){case"keyup":return dk.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $d(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Br=!1;function pk(i,l){switch(i){case"compositionend":return $d(l);case"keypress":return l.which!==32?null:(qd=!0,Bd);case"textInput":return i=l.data,i===Bd&&qd?null:i;default:return null}}function mk(i,l){if(Br)return i==="compositionend"||!oc&&Vd(i,l)?(i=Rd(),Hi=Yl=Tn=null,Br=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Fd&&l.locale!=="ko"?null:l.data;default:return null}}var gk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jd(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!gk[i.type]:l==="textarea"}function Hd(i,l,u,h){ud(h),l=Yi(l,"onChange"),0<l.length&&(u=new Xl("onChange","change",null,u,h),i.push({event:u,listeners:l}))}var qo=null,Vo=null;function yk(i){ch(i,0)}function Ji(i){var l=Hr(i);if(Yf(l))return i}function kk(i,l){if(i==="change")return l}var Ud=!1;if(a){var ic;if(a){var sc="oninput"in document;if(!sc){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),sc=typeof Wd.oninput=="function"}ic=sc}else ic=!1;Ud=ic&&(!document.documentMode||9<document.documentMode)}function Kd(){qo&&(qo.detachEvent("onpropertychange",Jd),Vo=qo=null)}function Jd(i){if(i.propertyName==="value"&&Ji(Vo)){var l=[];Hd(l,Vo,i,Bl(i)),pd(yk,l)}}function vk(i,l,u){i==="focusin"?(Kd(),qo=l,Vo=u,qo.attachEvent("onpropertychange",Jd)):i==="focusout"&&Kd()}function xk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ji(Vo)}function Sk(i,l){if(i==="click")return Ji(l)}function wk(i,l){if(i==="input"||i==="change")return Ji(l)}function Ck(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Wt=typeof Object.is=="function"?Object.is:Ck;function $o(i,l){if(Wt(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),h=Object.keys(l);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!f.call(l,g)||!Wt(i[g],l[g]))return!1}return!0}function Gd(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Qd(i,l){var u=Gd(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=l&&h>=l)return{node:u,offset:l-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Gd(u)}}function Zd(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Zd(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Yd(){for(var i=window,l=Ni();l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Ni(i.document)}return l}function lc(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function Ek(i){var l=Yd(),u=i.focusedElem,h=i.selectionRange;if(l!==u&&u&&u.ownerDocument&&Zd(u.ownerDocument.documentElement,u)){if(h!==null&&lc(u)){if(l=h.start,i=h.end,i===void 0&&(i=l),"selectionStart"in u)u.selectionStart=l,u.selectionEnd=Math.min(i,u.value.length);else if(i=(l=u.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,y=Math.min(h.start,g);h=h.end===void 0?y:Math.min(h.end,g),!i.extend&&y>h&&(g=h,h=y,y=g),g=Qd(u,y);var S=Qd(u,h);g&&S&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(l=l.createRange(),l.setStart(g.node,g.offset),i.removeAllRanges(),y>h?(i.addRange(l),i.extend(S.node,S.offset)):(l.setEnd(S.node,S.offset),i.addRange(l)))}}for(l=[],i=u;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<l.length;u++)i=l[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var _k=a&&"documentMode"in document&&11>=document.documentMode,qr=null,cc=null,jo=null,ac=!1;function Xd(i,l,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ac||qr==null||qr!==Ni(h)||(h=qr,"selectionStart"in h&&lc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),jo&&$o(jo,h)||(jo=h,h=Yi(cc,"onSelect"),0<h.length&&(l=new Xl("onSelect","select",null,l,u),i.push({event:l,listeners:h}),l.target=qr)))}function Gi(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var Vr={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionend:Gi("Transition","TransitionEnd")},uc={},eh={};a&&(eh=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function Qi(i){if(uc[i])return uc[i];if(!Vr[i])return i;var l=Vr[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in eh)return uc[i]=l[u];return i}var th=Qi("animationend"),nh=Qi("animationiteration"),rh=Qi("animationstart"),oh=Qi("transitionend"),ih=new Map,sh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(i,l){ih.set(i,l),s(l,[i])}for(var fc=0;fc<sh.length;fc++){var dc=sh[fc],bk=dc.toLowerCase(),Mk=dc[0].toUpperCase()+dc.slice(1);An(bk,"on"+Mk)}An(th,"onAnimationEnd"),An(nh,"onAnimationIteration"),An(rh,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(oh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function lh(i,l,u){var h=i.type||"unknown-event";i.currentTarget=u,b1(h,l,void 0,i),i.currentTarget=null}function ch(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],g=h.event;h=h.listeners;e:{var y=void 0;if(l)for(var S=h.length-1;0<=S;S--){var _=h[S],M=_.instance,z=_.currentTarget;if(_=_.listener,M!==y&&g.isPropagationStopped())break e;lh(g,_,z),y=M}else for(S=0;S<h.length;S++){if(_=h[S],M=_.instance,z=_.currentTarget,_=_.listener,M!==y&&g.isPropagationStopped())break e;lh(g,_,z),y=M}}}if(Ii)throw i=jl,Ii=!1,jl=null,i}function De(i,l){var u=l[xc];u===void 0&&(u=l[xc]=new Set);var h=i+"__bubble";u.has(h)||(ah(l,i,2,!1),u.add(h))}function hc(i,l,u){var h=0;l&&(h|=4),ah(u,i,h,l)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function Uo(i){if(!i[Zi]){i[Zi]=!0,n.forEach(function(u){u!=="selectionchange"&&(Tk.has(u)||hc(u,!1,i),hc(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Zi]||(l[Zi]=!0,hc("selectionchange",!1,l))}}function ah(i,l,u,h){switch(Od(l)){case 1:var g=$1;break;case 4:g=j1;break;default:g=Ql}u=g.bind(null,l,u,i),g=void 0,!$l||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(l,u,{capture:!0,passive:g}):i.addEventListener(l,u,!0):g!==void 0?i.addEventListener(l,u,{passive:g}):i.addEventListener(l,u,!1)}function pc(i,l,u,h,g){var y=h;if(!(l&1)&&!(l&2)&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var _=h.stateNode.containerInfo;if(_===g||_.nodeType===8&&_.parentNode===g)break;if(S===4)for(S=h.return;S!==null;){var M=S.tag;if((M===3||M===4)&&(M=S.stateNode.containerInfo,M===g||M.nodeType===8&&M.parentNode===g))return;S=S.return}for(;_!==null;){if(S=lr(_),S===null)return;if(M=S.tag,M===5||M===6){h=y=S;continue e}_=_.parentNode}}h=h.return}pd(function(){var z=y,j=Bl(u),U=[];e:{var $=ih.get(i);if($!==void 0){var Z=Xl,te=i;switch(i){case"keypress":if(Ui(u)===0)break e;case"keydown":case"keyup":Z=ok;break;case"focusin":te="focus",Z=nc;break;case"focusout":te="blur",Z=nc;break;case"beforeblur":case"afterblur":Z=nc;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=W1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=lk;break;case th:case nh:case rh:Z=G1;break;case oh:Z=ak;break;case"scroll":Z=H1;break;case"wheel":Z=fk;break;case"copy":case"cut":case"paste":Z=Z1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ld}var re=(l&4)!==0,qe=!re&&i==="scroll",R=re?$!==null?$+"Capture":null:$;re=[];for(var D=z,P;D!==null;){P=D;var J=P.stateNode;if(P.tag===5&&J!==null&&(P=J,R!==null&&(J=Mo(D,R),J!=null&&re.push(Wo(D,J,P)))),qe)break;D=D.return}0<re.length&&($=new Z($,te,null,u,j),U.push({event:$,listeners:re}))}}if(!(l&7)){e:{if($=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",$&&u!==Fl&&(te=u.relatedTarget||u.fromElement)&&(lr(te)||te[hn]))break e;if((Z||$)&&($=j.window===j?j:($=j.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(te=u.relatedTarget||u.toElement,Z=z,te=te?lr(te):null,te!==null&&(qe=sr(te),te!==qe||te.tag!==5&&te.tag!==6)&&(te=null)):(Z=null,te=z),Z!==te)){if(re=Pd,J="onMouseLeave",R="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(re=Ld,J="onPointerLeave",R="onPointerEnter",D="pointer"),qe=Z==null?$:Hr(Z),P=te==null?$:Hr(te),$=new re(J,D+"leave",Z,u,j),$.target=qe,$.relatedTarget=P,J=null,lr(j)===z&&(re=new re(R,D+"enter",te,u,j),re.target=P,re.relatedTarget=qe,J=re),qe=J,Z&&te)t:{for(re=Z,R=te,D=0,P=re;P;P=$r(P))D++;for(P=0,J=R;J;J=$r(J))P++;for(;0<D-P;)re=$r(re),D--;for(;0<P-D;)R=$r(R),P--;for(;D--;){if(re===R||R!==null&&re===R.alternate)break t;re=$r(re),R=$r(R)}re=null}else re=null;Z!==null&&uh(U,$,Z,re,!1),te!==null&&qe!==null&&uh(U,qe,te,re,!0)}}e:{if($=z?Hr(z):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var oe=kk;else if(jd($))if(Ud)oe=wk;else{oe=xk;var ie=vk}else(Z=$.nodeName)&&Z.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(oe=Sk);if(oe&&(oe=oe(i,z))){Hd(U,oe,u,j);break e}ie&&ie(i,$,z),i==="focusout"&&(ie=$._wrapperState)&&ie.controlled&&$.type==="number"&&Rl($,"number",$.value)}switch(ie=z?Hr(z):window,i){case"focusin":(jd(ie)||ie.contentEditable==="true")&&(qr=ie,cc=z,jo=null);break;case"focusout":jo=cc=qr=null;break;case"mousedown":ac=!0;break;case"contextmenu":case"mouseup":case"dragend":ac=!1,Xd(U,u,j);break;case"selectionchange":if(_k)break;case"keydown":case"keyup":Xd(U,u,j)}var se;if(oc)e:{switch(i){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Br?Vd(i,u)&&(ce="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ce="onCompositionStart");ce&&(Fd&&u.locale!=="ko"&&(Br||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Br&&(se=Rd()):(Tn=j,Yl="value"in Tn?Tn.value:Tn.textContent,Br=!0)),ie=Yi(z,ce),0<ie.length&&(ce=new zd(ce,i,null,u,j),U.push({event:ce,listeners:ie}),se?ce.data=se:(se=$d(u),se!==null&&(ce.data=se)))),(se=hk?pk(i,u):mk(i,u))&&(z=Yi(z,"onBeforeInput"),0<z.length&&(j=new zd("onBeforeInput","beforeinput",null,u,j),U.push({event:j,listeners:z}),j.data=se))}ch(U,l)})}function Wo(i,l,u){return{instance:i,listener:l,currentTarget:u}}function Yi(i,l){for(var u=l+"Capture",h=[];i!==null;){var g=i,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=Mo(i,u),y!=null&&h.unshift(Wo(i,y,g)),y=Mo(i,l),y!=null&&h.push(Wo(i,y,g))),i=i.return}return h}function $r(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function uh(i,l,u,h,g){for(var y=l._reactName,S=[];u!==null&&u!==h;){var _=u,M=_.alternate,z=_.stateNode;if(M!==null&&M===h)break;_.tag===5&&z!==null&&(_=z,g?(M=Mo(u,y),M!=null&&S.unshift(Wo(u,M,_))):g||(M=Mo(u,y),M!=null&&S.push(Wo(u,M,_)))),u=u.return}S.length!==0&&i.push({event:l,listeners:S})}var Ak=/\r\n?/g,Dk=/\u0000|\uFFFD/g;function fh(i){return(typeof i=="string"?i:""+i).replace(Ak,`
`).replace(Dk,"")}function Xi(i,l,u){if(l=fh(l),fh(i)!==l&&u)throw Error(t(425))}function es(){}var mc=null,gc=null;function yc(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var kc=typeof setTimeout=="function"?setTimeout:void 0,Nk=typeof clearTimeout=="function"?clearTimeout:void 0,dh=typeof Promise=="function"?Promise:void 0,Ok=typeof queueMicrotask=="function"?queueMicrotask:typeof dh<"u"?function(i){return dh.resolve(null).then(i).catch(Rk)}:kc;function Rk(i){setTimeout(function(){throw i})}function vc(i,l){var u=l,h=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(h===0){i.removeChild(g),zo(l);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=g}while(u);zo(l)}function Dn(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function hh(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return i;l--}else u==="/$"&&l++}i=i.previousSibling}return null}var jr=Math.random().toString(36).slice(2),rn="__reactFiber$"+jr,Ko="__reactProps$"+jr,hn="__reactContainer$"+jr,xc="__reactEvents$"+jr,Ik="__reactListeners$"+jr,Pk="__reactHandles$"+jr;function lr(i){var l=i[rn];if(l)return l;for(var u=i.parentNode;u;){if(l=u[hn]||u[rn]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=hh(i);i!==null;){if(u=i[rn])return u;i=hh(i)}return l}i=u,u=i.parentNode}return null}function Jo(i){return i=i[rn]||i[hn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Hr(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ts(i){return i[Ko]||null}var Sc=[],Ur=-1;function Nn(i){return{current:i}}function Ne(i){0>Ur||(i.current=Sc[Ur],Sc[Ur]=null,Ur--)}function Ae(i,l){Ur++,Sc[Ur]=i.current,i.current=l}var On={},it=Nn(On),St=Nn(!1),cr=On;function Wr(i,l){var u=i.type.contextTypes;if(!u)return On;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===l)return h.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in u)g[y]=l[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=g),g}function wt(i){return i=i.childContextTypes,i!=null}function ns(){Ne(St),Ne(it)}function ph(i,l,u){if(it.current!==On)throw Error(t(168));Ae(it,l),Ae(St,u)}function mh(i,l,u){var h=i.stateNode;if(l=l.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var g in h)if(!(g in l))throw Error(t(108,Te(i)||"Unknown",g));return B({},u,h)}function rs(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||On,cr=it.current,Ae(it,i),Ae(St,St.current),!0}function gh(i,l,u){var h=i.stateNode;if(!h)throw Error(t(169));u?(i=mh(i,l,cr),h.__reactInternalMemoizedMergedChildContext=i,Ne(St),Ne(it),Ae(it,i)):Ne(St),Ae(St,u)}var pn=null,is=!1,wc=!1;function yh(i){pn===null?pn=[i]:pn.push(i)}function zk(i){is=!0,yh(i)}function Rn(){if(!wc&&pn!==null){wc=!0;var i=0,l=be;try{var u=pn;for(be=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}pn=null,is=!1}catch(g){throw pn!==null&&(pn=pn.slice(i+1)),vd(Hl,Rn),g}finally{be=l,wc=!1}}return null}var Kr=[],Jr=0,ss=null,ls=0,Pt=[],zt=0,ar=null,mn=1,gn="";function ur(i,l){Kr[Jr++]=ls,Kr[Jr++]=ss,ss=i,ls=l}function kh(i,l,u){Pt[zt++]=mn,Pt[zt++]=gn,Pt[zt++]=ar,ar=i;var h=mn;i=gn;var g=32-Ut(h)-1;h&=~(1<<g),u+=1;var y=32-Ut(l)+g;if(30<y){var S=g-g%5;y=(h&(1<<S)-1).toString(32),h>>=S,g-=S,mn=1<<32-Ut(l)+g|u<<g|h,gn=y+i}else mn=1<<y|u<<g|h,gn=i}function Cc(i){i.return!==null&&(ur(i,1),kh(i,1,0))}function Ec(i){for(;i===ss;)ss=Kr[--Jr],Kr[Jr]=null,ls=Kr[--Jr],Kr[Jr]=null;for(;i===ar;)ar=Pt[--zt],Pt[zt]=null,gn=Pt[--zt],Pt[zt]=null,mn=Pt[--zt],Pt[zt]=null}var Nt=null,Ot=null,Re=!1,Kt=null;function vh(i,l){var u=qt(5,null,null,0);u.elementType="DELETED",u.stateNode=l,u.return=i,l=i.deletions,l===null?(i.deletions=[u],i.flags|=16):l.push(u)}function xh(i,l){switch(i.tag){case 5:var u=i.type;return l=l.nodeType!==1||u.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,Nt=i,Ot=Dn(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,Nt=i,Ot=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(u=ar!==null?{id:mn,overflow:gn}:null,i.memoizedState={dehydrated:l,treeContext:u,retryLane:1073741824},u=qt(18,null,null,0),u.stateNode=l,u.return=i,i.child=u,Nt=i,Ot=null,!0):!1;default:return!1}}function _c(i){return(i.mode&1)!==0&&(i.flags&128)===0}function bc(i){if(Re){var l=Ot;if(l){var u=l;if(!xh(i,l)){if(_c(i))throw Error(t(418));l=Dn(u.nextSibling);var h=Nt;l&&xh(i,l)?vh(h,u):(i.flags=i.flags&-4097|2,Re=!1,Nt=i)}}else{if(_c(i))throw Error(t(418));i.flags=i.flags&-4097|2,Re=!1,Nt=i}}}function Sh(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Nt=i}function cs(i){if(i!==Nt)return!1;if(!Re)return Sh(i),Re=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!yc(i.type,i.memoizedProps)),l&&(l=Ot)){if(_c(i))throw wh(),Error(t(418));for(;l;)vh(i,l),l=Dn(l.nextSibling)}if(Sh(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(l===0){Ot=Dn(i.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++}i=i.nextSibling}Ot=null}}else Ot=Nt?Dn(i.stateNode.nextSibling):null;return!0}function wh(){for(var i=Ot;i;)i=Dn(i.nextSibling)}function Gr(){Ot=Nt=null,Re=!1}function Mc(i){Kt===null?Kt=[i]:Kt.push(i)}var Lk=T.ReactCurrentBatchConfig;function Go(i,l,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,i));var g=h,y=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===y?l.ref:(l=function(S){var _=g.refs;S===null?delete _[y]:_[y]=S},l._stringRef=y,l)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function as(i,l){throw i=Object.prototype.toString.call(l),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function Ch(i){var l=i._init;return l(i._payload)}function Eh(i){function l(R,D){if(i){var P=R.deletions;P===null?(R.deletions=[D],R.flags|=16):P.push(D)}}function u(R,D){if(!i)return null;for(;D!==null;)l(R,D),D=D.sibling;return null}function h(R,D){for(R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function g(R,D){return R=Vn(R,D),R.index=0,R.sibling=null,R}function y(R,D,P){return R.index=P,i?(P=R.alternate,P!==null?(P=P.index,P<D?(R.flags|=2,D):P):(R.flags|=2,D)):(R.flags|=1048576,D)}function S(R){return i&&R.alternate===null&&(R.flags|=2),R}function _(R,D,P,J){return D===null||D.tag!==6?(D=ka(P,R.mode,J),D.return=R,D):(D=g(D,P),D.return=R,D)}function M(R,D,P,J){var oe=P.type;return oe===W?j(R,D,P.props.children,J,P.key):D!==null&&(D.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===pe&&Ch(oe)===D.type)?(J=g(D,P.props),J.ref=Go(R,D,P),J.return=R,J):(J=Rs(P.type,P.key,P.props,null,R.mode,J),J.ref=Go(R,D,P),J.return=R,J)}function z(R,D,P,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=va(P,R.mode,J),D.return=R,D):(D=g(D,P.children||[]),D.return=R,D)}function j(R,D,P,J,oe){return D===null||D.tag!==7?(D=kr(P,R.mode,J,oe),D.return=R,D):(D=g(D,P),D.return=R,D)}function U(R,D,P){if(typeof D=="string"&&D!==""||typeof D=="number")return D=ka(""+D,R.mode,P),D.return=R,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case I:return P=Rs(D.type,D.key,D.props,null,R.mode,P),P.ref=Go(R,null,D),P.return=R,P;case O:return D=va(D,R.mode,P),D.return=R,D;case pe:var J=D._init;return U(R,J(D._payload),P)}if(Eo(D)||Y(D))return D=kr(D,R.mode,P,null),D.return=R,D;as(R,D)}return null}function $(R,D,P,J){var oe=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return oe!==null?null:_(R,D,""+P,J);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case I:return P.key===oe?M(R,D,P,J):null;case O:return P.key===oe?z(R,D,P,J):null;case pe:return oe=P._init,$(R,D,oe(P._payload),J)}if(Eo(P)||Y(P))return oe!==null?null:j(R,D,P,J,null);as(R,P)}return null}function Z(R,D,P,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number")return R=R.get(P)||null,_(D,R,""+J,oe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return R=R.get(J.key===null?P:J.key)||null,M(D,R,J,oe);case O:return R=R.get(J.key===null?P:J.key)||null,z(D,R,J,oe);case pe:var ie=J._init;return Z(R,D,P,ie(J._payload),oe)}if(Eo(J)||Y(J))return R=R.get(P)||null,j(D,R,J,oe,null);as(D,J)}return null}function te(R,D,P,J){for(var oe=null,ie=null,se=D,ce=D=0,Je=null;se!==null&&ce<P.length;ce++){se.index>ce?(Je=se,se=null):Je=se.sibling;var Ce=$(R,se,P[ce],J);if(Ce===null){se===null&&(se=Je);break}i&&se&&Ce.alternate===null&&l(R,se),D=y(Ce,D,ce),ie===null?oe=Ce:ie.sibling=Ce,ie=Ce,se=Je}if(ce===P.length)return u(R,se),Re&&ur(R,ce),oe;if(se===null){for(;ce<P.length;ce++)se=U(R,P[ce],J),se!==null&&(D=y(se,D,ce),ie===null?oe=se:ie.sibling=se,ie=se);return Re&&ur(R,ce),oe}for(se=h(R,se);ce<P.length;ce++)Je=Z(se,R,ce,P[ce],J),Je!==null&&(i&&Je.alternate!==null&&se.delete(Je.key===null?ce:Je.key),D=y(Je,D,ce),ie===null?oe=Je:ie.sibling=Je,ie=Je);return i&&se.forEach(function($n){return l(R,$n)}),Re&&ur(R,ce),oe}function re(R,D,P,J){var oe=Y(P);if(typeof oe!="function")throw Error(t(150));if(P=oe.call(P),P==null)throw Error(t(151));for(var ie=oe=null,se=D,ce=D=0,Je=null,Ce=P.next();se!==null&&!Ce.done;ce++,Ce=P.next()){se.index>ce?(Je=se,se=null):Je=se.sibling;var $n=$(R,se,Ce.value,J);if($n===null){se===null&&(se=Je);break}i&&se&&$n.alternate===null&&l(R,se),D=y($n,D,ce),ie===null?oe=$n:ie.sibling=$n,ie=$n,se=Je}if(Ce.done)return u(R,se),Re&&ur(R,ce),oe;if(se===null){for(;!Ce.done;ce++,Ce=P.next())Ce=U(R,Ce.value,J),Ce!==null&&(D=y(Ce,D,ce),ie===null?oe=Ce:ie.sibling=Ce,ie=Ce);return Re&&ur(R,ce),oe}for(se=h(R,se);!Ce.done;ce++,Ce=P.next())Ce=Z(se,R,ce,Ce.value,J),Ce!==null&&(i&&Ce.alternate!==null&&se.delete(Ce.key===null?ce:Ce.key),D=y(Ce,D,ce),ie===null?oe=Ce:ie.sibling=Ce,ie=Ce);return i&&se.forEach(function(gv){return l(R,gv)}),Re&&ur(R,ce),oe}function qe(R,D,P,J){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case I:e:{for(var oe=P.key,ie=D;ie!==null;){if(ie.key===oe){if(oe=P.type,oe===W){if(ie.tag===7){u(R,ie.sibling),D=g(ie,P.props.children),D.return=R,R=D;break e}}else if(ie.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===pe&&Ch(oe)===ie.type){u(R,ie.sibling),D=g(ie,P.props),D.ref=Go(R,ie,P),D.return=R,R=D;break e}u(R,ie);break}else l(R,ie);ie=ie.sibling}P.type===W?(D=kr(P.props.children,R.mode,J,P.key),D.return=R,R=D):(J=Rs(P.type,P.key,P.props,null,R.mode,J),J.ref=Go(R,D,P),J.return=R,R=J)}return S(R);case O:e:{for(ie=P.key;D!==null;){if(D.key===ie)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){u(R,D.sibling),D=g(D,P.children||[]),D.return=R,R=D;break e}else{u(R,D);break}else l(R,D);D=D.sibling}D=va(P,R.mode,J),D.return=R,R=D}return S(R);case pe:return ie=P._init,qe(R,D,ie(P._payload),J)}if(Eo(P))return te(R,D,P,J);if(Y(P))return re(R,D,P,J);as(R,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,D!==null&&D.tag===6?(u(R,D.sibling),D=g(D,P),D.return=R,R=D):(u(R,D),D=ka(P,R.mode,J),D.return=R,R=D),S(R)):u(R,D)}return qe}var Qr=Eh(!0),_h=Eh(!1),us=Nn(null),fs=null,Zr=null,Tc=null;function Ac(){Tc=Zr=fs=null}function Dc(i){var l=us.current;Ne(us),i._currentValue=l}function Nc(i,l,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),i===u)break;i=i.return}}function Yr(i,l){fs=i,Tc=Zr=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&l&&(Ct=!0),i.firstContext=null)}function Lt(i){var l=i._currentValue;if(Tc!==i)if(i={context:i,memoizedValue:l,next:null},Zr===null){if(fs===null)throw Error(t(308));Zr=i,fs.dependencies={lanes:0,firstContext:i}}else Zr=Zr.next=i;return l}var fr=null;function Oc(i){fr===null?fr=[i]:fr.push(i)}function bh(i,l,u,h){var g=l.interleaved;return g===null?(u.next=u,Oc(l)):(u.next=g.next,g.next=u),l.interleaved=u,yn(i,h)}function yn(i,l){i.lanes|=l;var u=i.alternate;for(u!==null&&(u.lanes|=l),u=i,i=i.return;i!==null;)i.childLanes|=l,u=i.alternate,u!==null&&(u.childLanes|=l),u=i,i=i.return;return u.tag===3?u.stateNode:null}var In=!1;function Rc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mh(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function kn(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function Pn(i,l,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,ve&2){var g=h.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),h.pending=l,yn(i,u)}return g=h.interleaved,g===null?(l.next=l,Oc(h)):(l.next=g.next,g.next=l),h.interleaved=l,yn(i,u)}function ds(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194240)!==0)){var h=l.lanes;h&=i.pendingLanes,u|=h,l.lanes=u,Kl(i,u)}}function Th(i,l){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?g=y=S:y=y.next=S,u=u.next}while(u!==null);y===null?g=y=l:y=y.next=l}else g=y=l;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}function hs(i,l,u,h){var g=i.updateQueue;In=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,_=g.shared.pending;if(_!==null){g.shared.pending=null;var M=_,z=M.next;M.next=null,S===null?y=z:S.next=z,S=M;var j=i.alternate;j!==null&&(j=j.updateQueue,_=j.lastBaseUpdate,_!==S&&(_===null?j.firstBaseUpdate=z:_.next=z,j.lastBaseUpdate=M))}if(y!==null){var U=g.baseState;S=0,j=z=M=null,_=y;do{var $=_.lane,Z=_.eventTime;if((h&$)===$){j!==null&&(j=j.next={eventTime:Z,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var te=i,re=_;switch($=l,Z=u,re.tag){case 1:if(te=re.payload,typeof te=="function"){U=te.call(Z,U,$);break e}U=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=re.payload,$=typeof te=="function"?te.call(Z,U,$):te,$==null)break e;U=B({},U,$);break e;case 2:In=!0}}_.callback!==null&&_.lane!==0&&(i.flags|=64,$=g.effects,$===null?g.effects=[_]:$.push(_))}else Z={eventTime:Z,lane:$,tag:_.tag,payload:_.payload,callback:_.callback,next:null},j===null?(z=j=Z,M=U):j=j.next=Z,S|=$;if(_=_.next,_===null){if(_=g.shared.pending,_===null)break;$=_,_=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);if(j===null&&(M=U),g.baseState=M,g.firstBaseUpdate=z,g.lastBaseUpdate=j,l=g.shared.interleaved,l!==null){g=l;do S|=g.lane,g=g.next;while(g!==l)}else y===null&&(g.shared.lanes=0);pr|=S,i.lanes=S,i.memoizedState=U}}function Ah(i,l,u){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var h=i[l],g=h.callback;if(g!==null){if(h.callback=null,h=u,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var Qo={},on=Nn(Qo),Zo=Nn(Qo),Yo=Nn(Qo);function dr(i){if(i===Qo)throw Error(t(174));return i}function Ic(i,l){switch(Ae(Yo,l),Ae(Zo,i),Ae(on,Qo),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Pl(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=Pl(l,i)}Ne(on),Ae(on,l)}function Xr(){Ne(on),Ne(Zo),Ne(Yo)}function Dh(i){dr(Yo.current);var l=dr(on.current),u=Pl(l,i.type);l!==u&&(Ae(Zo,i),Ae(on,u))}function Pc(i){Zo.current===i&&(Ne(on),Ne(Zo))}var Ie=Nn(0);function ps(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var zc=[];function Lc(){for(var i=0;i<zc.length;i++)zc[i]._workInProgressVersionPrimary=null;zc.length=0}var ms=T.ReactCurrentDispatcher,Fc=T.ReactCurrentBatchConfig,hr=0,Pe=null,je=null,We=null,gs=!1,Xo=!1,ei=0,Fk=0;function st(){throw Error(t(321))}function Bc(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!Wt(i[u],l[u]))return!1;return!0}function qc(i,l,u,h,g,y){if(hr=y,Pe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ms.current=i===null||i.memoizedState===null?$k:jk,i=u(h,g),Xo){y=0;do{if(Xo=!1,ei=0,25<=y)throw Error(t(301));y+=1,We=je=null,l.updateQueue=null,ms.current=Hk,i=u(h,g)}while(Xo)}if(ms.current=vs,l=je!==null&&je.next!==null,hr=0,We=je=Pe=null,gs=!1,l)throw Error(t(300));return i}function Vc(){var i=ei!==0;return ei=0,i}function sn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Pe.memoizedState=We=i:We=We.next=i,We}function Ft(){if(je===null){var i=Pe.alternate;i=i!==null?i.memoizedState:null}else i=je.next;var l=We===null?Pe.memoizedState:We.next;if(l!==null)We=l,je=i;else{if(i===null)throw Error(t(310));je=i,i={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},We===null?Pe.memoizedState=We=i:We=We.next=i}return We}function ti(i,l){return typeof l=="function"?l(i):l}function $c(i){var l=Ft(),u=l.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var h=je,g=h.baseQueue,y=u.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}h.baseQueue=g=y,u.pending=null}if(g!==null){y=g.next,h=h.baseState;var _=S=null,M=null,z=y;do{var j=z.lane;if((hr&j)===j)M!==null&&(M=M.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:i(h,z.action);else{var U={lane:j,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};M===null?(_=M=U,S=h):M=M.next=U,Pe.lanes|=j,pr|=j}z=z.next}while(z!==null&&z!==y);M===null?S=h:M.next=_,Wt(h,l.memoizedState)||(Ct=!0),l.memoizedState=h,l.baseState=S,l.baseQueue=M,u.lastRenderedState=h}if(i=u.interleaved,i!==null){g=i;do y=g.lane,Pe.lanes|=y,pr|=y,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[l.memoizedState,u.dispatch]}function jc(i){var l=Ft(),u=l.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var h=u.dispatch,g=u.pending,y=l.memoizedState;if(g!==null){u.pending=null;var S=g=g.next;do y=i(y,S.action),S=S.next;while(S!==g);Wt(y,l.memoizedState)||(Ct=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),u.lastRenderedState=y}return[y,h]}function Nh(){}function Oh(i,l){var u=Pe,h=Ft(),g=l(),y=!Wt(h.memoizedState,g);if(y&&(h.memoizedState=g,Ct=!0),h=h.queue,Hc(Ph.bind(null,u,h,i),[i]),h.getSnapshot!==l||y||We!==null&&We.memoizedState.tag&1){if(u.flags|=2048,ni(9,Ih.bind(null,u,h,g,l),void 0,null),Ke===null)throw Error(t(349));hr&30||Rh(u,l,g)}return g}function Rh(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=Pe.updateQueue,l===null?(l={lastEffect:null,stores:null},Pe.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function Ih(i,l,u,h){l.value=u,l.getSnapshot=h,zh(l)&&Lh(i)}function Ph(i,l,u){return u(function(){zh(l)&&Lh(i)})}function zh(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!Wt(i,u)}catch{return!0}}function Lh(i){var l=yn(i,1);l!==null&&Zt(l,i,1,-1)}function Fh(i){var l=sn();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:i},l.queue=i,i=i.dispatch=Vk.bind(null,Pe,i),[l.memoizedState,i]}function ni(i,l,u,h){return i={tag:i,create:l,destroy:u,deps:h,next:null},l=Pe.updateQueue,l===null?(l={lastEffect:null,stores:null},Pe.updateQueue=l,l.lastEffect=i.next=i):(u=l.lastEffect,u===null?l.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,l.lastEffect=i)),i}function Bh(){return Ft().memoizedState}function ys(i,l,u,h){var g=sn();Pe.flags|=i,g.memoizedState=ni(1|l,u,void 0,h===void 0?null:h)}function ks(i,l,u,h){var g=Ft();h=h===void 0?null:h;var y=void 0;if(je!==null){var S=je.memoizedState;if(y=S.destroy,h!==null&&Bc(h,S.deps)){g.memoizedState=ni(l,u,y,h);return}}Pe.flags|=i,g.memoizedState=ni(1|l,u,y,h)}function qh(i,l){return ys(8390656,8,i,l)}function Hc(i,l){return ks(2048,8,i,l)}function Vh(i,l){return ks(4,2,i,l)}function $h(i,l){return ks(4,4,i,l)}function jh(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Hh(i,l,u){return u=u!=null?u.concat([i]):null,ks(4,4,jh.bind(null,l,i),u)}function Uc(){}function Uh(i,l){var u=Ft();l=l===void 0?null:l;var h=u.memoizedState;return h!==null&&l!==null&&Bc(l,h[1])?h[0]:(u.memoizedState=[i,l],i)}function Wh(i,l){var u=Ft();l=l===void 0?null:l;var h=u.memoizedState;return h!==null&&l!==null&&Bc(l,h[1])?h[0]:(i=i(),u.memoizedState=[i,l],i)}function Kh(i,l,u){return hr&21?(Wt(u,l)||(u=Cd(),Pe.lanes|=u,pr|=u,i.baseState=!0),l):(i.baseState&&(i.baseState=!1,Ct=!0),i.memoizedState=u)}function Bk(i,l){var u=be;be=u!==0&&4>u?u:4,i(!0);var h=Fc.transition;Fc.transition={};try{i(!1),l()}finally{be=u,Fc.transition=h}}function Jh(){return Ft().memoizedState}function qk(i,l,u){var h=Bn(i);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Gh(i))Qh(l,u);else if(u=bh(i,l,u,h),u!==null){var g=pt();Zt(u,i,h,g),Zh(u,l,h)}}function Vk(i,l,u){var h=Bn(i),g={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Gh(i))Qh(l,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var S=l.lastRenderedState,_=y(S,u);if(g.hasEagerState=!0,g.eagerState=_,Wt(_,S)){var M=l.interleaved;M===null?(g.next=g,Oc(l)):(g.next=M.next,M.next=g),l.interleaved=g;return}}catch{}finally{}u=bh(i,l,g,h),u!==null&&(g=pt(),Zt(u,i,h,g),Zh(u,l,h))}}function Gh(i){var l=i.alternate;return i===Pe||l!==null&&l===Pe}function Qh(i,l){Xo=gs=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function Zh(i,l,u){if(u&4194240){var h=l.lanes;h&=i.pendingLanes,u|=h,l.lanes=u,Kl(i,u)}}var vs={readContext:Lt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},$k={readContext:Lt,useCallback:function(i,l){return sn().memoizedState=[i,l===void 0?null:l],i},useContext:Lt,useEffect:qh,useImperativeHandle:function(i,l,u){return u=u!=null?u.concat([i]):null,ys(4194308,4,jh.bind(null,l,i),u)},useLayoutEffect:function(i,l){return ys(4194308,4,i,l)},useInsertionEffect:function(i,l){return ys(4,2,i,l)},useMemo:function(i,l){var u=sn();return l=l===void 0?null:l,i=i(),u.memoizedState=[i,l],i},useReducer:function(i,l,u){var h=sn();return l=u!==void 0?u(l):l,h.memoizedState=h.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},h.queue=i,i=i.dispatch=qk.bind(null,Pe,i),[h.memoizedState,i]},useRef:function(i){var l=sn();return i={current:i},l.memoizedState=i},useState:Fh,useDebugValue:Uc,useDeferredValue:function(i){return sn().memoizedState=i},useTransition:function(){var i=Fh(!1),l=i[0];return i=Bk.bind(null,i[1]),sn().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,u){var h=Pe,g=sn();if(Re){if(u===void 0)throw Error(t(407));u=u()}else{if(u=l(),Ke===null)throw Error(t(349));hr&30||Rh(h,l,u)}g.memoizedState=u;var y={value:u,getSnapshot:l};return g.queue=y,qh(Ph.bind(null,h,y,i),[i]),h.flags|=2048,ni(9,Ih.bind(null,h,y,u,l),void 0,null),u},useId:function(){var i=sn(),l=Ke.identifierPrefix;if(Re){var u=gn,h=mn;u=(h&~(1<<32-Ut(h)-1)).toString(32)+u,l=":"+l+"R"+u,u=ei++,0<u&&(l+="H"+u.toString(32)),l+=":"}else u=Fk++,l=":"+l+"r"+u.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},jk={readContext:Lt,useCallback:Uh,useContext:Lt,useEffect:Hc,useImperativeHandle:Hh,useInsertionEffect:Vh,useLayoutEffect:$h,useMemo:Wh,useReducer:$c,useRef:Bh,useState:function(){return $c(ti)},useDebugValue:Uc,useDeferredValue:function(i){var l=Ft();return Kh(l,je.memoizedState,i)},useTransition:function(){var i=$c(ti)[0],l=Ft().memoizedState;return[i,l]},useMutableSource:Nh,useSyncExternalStore:Oh,useId:Jh,unstable_isNewReconciler:!1},Hk={readContext:Lt,useCallback:Uh,useContext:Lt,useEffect:Hc,useImperativeHandle:Hh,useInsertionEffect:Vh,useLayoutEffect:$h,useMemo:Wh,useReducer:jc,useRef:Bh,useState:function(){return jc(ti)},useDebugValue:Uc,useDeferredValue:function(i){var l=Ft();return je===null?l.memoizedState=i:Kh(l,je.memoizedState,i)},useTransition:function(){var i=jc(ti)[0],l=Ft().memoizedState;return[i,l]},useMutableSource:Nh,useSyncExternalStore:Oh,useId:Jh,unstable_isNewReconciler:!1};function Jt(i,l){if(i&&i.defaultProps){l=B({},l),i=i.defaultProps;for(var u in i)l[u]===void 0&&(l[u]=i[u]);return l}return l}function Wc(i,l,u,h){l=i.memoizedState,u=u(h,l),u=u==null?l:B({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var xs={isMounted:function(i){return(i=i._reactInternals)?sr(i)===i:!1},enqueueSetState:function(i,l,u){i=i._reactInternals;var h=pt(),g=Bn(i),y=kn(h,g);y.payload=l,u!=null&&(y.callback=u),l=Pn(i,y,g),l!==null&&(Zt(l,i,g,h),ds(l,i,g))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var h=pt(),g=Bn(i),y=kn(h,g);y.tag=1,y.payload=l,u!=null&&(y.callback=u),l=Pn(i,y,g),l!==null&&(Zt(l,i,g,h),ds(l,i,g))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=pt(),h=Bn(i),g=kn(u,h);g.tag=2,l!=null&&(g.callback=l),l=Pn(i,g,h),l!==null&&(Zt(l,i,h,u),ds(l,i,h))}};function Yh(i,l,u,h,g,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,S):l.prototype&&l.prototype.isPureReactComponent?!$o(u,h)||!$o(g,y):!0}function Xh(i,l,u){var h=!1,g=On,y=l.contextType;return typeof y=="object"&&y!==null?y=Lt(y):(g=wt(l)?cr:it.current,h=l.contextTypes,y=(h=h!=null)?Wr(i,g):On),l=new l(u,y),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=xs,i.stateNode=l,l._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=y),l}function ep(i,l,u,h){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,h),l.state!==i&&xs.enqueueReplaceState(l,l.state,null)}function Kc(i,l,u,h){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},Rc(i);var y=l.contextType;typeof y=="object"&&y!==null?g.context=Lt(y):(y=wt(l)?cr:it.current,g.context=Wr(i,y)),g.state=i.memoizedState,y=l.getDerivedStateFromProps,typeof y=="function"&&(Wc(i,l,y,u),g.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(l=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),l!==g.state&&xs.enqueueReplaceState(g,g.state,null),hs(i,u,g,h),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function eo(i,l){try{var u="",h=l;do u+=Se(h),h=h.return;while(h);var g=u}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:l,stack:g,digest:null}}function Jc(i,l,u){return{value:i,source:null,stack:u??null,digest:l??null}}function Gc(i,l){try{console.error(l.value)}catch(u){setTimeout(function(){throw u})}}var Uk=typeof WeakMap=="function"?WeakMap:Map;function tp(i,l,u){u=kn(-1,u),u.tag=3,u.payload={element:null};var h=l.value;return u.callback=function(){Ms||(Ms=!0,ua=h),Gc(i,l)},u}function np(i,l,u){u=kn(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var g=l.value;u.payload=function(){return h(g)},u.callback=function(){Gc(i,l)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){Gc(i,l),typeof h!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})}),u}function rp(i,l,u){var h=i.pingCache;if(h===null){h=i.pingCache=new Uk;var g=new Set;h.set(l,g)}else g=h.get(l),g===void 0&&(g=new Set,h.set(l,g));g.has(u)||(g.add(u),i=iv.bind(null,i,l,u),l.then(i,i))}function op(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function ip(i,l,u,h,g){return i.mode&1?(i.flags|=65536,i.lanes=g,i):(i===l?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(l=kn(-1,1),l.tag=2,Pn(u,l,1))),u.lanes|=1),i)}var Wk=T.ReactCurrentOwner,Ct=!1;function ht(i,l,u,h){l.child=i===null?_h(l,null,u,h):Qr(l,i.child,u,h)}function sp(i,l,u,h,g){u=u.render;var y=l.ref;return Yr(l,g),h=qc(i,l,u,h,y,g),u=Vc(),i!==null&&!Ct?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~g,vn(i,l,g)):(Re&&u&&Cc(l),l.flags|=1,ht(i,l,h,g),l.child)}function lp(i,l,u,h,g){if(i===null){var y=u.type;return typeof y=="function"&&!ya(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(l.tag=15,l.type=y,cp(i,l,y,h,g)):(i=Rs(u.type,null,h,l,l.mode,g),i.ref=l.ref,i.return=l,l.child=i)}if(y=i.child,!(i.lanes&g)){var S=y.memoizedProps;if(u=u.compare,u=u!==null?u:$o,u(S,h)&&i.ref===l.ref)return vn(i,l,g)}return l.flags|=1,i=Vn(y,h),i.ref=l.ref,i.return=l,l.child=i}function cp(i,l,u,h,g){if(i!==null){var y=i.memoizedProps;if($o(y,h)&&i.ref===l.ref)if(Ct=!1,l.pendingProps=h=y,(i.lanes&g)!==0)i.flags&131072&&(Ct=!0);else return l.lanes=i.lanes,vn(i,l,g)}return Qc(i,l,u,h,g)}function ap(i,l,u){var h=l.pendingProps,g=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(no,Rt),Rt|=u;else{if(!(u&1073741824))return i=y!==null?y.baseLanes|u:u,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Ae(no,Rt),Rt|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:u,Ae(no,Rt),Rt|=h}else y!==null?(h=y.baseLanes|u,l.memoizedState=null):h=u,Ae(no,Rt),Rt|=h;return ht(i,l,g,u),l.child}function up(i,l){var u=l.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(l.flags|=512,l.flags|=2097152)}function Qc(i,l,u,h,g){var y=wt(u)?cr:it.current;return y=Wr(l,y),Yr(l,g),u=qc(i,l,u,h,y,g),h=Vc(),i!==null&&!Ct?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~g,vn(i,l,g)):(Re&&h&&Cc(l),l.flags|=1,ht(i,l,u,g),l.child)}function fp(i,l,u,h,g){if(wt(u)){var y=!0;rs(l)}else y=!1;if(Yr(l,g),l.stateNode===null)ws(i,l),Xh(l,u,h),Kc(l,u,h,g),h=!0;else if(i===null){var S=l.stateNode,_=l.memoizedProps;S.props=_;var M=S.context,z=u.contextType;typeof z=="object"&&z!==null?z=Lt(z):(z=wt(u)?cr:it.current,z=Wr(l,z));var j=u.getDerivedStateFromProps,U=typeof j=="function"||typeof S.getSnapshotBeforeUpdate=="function";U||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(_!==h||M!==z)&&ep(l,S,h,z),In=!1;var $=l.memoizedState;S.state=$,hs(l,h,S,g),M=l.memoizedState,_!==h||$!==M||St.current||In?(typeof j=="function"&&(Wc(l,u,j,h),M=l.memoizedState),(_=In||Yh(l,u,_,h,$,M,z))?(U||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=M),S.props=h,S.state=M,S.context=z,h=_):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{S=l.stateNode,Mh(i,l),_=l.memoizedProps,z=l.type===l.elementType?_:Jt(l.type,_),S.props=z,U=l.pendingProps,$=S.context,M=u.contextType,typeof M=="object"&&M!==null?M=Lt(M):(M=wt(u)?cr:it.current,M=Wr(l,M));var Z=u.getDerivedStateFromProps;(j=typeof Z=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(_!==U||$!==M)&&ep(l,S,h,M),In=!1,$=l.memoizedState,S.state=$,hs(l,h,S,g);var te=l.memoizedState;_!==U||$!==te||St.current||In?(typeof Z=="function"&&(Wc(l,u,Z,h),te=l.memoizedState),(z=In||Yh(l,u,z,h,$,te,M)||!1)?(j||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,te,M),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,te,M)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=te),S.props=h,S.state=te,S.context=M,h=z):(typeof S.componentDidUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(l.flags|=1024),h=!1)}return Zc(i,l,u,h,y,g)}function Zc(i,l,u,h,g,y){up(i,l);var S=(l.flags&128)!==0;if(!h&&!S)return g&&gh(l,u,!1),vn(i,l,y);h=l.stateNode,Wk.current=l;var _=S&&typeof u.getDerivedStateFromError!="function"?null:h.render();return l.flags|=1,i!==null&&S?(l.child=Qr(l,i.child,null,y),l.child=Qr(l,null,_,y)):ht(i,l,_,y),l.memoizedState=h.state,g&&gh(l,u,!0),l.child}function dp(i){var l=i.stateNode;l.pendingContext?ph(i,l.pendingContext,l.pendingContext!==l.context):l.context&&ph(i,l.context,!1),Ic(i,l.containerInfo)}function hp(i,l,u,h,g){return Gr(),Mc(g),l.flags|=256,ht(i,l,u,h),l.child}var Yc={dehydrated:null,treeContext:null,retryLane:0};function Xc(i){return{baseLanes:i,cachePool:null,transitions:null}}function pp(i,l,u){var h=l.pendingProps,g=Ie.current,y=!1,S=(l.flags&128)!==0,_;if((_=S)||(_=i!==null&&i.memoizedState===null?!1:(g&2)!==0),_?(y=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Ae(Ie,g&1),i===null)return bc(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(l.mode&1?i.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(S=h.children,i=h.fallback,y?(h=l.mode,y=l.child,S={mode:"hidden",children:S},!(h&1)&&y!==null?(y.childLanes=0,y.pendingProps=S):y=Is(S,h,0,null),i=kr(i,h,u,null),y.return=l,i.return=l,y.sibling=i,l.child=y,l.child.memoizedState=Xc(u),l.memoizedState=Yc,i):ea(l,S));if(g=i.memoizedState,g!==null&&(_=g.dehydrated,_!==null))return Kk(i,l,S,h,_,g,u);if(y){y=h.fallback,S=l.mode,g=i.child,_=g.sibling;var M={mode:"hidden",children:h.children};return!(S&1)&&l.child!==g?(h=l.child,h.childLanes=0,h.pendingProps=M,l.deletions=null):(h=Vn(g,M),h.subtreeFlags=g.subtreeFlags&14680064),_!==null?y=Vn(_,y):(y=kr(y,S,u,null),y.flags|=2),y.return=l,h.return=l,h.sibling=y,l.child=h,h=y,y=l.child,S=i.child.memoizedState,S=S===null?Xc(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=i.childLanes&~u,l.memoizedState=Yc,h}return y=i.child,i=y.sibling,h=Vn(y,{mode:"visible",children:h.children}),!(l.mode&1)&&(h.lanes=u),h.return=l,h.sibling=null,i!==null&&(u=l.deletions,u===null?(l.deletions=[i],l.flags|=16):u.push(i)),l.child=h,l.memoizedState=null,h}function ea(i,l){return l=Is({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Ss(i,l,u,h){return h!==null&&Mc(h),Qr(l,i.child,null,u),i=ea(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function Kk(i,l,u,h,g,y,S){if(u)return l.flags&256?(l.flags&=-257,h=Jc(Error(t(422))),Ss(i,l,S,h)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(y=h.fallback,g=l.mode,h=Is({mode:"visible",children:h.children},g,0,null),y=kr(y,g,S,null),y.flags|=2,h.return=l,y.return=l,h.sibling=y,l.child=h,l.mode&1&&Qr(l,i.child,null,S),l.child.memoizedState=Xc(S),l.memoizedState=Yc,y);if(!(l.mode&1))return Ss(i,l,S,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var _=h.dgst;return h=_,y=Error(t(419)),h=Jc(y,h,void 0),Ss(i,l,S,h)}if(_=(S&i.childLanes)!==0,Ct||_){if(h=Ke,h!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(h.suspendedLanes|S)?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,yn(i,g),Zt(h,i,g,-1))}return ga(),h=Jc(Error(t(421))),Ss(i,l,S,h)}return g.data==="$?"?(l.flags|=128,l.child=i.child,l=sv.bind(null,i),g._reactRetry=l,null):(i=y.treeContext,Ot=Dn(g.nextSibling),Nt=l,Re=!0,Kt=null,i!==null&&(Pt[zt++]=mn,Pt[zt++]=gn,Pt[zt++]=ar,mn=i.id,gn=i.overflow,ar=l),l=ea(l,h.children),l.flags|=4096,l)}function mp(i,l,u){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l),Nc(i.return,l,u)}function ta(i,l,u,h,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(y.isBackwards=l,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=u,y.tailMode=g)}function gp(i,l,u){var h=l.pendingProps,g=h.revealOrder,y=h.tail;if(ht(i,l,h.children,u),h=Ie.current,h&2)h=h&1|2,l.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&mp(i,u,l);else if(i.tag===19)mp(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ae(Ie,h),!(l.mode&1))l.memoizedState=null;else switch(g){case"forwards":for(u=l.child,g=null;u!==null;)i=u.alternate,i!==null&&ps(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=l.child,l.child=null):(g=u.sibling,u.sibling=null),ta(l,!1,g,u,y);break;case"backwards":for(u=null,g=l.child,l.child=null;g!==null;){if(i=g.alternate,i!==null&&ps(i)===null){l.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}ta(l,!0,u,null,y);break;case"together":ta(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ws(i,l){!(l.mode&1)&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function vn(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),pr|=l.lanes,!(u&l.childLanes))return null;if(i!==null&&l.child!==i.child)throw Error(t(153));if(l.child!==null){for(i=l.child,u=Vn(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=Vn(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function Jk(i,l,u){switch(l.tag){case 3:dp(l),Gr();break;case 5:Dh(l);break;case 1:wt(l.type)&&rs(l);break;case 4:Ic(l,l.stateNode.containerInfo);break;case 10:var h=l.type._context,g=l.memoizedProps.value;Ae(us,h._currentValue),h._currentValue=g;break;case 13:if(h=l.memoizedState,h!==null)return h.dehydrated!==null?(Ae(Ie,Ie.current&1),l.flags|=128,null):u&l.child.childLanes?pp(i,l,u):(Ae(Ie,Ie.current&1),i=vn(i,l,u),i!==null?i.sibling:null);Ae(Ie,Ie.current&1);break;case 19:if(h=(u&l.childLanes)!==0,i.flags&128){if(h)return gp(i,l,u);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ae(Ie,Ie.current),h)break;return null;case 22:case 23:return l.lanes=0,ap(i,l,u)}return vn(i,l,u)}var yp,na,kp,vp;yp=function(i,l){for(var u=l.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},na=function(){},kp=function(i,l,u,h){var g=i.memoizedProps;if(g!==h){i=l.stateNode,dr(on.current);var y=null;switch(u){case"input":g=Nl(i,g),h=Nl(i,h),y=[];break;case"select":g=B({},g,{value:void 0}),h=B({},h,{value:void 0}),y=[];break;case"textarea":g=Il(i,g),h=Il(i,h),y=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=es)}zl(u,h);var S;u=null;for(z in g)if(!h.hasOwnProperty(z)&&g.hasOwnProperty(z)&&g[z]!=null)if(z==="style"){var _=g[z];for(S in _)_.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?y||(y=[]):(y=y||[]).push(z,null));for(z in h){var M=h[z];if(_=g!=null?g[z]:void 0,h.hasOwnProperty(z)&&M!==_&&(M!=null||_!=null))if(z==="style")if(_){for(S in _)!_.hasOwnProperty(S)||M&&M.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in M)M.hasOwnProperty(S)&&_[S]!==M[S]&&(u||(u={}),u[S]=M[S])}else u||(y||(y=[]),y.push(z,u)),u=M;else z==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,_=_?_.__html:void 0,M!=null&&_!==M&&(y=y||[]).push(z,M)):z==="children"?typeof M!="string"&&typeof M!="number"||(y=y||[]).push(z,""+M):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(M!=null&&z==="onScroll"&&De("scroll",i),y||_===M||(y=[])):(y=y||[]).push(z,M))}u&&(y=y||[]).push("style",u);var z=y;(l.updateQueue=z)&&(l.flags|=4)}},vp=function(i,l,u,h){u!==h&&(l.flags|=4)};function ri(i,l){if(!Re)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function lt(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(l)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=u,l}function Gk(i,l,u){var h=l.pendingProps;switch(Ec(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(l),null;case 1:return wt(l.type)&&ns(),lt(l),null;case 3:return h=l.stateNode,Xr(),Ne(St),Ne(it),Lc(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(cs(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Kt!==null&&(ha(Kt),Kt=null))),na(i,l),lt(l),null;case 5:Pc(l);var g=dr(Yo.current);if(u=l.type,i!==null&&l.stateNode!=null)kp(i,l,u,h,g),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!h){if(l.stateNode===null)throw Error(t(166));return lt(l),null}if(i=dr(on.current),cs(l)){h=l.stateNode,u=l.type;var y=l.memoizedProps;switch(h[rn]=l,h[Ko]=y,i=(l.mode&1)!==0,u){case"dialog":De("cancel",h),De("close",h);break;case"iframe":case"object":case"embed":De("load",h);break;case"video":case"audio":for(g=0;g<Ho.length;g++)De(Ho[g],h);break;case"source":De("error",h);break;case"img":case"image":case"link":De("error",h),De("load",h);break;case"details":De("toggle",h);break;case"input":Xf(h,y),De("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},De("invalid",h);break;case"textarea":nd(h,y),De("invalid",h)}zl(u,y),g=null;for(var S in y)if(y.hasOwnProperty(S)){var _=y[S];S==="children"?typeof _=="string"?h.textContent!==_&&(y.suppressHydrationWarning!==!0&&Xi(h.textContent,_,i),g=["children",_]):typeof _=="number"&&h.textContent!==""+_&&(y.suppressHydrationWarning!==!0&&Xi(h.textContent,_,i),g=["children",""+_]):o.hasOwnProperty(S)&&_!=null&&S==="onScroll"&&De("scroll",h)}switch(u){case"input":Di(h),td(h,y,!0);break;case"textarea":Di(h),od(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=es)}h=g,l.updateQueue=h,h!==null&&(l.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=id(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=S.createElement(u,{is:h.is}):(i=S.createElement(u),u==="select"&&(S=i,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):i=S.createElementNS(i,u),i[rn]=l,i[Ko]=h,yp(i,l,!1,!1),l.stateNode=i;e:{switch(S=Ll(u,h),u){case"dialog":De("cancel",i),De("close",i),g=h;break;case"iframe":case"object":case"embed":De("load",i),g=h;break;case"video":case"audio":for(g=0;g<Ho.length;g++)De(Ho[g],i);g=h;break;case"source":De("error",i),g=h;break;case"img":case"image":case"link":De("error",i),De("load",i),g=h;break;case"details":De("toggle",i),g=h;break;case"input":Xf(i,h),g=Nl(i,h),De("invalid",i);break;case"option":g=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},g=B({},h,{value:void 0}),De("invalid",i);break;case"textarea":nd(i,h),g=Il(i,h),De("invalid",i);break;default:g=h}zl(u,g),_=g;for(y in _)if(_.hasOwnProperty(y)){var M=_[y];y==="style"?cd(i,M):y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&sd(i,M)):y==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&_o(i,M):typeof M=="number"&&_o(i,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?M!=null&&y==="onScroll"&&De("scroll",i):M!=null&&b(i,y,M,S))}switch(u){case"input":Di(i),td(i,h,!1);break;case"textarea":Di(i),od(i);break;case"option":h.value!=null&&i.setAttribute("value",""+_e(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Ir(i,!!h.multiple,y,!1):h.defaultValue!=null&&Ir(i,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=es)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return lt(l),null;case 6:if(i&&l.stateNode!=null)vp(i,l,i.memoizedProps,h);else{if(typeof h!="string"&&l.stateNode===null)throw Error(t(166));if(u=dr(Yo.current),dr(on.current),cs(l)){if(h=l.stateNode,u=l.memoizedProps,h[rn]=l,(y=h.nodeValue!==u)&&(i=Nt,i!==null))switch(i.tag){case 3:Xi(h.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Xi(h.nodeValue,u,(i.mode&1)!==0)}y&&(l.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[rn]=l,l.stateNode=h}return lt(l),null;case 13:if(Ne(Ie),h=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Re&&Ot!==null&&l.mode&1&&!(l.flags&128))wh(),Gr(),l.flags|=98560,y=!1;else if(y=cs(l),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[rn]=l}else Gr(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;lt(l),y=!1}else Kt!==null&&(ha(Kt),Kt=null),y=!0;if(!y)return l.flags&65536?l:null}return l.flags&128?(l.lanes=u,l):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(l.child.flags|=8192,l.mode&1&&(i===null||Ie.current&1?He===0&&(He=3):ga())),l.updateQueue!==null&&(l.flags|=4),lt(l),null);case 4:return Xr(),na(i,l),i===null&&Uo(l.stateNode.containerInfo),lt(l),null;case 10:return Dc(l.type._context),lt(l),null;case 17:return wt(l.type)&&ns(),lt(l),null;case 19:if(Ne(Ie),y=l.memoizedState,y===null)return lt(l),null;if(h=(l.flags&128)!==0,S=y.rendering,S===null)if(h)ri(y,!1);else{if(He!==0||i!==null&&i.flags&128)for(i=l.child;i!==null;){if(S=ps(i),S!==null){for(l.flags|=128,ri(y,!1),h=S.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),l.subtreeFlags=0,h=u,u=l.child;u!==null;)y=u,i=h,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,i=S.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ae(Ie,Ie.current&1|2),l.child}i=i.sibling}y.tail!==null&&Be()>ro&&(l.flags|=128,h=!0,ri(y,!1),l.lanes=4194304)}else{if(!h)if(i=ps(S),i!==null){if(l.flags|=128,h=!0,u=i.updateQueue,u!==null&&(l.updateQueue=u,l.flags|=4),ri(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!Re)return lt(l),null}else 2*Be()-y.renderingStartTime>ro&&u!==1073741824&&(l.flags|=128,h=!0,ri(y,!1),l.lanes=4194304);y.isBackwards?(S.sibling=l.child,l.child=S):(u=y.last,u!==null?u.sibling=S:l.child=S,y.last=S)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Be(),l.sibling=null,u=Ie.current,Ae(Ie,h?u&1|2:u&1),l):(lt(l),null);case 22:case 23:return ma(),h=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(l.flags|=8192),h&&l.mode&1?Rt&1073741824&&(lt(l),l.subtreeFlags&6&&(l.flags|=8192)):lt(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function Qk(i,l){switch(Ec(l),l.tag){case 1:return wt(l.type)&&ns(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Xr(),Ne(St),Ne(it),Lc(),i=l.flags,i&65536&&!(i&128)?(l.flags=i&-65537|128,l):null;case 5:return Pc(l),null;case 13:if(Ne(Ie),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(t(340));Gr()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Ne(Ie),null;case 4:return Xr(),null;case 10:return Dc(l.type._context),null;case 22:case 23:return ma(),null;case 24:return null;default:return null}}var Cs=!1,ct=!1,Zk=typeof WeakSet=="function"?WeakSet:Set,ee=null;function to(i,l){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){ze(i,l,h)}else u.current=null}function ra(i,l,u){try{u()}catch(h){ze(i,l,h)}}var xp=!1;function Yk(i,l){if(mc=$i,i=Yd(),lc(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var S=0,_=-1,M=-1,z=0,j=0,U=i,$=null;t:for(;;){for(var Z;U!==u||g!==0&&U.nodeType!==3||(_=S+g),U!==y||h!==0&&U.nodeType!==3||(M=S+h),U.nodeType===3&&(S+=U.nodeValue.length),(Z=U.firstChild)!==null;)$=U,U=Z;for(;;){if(U===i)break t;if($===u&&++z===g&&(_=S),$===y&&++j===h&&(M=S),(Z=U.nextSibling)!==null)break;U=$,$=U.parentNode}U=Z}u=_===-1||M===-1?null:{start:_,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(gc={focusedElem:i,selectionRange:u},$i=!1,ee=l;ee!==null;)if(l=ee,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,ee=i;else for(;ee!==null;){l=ee;try{var te=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var re=te.memoizedProps,qe=te.memoizedState,R=l.stateNode,D=R.getSnapshotBeforeUpdate(l.elementType===l.type?re:Jt(l.type,re),qe);R.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var P=l.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(J){ze(l,l.return,J)}if(i=l.sibling,i!==null){i.return=l.return,ee=i;break}ee=l.return}return te=xp,xp=!1,te}function oi(i,l,u){var h=l.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&i)===i){var y=g.destroy;g.destroy=void 0,y!==void 0&&ra(l,u,y)}g=g.next}while(g!==h)}}function Es(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==l)}}function oa(i){var l=i.ref;if(l!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof l=="function"?l(i):l.current=i}}function Sp(i){var l=i.alternate;l!==null&&(i.alternate=null,Sp(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[rn],delete l[Ko],delete l[xc],delete l[Ik],delete l[Pk])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function wp(i){return i.tag===5||i.tag===3||i.tag===4}function Cp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||wp(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ia(i,l,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?u.nodeType===8?u.parentNode.insertBefore(i,l):u.insertBefore(i,l):(u.nodeType===8?(l=u.parentNode,l.insertBefore(i,u)):(l=u,l.appendChild(i)),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=es));else if(h!==4&&(i=i.child,i!==null))for(ia(i,l,u),i=i.sibling;i!==null;)ia(i,l,u),i=i.sibling}function sa(i,l,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(sa(i,l,u),i=i.sibling;i!==null;)sa(i,l,u),i=i.sibling}var Xe=null,Gt=!1;function zn(i,l,u){for(u=u.child;u!==null;)Ep(i,l,u),u=u.sibling}function Ep(i,l,u){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(zi,u)}catch{}switch(u.tag){case 5:ct||to(u,l);case 6:var h=Xe,g=Gt;Xe=null,zn(i,l,u),Xe=h,Gt=g,Xe!==null&&(Gt?(i=Xe,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Xe.removeChild(u.stateNode));break;case 18:Xe!==null&&(Gt?(i=Xe,u=u.stateNode,i.nodeType===8?vc(i.parentNode,u):i.nodeType===1&&vc(i,u),zo(i)):vc(Xe,u.stateNode));break;case 4:h=Xe,g=Gt,Xe=u.stateNode.containerInfo,Gt=!0,zn(i,l,u),Xe=h,Gt=g;break;case 0:case 11:case 14:case 15:if(!ct&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var y=g,S=y.destroy;y=y.tag,S!==void 0&&(y&2||y&4)&&ra(u,l,S),g=g.next}while(g!==h)}zn(i,l,u);break;case 1:if(!ct&&(to(u,l),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(_){ze(u,l,_)}zn(i,l,u);break;case 21:zn(i,l,u);break;case 22:u.mode&1?(ct=(h=ct)||u.memoizedState!==null,zn(i,l,u),ct=h):zn(i,l,u);break;default:zn(i,l,u)}}function _p(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Zk),l.forEach(function(h){var g=lv.bind(null,i,h);u.has(h)||(u.add(h),h.then(g,g))})}}function Qt(i,l){var u=l.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];try{var y=i,S=l,_=S;e:for(;_!==null;){switch(_.tag){case 5:Xe=_.stateNode,Gt=!1;break e;case 3:Xe=_.stateNode.containerInfo,Gt=!0;break e;case 4:Xe=_.stateNode.containerInfo,Gt=!0;break e}_=_.return}if(Xe===null)throw Error(t(160));Ep(y,S,g),Xe=null,Gt=!1;var M=g.alternate;M!==null&&(M.return=null),g.return=null}catch(z){ze(g,l,z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)bp(l,i),l=l.sibling}function bp(i,l){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Qt(l,i),ln(i),h&4){try{oi(3,i,i.return),Es(3,i)}catch(re){ze(i,i.return,re)}try{oi(5,i,i.return)}catch(re){ze(i,i.return,re)}}break;case 1:Qt(l,i),ln(i),h&512&&u!==null&&to(u,u.return);break;case 5:if(Qt(l,i),ln(i),h&512&&u!==null&&to(u,u.return),i.flags&32){var g=i.stateNode;try{_o(g,"")}catch(re){ze(i,i.return,re)}}if(h&4&&(g=i.stateNode,g!=null)){var y=i.memoizedProps,S=u!==null?u.memoizedProps:y,_=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{_==="input"&&y.type==="radio"&&y.name!=null&&ed(g,y),Ll(_,S);var z=Ll(_,y);for(S=0;S<M.length;S+=2){var j=M[S],U=M[S+1];j==="style"?cd(g,U):j==="dangerouslySetInnerHTML"?sd(g,U):j==="children"?_o(g,U):b(g,j,U,z)}switch(_){case"input":Ol(g,y);break;case"textarea":rd(g,y);break;case"select":var $=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var Z=y.value;Z!=null?Ir(g,!!y.multiple,Z,!1):$!==!!y.multiple&&(y.defaultValue!=null?Ir(g,!!y.multiple,y.defaultValue,!0):Ir(g,!!y.multiple,y.multiple?[]:"",!1))}g[Ko]=y}catch(re){ze(i,i.return,re)}}break;case 6:if(Qt(l,i),ln(i),h&4){if(i.stateNode===null)throw Error(t(162));g=i.stateNode,y=i.memoizedProps;try{g.nodeValue=y}catch(re){ze(i,i.return,re)}}break;case 3:if(Qt(l,i),ln(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{zo(l.containerInfo)}catch(re){ze(i,i.return,re)}break;case 4:Qt(l,i),ln(i);break;case 13:Qt(l,i),ln(i),g=i.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(aa=Be())),h&4&&_p(i);break;case 22:if(j=u!==null&&u.memoizedState!==null,i.mode&1?(ct=(z=ct)||j,Qt(l,i),ct=z):Qt(l,i),ln(i),h&8192){if(z=i.memoizedState!==null,(i.stateNode.isHidden=z)&&!j&&i.mode&1)for(ee=i,j=i.child;j!==null;){for(U=ee=j;ee!==null;){switch($=ee,Z=$.child,$.tag){case 0:case 11:case 14:case 15:oi(4,$,$.return);break;case 1:to($,$.return);var te=$.stateNode;if(typeof te.componentWillUnmount=="function"){h=$,u=$.return;try{l=h,te.props=l.memoizedProps,te.state=l.memoizedState,te.componentWillUnmount()}catch(re){ze(h,u,re)}}break;case 5:to($,$.return);break;case 22:if($.memoizedState!==null){Ap(U);continue}}Z!==null?(Z.return=$,ee=Z):Ap(U)}j=j.sibling}e:for(j=null,U=i;;){if(U.tag===5){if(j===null){j=U;try{g=U.stateNode,z?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(_=U.stateNode,M=U.memoizedProps.style,S=M!=null&&M.hasOwnProperty("display")?M.display:null,_.style.display=ld("display",S))}catch(re){ze(i,i.return,re)}}}else if(U.tag===6){if(j===null)try{U.stateNode.nodeValue=z?"":U.memoizedProps}catch(re){ze(i,i.return,re)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===i)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===i)break e;for(;U.sibling===null;){if(U.return===null||U.return===i)break e;j===U&&(j=null),U=U.return}j===U&&(j=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:Qt(l,i),ln(i),h&4&&_p(i);break;case 21:break;default:Qt(l,i),ln(i)}}function ln(i){var l=i.flags;if(l&2){try{e:{for(var u=i.return;u!==null;){if(wp(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(_o(g,""),h.flags&=-33);var y=Cp(i);sa(i,y,g);break;case 3:case 4:var S=h.stateNode.containerInfo,_=Cp(i);ia(i,_,S);break;default:throw Error(t(161))}}catch(M){ze(i,i.return,M)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function Xk(i,l,u){ee=i,Mp(i)}function Mp(i,l,u){for(var h=(i.mode&1)!==0;ee!==null;){var g=ee,y=g.child;if(g.tag===22&&h){var S=g.memoizedState!==null||Cs;if(!S){var _=g.alternate,M=_!==null&&_.memoizedState!==null||ct;_=Cs;var z=ct;if(Cs=S,(ct=M)&&!z)for(ee=g;ee!==null;)S=ee,M=S.child,S.tag===22&&S.memoizedState!==null?Dp(g):M!==null?(M.return=S,ee=M):Dp(g);for(;y!==null;)ee=y,Mp(y),y=y.sibling;ee=g,Cs=_,ct=z}Tp(i)}else g.subtreeFlags&8772&&y!==null?(y.return=g,ee=y):Tp(i)}}function Tp(i){for(;ee!==null;){var l=ee;if(l.flags&8772){var u=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:ct||Es(5,l);break;case 1:var h=l.stateNode;if(l.flags&4&&!ct)if(u===null)h.componentDidMount();else{var g=l.elementType===l.type?u.memoizedProps:Jt(l.type,u.memoizedProps);h.componentDidUpdate(g,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=l.updateQueue;y!==null&&Ah(l,y,h);break;case 3:var S=l.updateQueue;if(S!==null){if(u=null,l.child!==null)switch(l.child.tag){case 5:u=l.child.stateNode;break;case 1:u=l.child.stateNode}Ah(l,S,u)}break;case 5:var _=l.stateNode;if(u===null&&l.flags&4){u=_;var M=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var z=l.alternate;if(z!==null){var j=z.memoizedState;if(j!==null){var U=j.dehydrated;U!==null&&zo(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ct||l.flags&512&&oa(l)}catch($){ze(l,l.return,$)}}if(l===i){ee=null;break}if(u=l.sibling,u!==null){u.return=l.return,ee=u;break}ee=l.return}}function Ap(i){for(;ee!==null;){var l=ee;if(l===i){ee=null;break}var u=l.sibling;if(u!==null){u.return=l.return,ee=u;break}ee=l.return}}function Dp(i){for(;ee!==null;){var l=ee;try{switch(l.tag){case 0:case 11:case 15:var u=l.return;try{Es(4,l)}catch(M){ze(l,u,M)}break;case 1:var h=l.stateNode;if(typeof h.componentDidMount=="function"){var g=l.return;try{h.componentDidMount()}catch(M){ze(l,g,M)}}var y=l.return;try{oa(l)}catch(M){ze(l,y,M)}break;case 5:var S=l.return;try{oa(l)}catch(M){ze(l,S,M)}}}catch(M){ze(l,l.return,M)}if(l===i){ee=null;break}var _=l.sibling;if(_!==null){_.return=l.return,ee=_;break}ee=l.return}}var ev=Math.ceil,_s=T.ReactCurrentDispatcher,la=T.ReactCurrentOwner,Bt=T.ReactCurrentBatchConfig,ve=0,Ke=null,Ve=null,et=0,Rt=0,no=Nn(0),He=0,ii=null,pr=0,bs=0,ca=0,si=null,Et=null,aa=0,ro=1/0,xn=null,Ms=!1,ua=null,Ln=null,Ts=!1,Fn=null,As=0,li=0,fa=null,Ds=-1,Ns=0;function pt(){return ve&6?Be():Ds!==-1?Ds:Ds=Be()}function Bn(i){return i.mode&1?ve&2&&et!==0?et&-et:Lk.transition!==null?(Ns===0&&(Ns=Cd()),Ns):(i=be,i!==0||(i=window.event,i=i===void 0?16:Od(i.type)),i):1}function Zt(i,l,u,h){if(50<li)throw li=0,fa=null,Error(t(185));No(i,u,h),(!(ve&2)||i!==Ke)&&(i===Ke&&(!(ve&2)&&(bs|=u),He===4&&qn(i,et)),_t(i,h),u===1&&ve===0&&!(l.mode&1)&&(ro=Be()+500,is&&Rn()))}function _t(i,l){var u=i.callbackNode;L1(i,l);var h=Bi(i,i===Ke?et:0);if(h===0)u!==null&&xd(u),i.callbackNode=null,i.callbackPriority=0;else if(l=h&-h,i.callbackPriority!==l){if(u!=null&&xd(u),l===1)i.tag===0?zk(Op.bind(null,i)):yh(Op.bind(null,i)),Ok(function(){!(ve&6)&&Rn()}),u=null;else{switch(Ed(h)){case 1:u=Hl;break;case 4:u=Sd;break;case 16:u=Pi;break;case 536870912:u=wd;break;default:u=Pi}u=qp(u,Np.bind(null,i))}i.callbackPriority=l,i.callbackNode=u}}function Np(i,l){if(Ds=-1,Ns=0,ve&6)throw Error(t(327));var u=i.callbackNode;if(oo()&&i.callbackNode!==u)return null;var h=Bi(i,i===Ke?et:0);if(h===0)return null;if(h&30||h&i.expiredLanes||l)l=Os(i,h);else{l=h;var g=ve;ve|=2;var y=Ip();(Ke!==i||et!==l)&&(xn=null,ro=Be()+500,gr(i,l));do try{rv();break}catch(_){Rp(i,_)}while(!0);Ac(),_s.current=y,ve=g,Ve!==null?l=0:(Ke=null,et=0,l=He)}if(l!==0){if(l===2&&(g=Ul(i),g!==0&&(h=g,l=da(i,g))),l===1)throw u=ii,gr(i,0),qn(i,h),_t(i,Be()),u;if(l===6)qn(i,h);else{if(g=i.current.alternate,!(h&30)&&!tv(g)&&(l=Os(i,h),l===2&&(y=Ul(i),y!==0&&(h=y,l=da(i,y))),l===1))throw u=ii,gr(i,0),qn(i,h),_t(i,Be()),u;switch(i.finishedWork=g,i.finishedLanes=h,l){case 0:case 1:throw Error(t(345));case 2:yr(i,Et,xn);break;case 3:if(qn(i,h),(h&130023424)===h&&(l=aa+500-Be(),10<l)){if(Bi(i,0)!==0)break;if(g=i.suspendedLanes,(g&h)!==h){pt(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=kc(yr.bind(null,i,Et,xn),l);break}yr(i,Et,xn);break;case 4:if(qn(i,h),(h&4194240)===h)break;for(l=i.eventTimes,g=-1;0<h;){var S=31-Ut(h);y=1<<S,S=l[S],S>g&&(g=S),h&=~y}if(h=g,h=Be()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*ev(h/1960))-h,10<h){i.timeoutHandle=kc(yr.bind(null,i,Et,xn),h);break}yr(i,Et,xn);break;case 5:yr(i,Et,xn);break;default:throw Error(t(329))}}}return _t(i,Be()),i.callbackNode===u?Np.bind(null,i):null}function da(i,l){var u=si;return i.current.memoizedState.isDehydrated&&(gr(i,l).flags|=256),i=Os(i,l),i!==2&&(l=Et,Et=u,l!==null&&ha(l)),i}function ha(i){Et===null?Et=i:Et.push.apply(Et,i)}function tv(i){for(var l=i;;){if(l.flags&16384){var u=l.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var g=u[h],y=g.getSnapshot;g=g.value;try{if(!Wt(y(),g))return!1}catch{return!1}}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function qn(i,l){for(l&=~ca,l&=~bs,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var u=31-Ut(l),h=1<<u;i[u]=-1,l&=~h}}function Op(i){if(ve&6)throw Error(t(327));oo();var l=Bi(i,0);if(!(l&1))return _t(i,Be()),null;var u=Os(i,l);if(i.tag!==0&&u===2){var h=Ul(i);h!==0&&(l=h,u=da(i,h))}if(u===1)throw u=ii,gr(i,0),qn(i,l),_t(i,Be()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,yr(i,Et,xn),_t(i,Be()),null}function pa(i,l){var u=ve;ve|=1;try{return i(l)}finally{ve=u,ve===0&&(ro=Be()+500,is&&Rn())}}function mr(i){Fn!==null&&Fn.tag===0&&!(ve&6)&&oo();var l=ve;ve|=1;var u=Bt.transition,h=be;try{if(Bt.transition=null,be=1,i)return i()}finally{be=h,Bt.transition=u,ve=l,!(ve&6)&&Rn()}}function ma(){Rt=no.current,Ne(no)}function gr(i,l){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Nk(u)),Ve!==null)for(u=Ve.return;u!==null;){var h=u;switch(Ec(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ns();break;case 3:Xr(),Ne(St),Ne(it),Lc();break;case 5:Pc(h);break;case 4:Xr();break;case 13:Ne(Ie);break;case 19:Ne(Ie);break;case 10:Dc(h.type._context);break;case 22:case 23:ma()}u=u.return}if(Ke=i,Ve=i=Vn(i.current,null),et=Rt=l,He=0,ii=null,ca=bs=pr=0,Et=si=null,fr!==null){for(l=0;l<fr.length;l++)if(u=fr[l],h=u.interleaved,h!==null){u.interleaved=null;var g=h.next,y=u.pending;if(y!==null){var S=y.next;y.next=g,h.next=S}u.pending=h}fr=null}return i}function Rp(i,l){do{var u=Ve;try{if(Ac(),ms.current=vs,gs){for(var h=Pe.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}gs=!1}if(hr=0,We=je=Pe=null,Xo=!1,ei=0,la.current=null,u===null||u.return===null){He=1,ii=l,Ve=null;break}e:{var y=i,S=u.return,_=u,M=l;if(l=et,_.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var z=M,j=_,U=j.tag;if(!(j.mode&1)&&(U===0||U===11||U===15)){var $=j.alternate;$?(j.updateQueue=$.updateQueue,j.memoizedState=$.memoizedState,j.lanes=$.lanes):(j.updateQueue=null,j.memoizedState=null)}var Z=op(S);if(Z!==null){Z.flags&=-257,ip(Z,S,_,y,l),Z.mode&1&&rp(y,z,l),l=Z,M=z;var te=l.updateQueue;if(te===null){var re=new Set;re.add(M),l.updateQueue=re}else te.add(M);break e}else{if(!(l&1)){rp(y,z,l),ga();break e}M=Error(t(426))}}else if(Re&&_.mode&1){var qe=op(S);if(qe!==null){!(qe.flags&65536)&&(qe.flags|=256),ip(qe,S,_,y,l),Mc(eo(M,_));break e}}y=M=eo(M,_),He!==4&&(He=2),si===null?si=[y]:si.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,l&=-l,y.lanes|=l;var R=tp(y,M,l);Th(y,R);break e;case 1:_=M;var D=y.type,P=y.stateNode;if(!(y.flags&128)&&(typeof D.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Ln===null||!Ln.has(P)))){y.flags|=65536,l&=-l,y.lanes|=l;var J=np(y,_,l);Th(y,J);break e}}y=y.return}while(y!==null)}zp(u)}catch(oe){l=oe,Ve===u&&u!==null&&(Ve=u=u.return);continue}break}while(!0)}function Ip(){var i=_s.current;return _s.current=vs,i===null?vs:i}function ga(){(He===0||He===3||He===2)&&(He=4),Ke===null||!(pr&268435455)&&!(bs&268435455)||qn(Ke,et)}function Os(i,l){var u=ve;ve|=2;var h=Ip();(Ke!==i||et!==l)&&(xn=null,gr(i,l));do try{nv();break}catch(g){Rp(i,g)}while(!0);if(Ac(),ve=u,_s.current=h,Ve!==null)throw Error(t(261));return Ke=null,et=0,He}function nv(){for(;Ve!==null;)Pp(Ve)}function rv(){for(;Ve!==null&&!T1();)Pp(Ve)}function Pp(i){var l=Bp(i.alternate,i,Rt);i.memoizedProps=i.pendingProps,l===null?zp(i):Ve=l,la.current=null}function zp(i){var l=i;do{var u=l.alternate;if(i=l.return,l.flags&32768){if(u=Qk(u,l),u!==null){u.flags&=32767,Ve=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{He=6,Ve=null;return}}else if(u=Gk(u,l,Rt),u!==null){Ve=u;return}if(l=l.sibling,l!==null){Ve=l;return}Ve=l=i}while(l!==null);He===0&&(He=5)}function yr(i,l,u){var h=be,g=Bt.transition;try{Bt.transition=null,be=1,ov(i,l,u,h)}finally{Bt.transition=g,be=h}return null}function ov(i,l,u,h){do oo();while(Fn!==null);if(ve&6)throw Error(t(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=u.lanes|u.childLanes;if(F1(i,y),i===Ke&&(Ve=Ke=null,et=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Ts||(Ts=!0,qp(Pi,function(){return oo(),null})),y=(u.flags&15990)!==0,u.subtreeFlags&15990||y){y=Bt.transition,Bt.transition=null;var S=be;be=1;var _=ve;ve|=4,la.current=null,Yk(i,u),bp(u,i),Ek(gc),$i=!!mc,gc=mc=null,i.current=u,Xk(u),A1(),ve=_,be=S,Bt.transition=y}else i.current=u;if(Ts&&(Ts=!1,Fn=i,As=g),y=i.pendingLanes,y===0&&(Ln=null),O1(u.stateNode),_t(i,Be()),l!==null)for(h=i.onRecoverableError,u=0;u<l.length;u++)g=l[u],h(g.value,{componentStack:g.stack,digest:g.digest});if(Ms)throw Ms=!1,i=ua,ua=null,i;return As&1&&i.tag!==0&&oo(),y=i.pendingLanes,y&1?i===fa?li++:(li=0,fa=i):li=0,Rn(),null}function oo(){if(Fn!==null){var i=Ed(As),l=Bt.transition,u=be;try{if(Bt.transition=null,be=16>i?16:i,Fn===null)var h=!1;else{if(i=Fn,Fn=null,As=0,ve&6)throw Error(t(331));var g=ve;for(ve|=4,ee=i.current;ee!==null;){var y=ee,S=y.child;if(ee.flags&16){var _=y.deletions;if(_!==null){for(var M=0;M<_.length;M++){var z=_[M];for(ee=z;ee!==null;){var j=ee;switch(j.tag){case 0:case 11:case 15:oi(8,j,y)}var U=j.child;if(U!==null)U.return=j,ee=U;else for(;ee!==null;){j=ee;var $=j.sibling,Z=j.return;if(Sp(j),j===z){ee=null;break}if($!==null){$.return=Z,ee=$;break}ee=Z}}}var te=y.alternate;if(te!==null){var re=te.child;if(re!==null){te.child=null;do{var qe=re.sibling;re.sibling=null,re=qe}while(re!==null)}}ee=y}}if(y.subtreeFlags&2064&&S!==null)S.return=y,ee=S;else e:for(;ee!==null;){if(y=ee,y.flags&2048)switch(y.tag){case 0:case 11:case 15:oi(9,y,y.return)}var R=y.sibling;if(R!==null){R.return=y.return,ee=R;break e}ee=y.return}}var D=i.current;for(ee=D;ee!==null;){S=ee;var P=S.child;if(S.subtreeFlags&2064&&P!==null)P.return=S,ee=P;else e:for(S=D;ee!==null;){if(_=ee,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Es(9,_)}}catch(oe){ze(_,_.return,oe)}if(_===S){ee=null;break e}var J=_.sibling;if(J!==null){J.return=_.return,ee=J;break e}ee=_.return}}if(ve=g,Rn(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(zi,i)}catch{}h=!0}return h}finally{be=u,Bt.transition=l}}return!1}function Lp(i,l,u){l=eo(u,l),l=tp(i,l,1),i=Pn(i,l,1),l=pt(),i!==null&&(No(i,1,l),_t(i,l))}function ze(i,l,u){if(i.tag===3)Lp(i,i,u);else for(;l!==null;){if(l.tag===3){Lp(l,i,u);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ln===null||!Ln.has(h))){i=eo(u,i),i=np(l,i,1),l=Pn(l,i,1),i=pt(),l!==null&&(No(l,1,i),_t(l,i));break}}l=l.return}}function iv(i,l,u){var h=i.pingCache;h!==null&&h.delete(l),l=pt(),i.pingedLanes|=i.suspendedLanes&u,Ke===i&&(et&u)===u&&(He===4||He===3&&(et&130023424)===et&&500>Be()-aa?gr(i,0):ca|=u),_t(i,l)}function Fp(i,l){l===0&&(i.mode&1?(l=Fi,Fi<<=1,!(Fi&130023424)&&(Fi=4194304)):l=1);var u=pt();i=yn(i,l),i!==null&&(No(i,l,u),_t(i,u))}function sv(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),Fp(i,u)}function lv(i,l){var u=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(l),Fp(i,u)}var Bp;Bp=function(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps||St.current)Ct=!0;else{if(!(i.lanes&u)&&!(l.flags&128))return Ct=!1,Jk(i,l,u);Ct=!!(i.flags&131072)}else Ct=!1,Re&&l.flags&1048576&&kh(l,ls,l.index);switch(l.lanes=0,l.tag){case 2:var h=l.type;ws(i,l),i=l.pendingProps;var g=Wr(l,it.current);Yr(l,u),g=qc(null,l,h,i,g,u);var y=Vc();return l.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,wt(h)?(y=!0,rs(l)):y=!1,l.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Rc(l),g.updater=xs,l.stateNode=g,g._reactInternals=l,Kc(l,h,i,u),l=Zc(null,l,h,!0,y,u)):(l.tag=0,Re&&y&&Cc(l),ht(null,l,g,u),l=l.child),l;case 16:h=l.elementType;e:{switch(ws(i,l),i=l.pendingProps,g=h._init,h=g(h._payload),l.type=h,g=l.tag=av(h),i=Jt(h,i),g){case 0:l=Qc(null,l,h,i,u);break e;case 1:l=fp(null,l,h,i,u);break e;case 11:l=sp(null,l,h,i,u);break e;case 14:l=lp(null,l,h,Jt(h.type,i),u);break e}throw Error(t(306,h,""))}return l;case 0:return h=l.type,g=l.pendingProps,g=l.elementType===h?g:Jt(h,g),Qc(i,l,h,g,u);case 1:return h=l.type,g=l.pendingProps,g=l.elementType===h?g:Jt(h,g),fp(i,l,h,g,u);case 3:e:{if(dp(l),i===null)throw Error(t(387));h=l.pendingProps,y=l.memoizedState,g=y.element,Mh(i,l),hs(l,h,null,u);var S=l.memoizedState;if(h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){g=eo(Error(t(423)),l),l=hp(i,l,h,u,g);break e}else if(h!==g){g=eo(Error(t(424)),l),l=hp(i,l,h,u,g);break e}else for(Ot=Dn(l.stateNode.containerInfo.firstChild),Nt=l,Re=!0,Kt=null,u=_h(l,null,h,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Gr(),h===g){l=vn(i,l,u);break e}ht(i,l,h,u)}l=l.child}return l;case 5:return Dh(l),i===null&&bc(l),h=l.type,g=l.pendingProps,y=i!==null?i.memoizedProps:null,S=g.children,yc(h,g)?S=null:y!==null&&yc(h,y)&&(l.flags|=32),up(i,l),ht(i,l,S,u),l.child;case 6:return i===null&&bc(l),null;case 13:return pp(i,l,u);case 4:return Ic(l,l.stateNode.containerInfo),h=l.pendingProps,i===null?l.child=Qr(l,null,h,u):ht(i,l,h,u),l.child;case 11:return h=l.type,g=l.pendingProps,g=l.elementType===h?g:Jt(h,g),sp(i,l,h,g,u);case 7:return ht(i,l,l.pendingProps,u),l.child;case 8:return ht(i,l,l.pendingProps.children,u),l.child;case 12:return ht(i,l,l.pendingProps.children,u),l.child;case 10:e:{if(h=l.type._context,g=l.pendingProps,y=l.memoizedProps,S=g.value,Ae(us,h._currentValue),h._currentValue=S,y!==null)if(Wt(y.value,S)){if(y.children===g.children&&!St.current){l=vn(i,l,u);break e}}else for(y=l.child,y!==null&&(y.return=l);y!==null;){var _=y.dependencies;if(_!==null){S=y.child;for(var M=_.firstContext;M!==null;){if(M.context===h){if(y.tag===1){M=kn(-1,u&-u),M.tag=2;var z=y.updateQueue;if(z!==null){z=z.shared;var j=z.pending;j===null?M.next=M:(M.next=j.next,j.next=M),z.pending=M}}y.lanes|=u,M=y.alternate,M!==null&&(M.lanes|=u),Nc(y.return,u,l),_.lanes|=u;break}M=M.next}}else if(y.tag===10)S=y.type===l.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(t(341));S.lanes|=u,_=S.alternate,_!==null&&(_.lanes|=u),Nc(S,u,l),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===l){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}ht(i,l,g.children,u),l=l.child}return l;case 9:return g=l.type,h=l.pendingProps.children,Yr(l,u),g=Lt(g),h=h(g),l.flags|=1,ht(i,l,h,u),l.child;case 14:return h=l.type,g=Jt(h,l.pendingProps),g=Jt(h.type,g),lp(i,l,h,g,u);case 15:return cp(i,l,l.type,l.pendingProps,u);case 17:return h=l.type,g=l.pendingProps,g=l.elementType===h?g:Jt(h,g),ws(i,l),l.tag=1,wt(h)?(i=!0,rs(l)):i=!1,Yr(l,u),Xh(l,h,g),Kc(l,h,g,u),Zc(null,l,h,!0,i,u);case 19:return gp(i,l,u);case 22:return ap(i,l,u)}throw Error(t(156,l.tag))};function qp(i,l){return vd(i,l)}function cv(i,l,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(i,l,u,h){return new cv(i,l,u,h)}function ya(i){return i=i.prototype,!(!i||!i.isReactComponent)}function av(i){if(typeof i=="function")return ya(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ae)return 11;if(i===he)return 14}return 2}function Vn(i,l){var u=i.alternate;return u===null?(u=qt(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Rs(i,l,u,h,g,y){var S=2;if(h=i,typeof i=="function")ya(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case W:return kr(u.children,g,y,l);case L:S=8,g|=8;break;case F:return i=qt(12,u,l,g|2),i.elementType=F,i.lanes=y,i;case xe:return i=qt(13,u,l,g),i.elementType=xe,i.lanes=y,i;case V:return i=qt(19,u,l,g),i.elementType=V,i.lanes=y,i;case ke:return Is(u,g,y,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:S=10;break e;case X:S=9;break e;case ae:S=11;break e;case he:S=14;break e;case pe:S=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return l=qt(S,u,l,g),l.elementType=i,l.type=h,l.lanes=y,l}function kr(i,l,u,h){return i=qt(7,i,h,l),i.lanes=u,i}function Is(i,l,u,h){return i=qt(22,i,h,l),i.elementType=ke,i.lanes=u,i.stateNode={isHidden:!1},i}function ka(i,l,u){return i=qt(6,i,null,l),i.lanes=u,i}function va(i,l,u){return l=qt(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function uv(i,l,u,h,g){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wl(0),this.expirationTimes=Wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function xa(i,l,u,h,g,y,S,_,M){return i=new uv(i,l,u,_,M),l===1?(l=1,y===!0&&(l|=8)):l=0,y=qt(3,null,null,l),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rc(y),i}function fv(i,l,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:h==null?null:""+h,children:i,containerInfo:l,implementation:u}}function Vp(i){if(!i)return On;i=i._reactInternals;e:{if(sr(i)!==i||i.tag!==1)throw Error(t(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(wt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(wt(u))return mh(i,u,l)}return l}function $p(i,l,u,h,g,y,S,_,M){return i=xa(u,h,!0,i,g,y,S,_,M),i.context=Vp(null),u=i.current,h=pt(),g=Bn(u),y=kn(h,g),y.callback=l??null,Pn(u,y,g),i.current.lanes=g,No(i,g,h),_t(i,h),i}function Ps(i,l,u,h){var g=l.current,y=pt(),S=Bn(g);return u=Vp(u),l.context===null?l.context=u:l.pendingContext=u,l=kn(y,S),l.payload={element:i},h=h===void 0?null:h,h!==null&&(l.callback=h),i=Pn(g,l,S),i!==null&&(Zt(i,g,S,y),ds(i,g,S)),S}function zs(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function jp(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function Sa(i,l){jp(i,l),(i=i.alternate)&&jp(i,l)}function dv(){return null}var Hp=typeof reportError=="function"?reportError:function(i){console.error(i)};function wa(i){this._internalRoot=i}Ls.prototype.render=wa.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(t(409));Ps(i,l,null,null)},Ls.prototype.unmount=wa.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;mr(function(){Ps(null,i,null,null)}),l[hn]=null}};function Ls(i){this._internalRoot=i}Ls.prototype.unstable_scheduleHydration=function(i){if(i){var l=Md();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Mn.length&&l!==0&&l<Mn[u].priority;u++);Mn.splice(u,0,i),u===0&&Dd(i)}};function Ca(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Fs(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Up(){}function hv(i,l,u,h,g){if(g){if(typeof h=="function"){var y=h;h=function(){var z=zs(S);y.call(z)}}var S=$p(l,h,i,0,null,!1,!1,"",Up);return i._reactRootContainer=S,i[hn]=S.current,Uo(i.nodeType===8?i.parentNode:i),mr(),S}for(;g=i.lastChild;)i.removeChild(g);if(typeof h=="function"){var _=h;h=function(){var z=zs(M);_.call(z)}}var M=xa(i,0,!1,null,null,!1,!1,"",Up);return i._reactRootContainer=M,i[hn]=M.current,Uo(i.nodeType===8?i.parentNode:i),mr(function(){Ps(l,M,u,h)}),M}function Bs(i,l,u,h,g){var y=u._reactRootContainer;if(y){var S=y;if(typeof g=="function"){var _=g;g=function(){var M=zs(S);_.call(M)}}Ps(l,S,i,g)}else S=hv(u,l,i,g,h);return zs(S)}_d=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var u=Do(l.pendingLanes);u!==0&&(Kl(l,u|1),_t(l,Be()),!(ve&6)&&(ro=Be()+500,Rn()))}break;case 13:mr(function(){var h=yn(i,1);if(h!==null){var g=pt();Zt(h,i,1,g)}}),Sa(i,1)}},Jl=function(i){if(i.tag===13){var l=yn(i,134217728);if(l!==null){var u=pt();Zt(l,i,134217728,u)}Sa(i,134217728)}},bd=function(i){if(i.tag===13){var l=Bn(i),u=yn(i,l);if(u!==null){var h=pt();Zt(u,i,l,h)}Sa(i,l)}},Md=function(){return be},Td=function(i,l){var u=be;try{return be=i,l()}finally{be=u}},ql=function(i,l,u){switch(l){case"input":if(Ol(i,u),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<u.length;l++){var h=u[l];if(h!==i&&h.form===i.form){var g=ts(h);if(!g)throw Error(t(90));Yf(h),Ol(h,g)}}}break;case"textarea":rd(i,u);break;case"select":l=u.value,l!=null&&Ir(i,!!u.multiple,l,!1)}},dd=pa,hd=mr;var pv={usingClientEntryPoint:!1,Events:[Jo,Hr,ts,ud,fd,pa]},ci={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mv={bundleType:ci.bundleType,version:ci.version,rendererPackageName:ci.rendererPackageName,rendererConfig:ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=yd(i),i===null?null:i.stateNode},findFiberByHostInstance:ci.findFiberByHostInstance||dv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{zi=qs.inject(mv),nn=qs}catch{}}return bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pv,bt.createPortal=function(i,l){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ca(l))throw Error(t(200));return fv(i,l,null,u)},bt.createRoot=function(i,l){if(!Ca(i))throw Error(t(299));var u=!1,h="",g=Hp;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onRecoverableError!==void 0&&(g=l.onRecoverableError)),l=xa(i,1,!1,null,null,u,!1,h,g),i[hn]=l.current,Uo(i.nodeType===8?i.parentNode:i),new wa(l)},bt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=yd(l),i=i===null?null:i.stateNode,i},bt.flushSync=function(i){return mr(i)},bt.hydrate=function(i,l,u){if(!Fs(l))throw Error(t(200));return Bs(null,i,l,!0,u)},bt.hydrateRoot=function(i,l,u){if(!Ca(i))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,g=!1,y="",S=Hp;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),l=$p(l,null,i,1,u??null,g,!1,y,S),i[hn]=l.current,Uo(i),h)for(i=0;i<h.length;i++)u=h[i],g=u._getVersion,g=g(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,g]:l.mutableSourceEagerHydrationData.push(u,g);return new Ls(l)},bt.render=function(i,l,u){if(!Fs(l))throw Error(t(200));return Bs(null,i,l,!1,u)},bt.unmountComponentAtNode=function(i){if(!Fs(i))throw Error(t(40));return i._reactRootContainer?(mr(function(){Bs(null,null,i,!1,function(){i._reactRootContainer=null,i[hn]=null})}),!0):!1},bt.unstable_batchedUpdates=pa,bt.unstable_renderSubtreeIntoContainer=function(i,l,u,h){if(!Fs(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Bs(i,l,u,!1,h)},bt.version="18.3.1-next-f1338f8080-20240426",bt}var Xp;function D0(){if(Xp)return ba.exports;Xp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ba.exports=Cv(),ba.exports}var em;function Ev(){if(em)return Vs;em=1;var r=D0();return Vs.createRoot=r.createRoot,Vs.hydrateRoot=r.hydrateRoot,Vs}var _v=Ev();function nt(r){this.content=r}nt.prototype={constructor:nt,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,t){var n=t&&t!=r?this.remove(t):this,o=n.find(r),s=n.content.slice();return o==-1?s.push(t||r,e):(s[o+1]=e,t&&(s[o]=t)),new nt(s)},remove:function(r){var e=this.find(r);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new nt(t)},addToStart:function(r,e){return new nt([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var t=this.remove(r).content.slice();return t.push(r,e),new nt(t)},addBefore:function(r,e,t){var n=this.remove(e),o=n.content.slice(),s=n.find(r);return o.splice(s==-1?o.length:s,0,e,t),new nt(o)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=nt.from(r),r.size?new nt(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=nt.from(r),r.size?new nt(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=nt.from(r);for(var t=0;t<r.content.length;t+=2)e=e.remove(r.content[t]);return e},toObject:function(){var r={};return this.forEach(function(e,t){r[e]=t}),r},get size(){return this.content.length>>1}};nt.from=function(r){if(r instanceof nt)return r;var e=[];if(r)for(var t in r)e.push(t,r[t]);return new nt(e)};function N0(r,e,t){for(let n=0;;n++){if(n==r.childCount||n==e.childCount)return r.childCount==e.childCount?null:t;let o=r.child(n),s=e.child(n);if(o==s){t+=o.nodeSize;continue}if(!o.sameMarkup(s))return t;if(o.isText&&o.text!=s.text){for(let c=0;o.text[c]==s.text[c];c++)t++;return t}if(o.content.size||s.content.size){let c=N0(o.content,s.content,t+1);if(c!=null)return c}t+=o.nodeSize}}function O0(r,e,t,n){for(let o=r.childCount,s=e.childCount;;){if(o==0||s==0)return o==s?null:{a:t,b:n};let c=r.child(--o),a=e.child(--s),f=c.nodeSize;if(c==a){t-=f,n-=f;continue}if(!c.sameMarkup(a))return{a:t,b:n};if(c.isText&&c.text!=a.text){let d=0,p=Math.min(c.text.length,a.text.length);for(;d<p&&c.text[c.text.length-d-1]==a.text[a.text.length-d-1];)d++,t--,n--;return{a:t,b:n}}if(c.content.size||a.content.size){let d=O0(c.content,a.content,t-1,n-1);if(d)return d}t-=f,n-=f}}class H{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,o=0,s){for(let c=0,a=0;a<t;c++){let f=this.content[c],d=a+f.nodeSize;if(d>e&&n(f,o+a,s||null,c)!==!1&&f.content.size){let p=a+1;f.nodesBetween(Math.max(0,e-p),Math.min(f.content.size,t-p),n,o+p)}a=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,o){let s="",c=!0;return this.nodesBetween(e,t,(a,f)=>{let d=a.isText?a.text.slice(Math.max(e,f)-f,t-f):a.isLeaf?o?typeof o=="function"?o(a):o:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&d||a.isTextblock)&&n&&(c?c=!1:s+=n),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,o=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(n)&&(o[o.length-1]=t.withText(t.text+n.text),s=1);s<e.content.length;s++)o.push(e.content[s]);return new H(o,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let n=[],o=0;if(t>e)for(let s=0,c=0;c<t;s++){let a=this.content[s],f=c+a.nodeSize;f>e&&((c<e||f>t)&&(a.isText?a=a.cut(Math.max(0,e-c),Math.min(a.text.length,t-c)):a=a.cut(Math.max(0,e-c-1),Math.min(a.content.size,t-c-1))),n.push(a),o+=a.nodeSize),c=f}return new H(n,o)}cutByIndex(e,t){return e==t?H.empty:e==0&&t==this.content.length?this:new H(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let o=this.content.slice(),s=this.size+t.nodeSize-n.nodeSize;return o[e]=t,new H(o,s)}addToStart(e){return new H([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new H(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let o=this.content[t];e(o,n,t),n+=o.nodeSize}}findDiffStart(e,t=0){return N0(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return O0(this,e,t,n)}findIndex(e,t=-1){if(e==0)return $s(0,e);if(e==this.size)return $s(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,o=0;;n++){let s=this.child(n),c=o+s.nodeSize;if(c>=e)return c==e||t>0?$s(n+1,c):$s(n,o);o=c}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return H.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new H(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return H.empty;let t,n=0;for(let o=0;o<e.length;o++){let s=e[o];n+=s.nodeSize,o&&s.isText&&e[o-1].sameMarkup(s)?(t||(t=e.slice(0,o)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new H(t||e,n)}static from(e){if(!e)return H.empty;if(e instanceof H)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new H([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}H.empty=new H([],0);const Aa={index:0,offset:0};function $s(r,e){return Aa.index=r,Aa.offset=e,Aa}function nl(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!nl(r[n],e[n]))return!1}else{for(let n in r)if(!(n in e)||!nl(r[n],e[n]))return!1;for(let n in e)if(!(n in r))return!1}return!0}let Me=class of{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let o=0;o<e.length;o++){let s=e[o];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,o));else{if(s.type.excludes(this.type))return e;!n&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,o)),t.push(this),n=!0),t&&t.push(s)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&nl(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let o=n.create(t.attrs);return n.checkAttrs(o.attrs),o}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return of.none;if(e instanceof of)return[e];let t=e.slice();return t.sort((n,o)=>n.type.rank-o.type.rank),t}};Me.none=[];class rl extends Error{}class Q{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=I0(this.content,e+this.openStart,t);return n&&new Q(n,this.openStart,this.openEnd)}removeBetween(e,t){return new Q(R0(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Q.empty;let n=t.openStart||0,o=t.openEnd||0;if(typeof n!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Q(H.fromJSON(e,t.content),n,o)}static maxOpen(e,t=!0){let n=0,o=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)n++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)o++;return new Q(e,n,o)}}Q.empty=new Q(H.empty,0,0);function R0(r,e,t){let{index:n,offset:o}=r.findIndex(e),s=r.maybeChild(n),{index:c,offset:a}=r.findIndex(t);if(o==e||s.isText){if(a!=t&&!r.child(c).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(n!=c)throw new RangeError("Removing non-flat range");return r.replaceChild(n,s.copy(R0(s.content,e-o-1,t-o-1)))}function I0(r,e,t,n){let{index:o,offset:s}=r.findIndex(e),c=r.maybeChild(o);if(s==e||c.isText)return r.cut(0,e).append(t).append(r.cut(e));let a=I0(c.content,e-s-1,t);return a&&r.replaceChild(o,c.copy(a))}function bv(r,e,t){if(t.openStart>r.depth)throw new rl("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new rl("Inconsistent open depths");return P0(r,e,t,0)}function P0(r,e,t,n){let o=r.index(n),s=r.node(n);if(o==e.index(n)&&n<r.depth-t.openStart){let c=P0(r,e,t,n+1);return s.copy(s.content.replaceChild(o,c))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==n&&e.depth==n){let c=r.parent,a=c.content;return br(c,a.cut(0,r.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:c,end:a}=Mv(t,r);return br(s,L0(r,c,a,e,n))}else return br(s,ol(r,e,n))}function z0(r,e){if(!e.type.compatibleContent(r.type))throw new rl("Cannot join "+e.type.name+" onto "+r.type.name)}function sf(r,e,t){let n=r.node(t);return z0(n,e.node(t)),n}function _r(r,e){let t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function mi(r,e,t,n){let o=(e||r).node(t),s=0,c=e?e.index(t):o.childCount;r&&(s=r.index(t),r.depth>t?s++:r.textOffset&&(_r(r.nodeAfter,n),s++));for(let a=s;a<c;a++)_r(o.child(a),n);e&&e.depth==t&&e.textOffset&&_r(e.nodeBefore,n)}function br(r,e){return r.type.checkContent(e),r.copy(e)}function L0(r,e,t,n,o){let s=r.depth>o&&sf(r,e,o+1),c=n.depth>o&&sf(t,n,o+1),a=[];return mi(null,r,o,a),s&&c&&e.index(o)==t.index(o)?(z0(s,c),_r(br(s,L0(r,e,t,n,o+1)),a)):(s&&_r(br(s,ol(r,e,o+1)),a),mi(e,t,o,a),c&&_r(br(c,ol(t,n,o+1)),a)),mi(n,null,o,a),new H(a)}function ol(r,e,t){let n=[];if(mi(null,r,t,n),r.depth>t){let o=sf(r,e,t+1);_r(br(o,ol(r,e,t+1)),n)}return mi(e,null,t,n),new H(n)}function Mv(r,e){let t=e.depth-r.openStart,o=e.node(t).copy(r.content);for(let s=t-1;s>=0;s--)o=e.node(s).copy(H.from(o));return{start:o.resolveNoCache(r.openStart+t),end:o.resolveNoCache(o.content.size-r.openEnd-t)}}class vi{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],o=e.child(t);return n?e.child(t).cut(n):o}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[t*3],o=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)o+=n.child(s).nodeSize;return o}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Me.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),o=e.maybeChild(t);if(!n){let a=n;n=o,o=a}let s=n.marks;for(var c=0;c<s.length;c++)s[c].type.spec.inclusive===!1&&(!o||!s[c].isInSet(o.marks))&&(s=s[c--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,o=e.parent.maybeChild(e.index());for(var s=0;s<n.length;s++)n[s].type.spec.inclusive===!1&&(!o||!n[s].isInSet(o.marks))&&(n=n[s--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new il(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],o=0,s=t;for(let c=e;;){let{index:a,offset:f}=c.content.findIndex(s),d=s-f;if(n.push(c,a,o+f),!d||(c=c.child(a),c.isText))break;s=d-1,o+=f+1}return new vi(t,n,s)}static resolveCached(e,t){let n=tm.get(e);if(n)for(let s=0;s<n.elts.length;s++){let c=n.elts[s];if(c.pos==t)return c}else tm.set(e,n=new Tv);let o=n.elts[n.i]=vi.resolve(e,t);return n.i=(n.i+1)%Av,o}}class Tv{constructor(){this.elts=[],this.i=0}}const Av=12,tm=new WeakMap;class il{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Dv=Object.create(null);let Qn=class lf{constructor(e,t,n,o=Me.none){this.type=e,this.attrs=t,this.marks=o,this.content=n||H.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,o=0){this.content.nodesBetween(e,t,n,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,o){return this.content.textBetween(e,t,n,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&nl(this.attrs,t||e.defaultAttrs||Dv)&&Me.sameSet(this.marks,n||Me.none)}copy(e=null){return e==this.content?this:new lf(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new lf(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return Q.empty;let o=this.resolve(e),s=this.resolve(t),c=n?0:o.sharedDepth(t),a=o.start(c),d=o.node(c).content.cut(o.pos-a,s.pos-a);return new Q(d,o.depth-c,s.depth-c)}replace(e,t,n){return bv(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:o}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(o==e||t.isText)return t;e-=o+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let o=this.content.child(t-1);return{node:o,index:t-1,offset:n-o.nodeSize}}resolve(e){return vi.resolveCached(this,e)}resolveNoCache(e){return vi.resolve(this,e)}rangeHasMark(e,t,n){let o=!1;return t>e&&this.nodesBetween(e,t,s=>(n.isInSet(s.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),F0(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=H.empty,o=0,s=n.childCount){let c=this.contentMatchAt(e).matchFragment(n,o,s),a=c&&c.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let f=o;f<s;f++)if(!this.type.allowsMarks(n.child(f).marks))return!1;return!0}canReplaceWith(e,t,n,o){if(o&&!this.type.allowsMarks(o))return!1;let s=this.contentMatchAt(e).matchType(n),c=s&&s.matchFragment(this.content,t);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Me.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Me.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let o=H.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,o,n);return s.type.checkAttrs(s.attrs),s}};Qn.prototype.text=void 0;class sl extends Qn{constructor(e,t,n,o){if(super(e,t,null,o),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):F0(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new sl(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new sl(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function F0(r,e){for(let t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}class Dr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new Nv(e,t);if(n.next==null)return Dr.empty;let o=B0(n);n.next&&n.err("Unexpected trailing text");let s=Fv(Lv(o));return Bv(s,n),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let o=this;for(let s=t;o&&s<n;s++)o=o.matchType(e.child(s).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let o=[this];function s(c,a){let f=c.matchFragment(e,n);if(f&&(!t||f.validEnd))return H.from(a.map(d=>d.createAndFill()));for(let d=0;d<c.next.length;d++){let{type:p,next:m}=c.next[d];if(!(p.isText||p.hasRequiredAttrs())&&o.indexOf(m)==-1){o.push(m);let v=s(m,a.concat(p));if(v)return v}}return null}return s(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let o=n.shift(),s=o.match;if(s.matchType(e)){let c=[];for(let a=o;a.type;a=a.via)c.push(a.type);return c.reverse()}for(let c=0;c<s.next.length;c++){let{type:a,next:f}=s.next[c];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!o.type||f.validEnd)&&(n.push({match:a.contentMatch,type:a,via:o}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let o=0;o<n.next.length;o++)e.indexOf(n.next[o].next)==-1&&t(n.next[o].next)}return t(this),e.map((n,o)=>{let s=o+(n.validEnd?"*":" ")+" ";for(let c=0;c<n.next.length;c++)s+=(c?", ":"")+n.next[c].type.name+"->"+e.indexOf(n.next[c].next);return s}).join(`
`)}}Dr.empty=new Dr(!0);class Nv{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function B0(r){let e=[];do e.push(Ov(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Ov(r){let e=[];do e.push(Rv(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Rv(r){let e=zv(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=Iv(r,e);else break;return e}function nm(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function Iv(r,e){let t=nm(r),n=t;return r.eat(",")&&(r.next!="}"?n=nm(r):n=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function Pv(r,e){let t=r.nodeTypes,n=t[e];if(n)return[n];let o=[];for(let s in t){let c=t[s];c.isInGroup(e)&&o.push(c)}return o.length==0&&r.err("No node type or group '"+e+"' found"),o}function zv(r){if(r.eat("(")){let e=B0(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=Pv(r,r.next).map(t=>(r.inline==null?r.inline=t.isInline:r.inline!=t.isInline&&r.err("Mixing inline and block content"),{type:"name",value:t}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Lv(r){let e=[[]];return o(s(r,0),t()),e;function t(){return e.push([])-1}function n(c,a,f){let d={term:f,to:a};return e[c].push(d),d}function o(c,a){c.forEach(f=>f.to=a)}function s(c,a){if(c.type=="choice")return c.exprs.reduce((f,d)=>f.concat(s(d,a)),[]);if(c.type=="seq")for(let f=0;;f++){let d=s(c.exprs[f],a);if(f==c.exprs.length-1)return d;o(d,a=t())}else if(c.type=="star"){let f=t();return n(a,f),o(s(c.expr,f),f),[n(f)]}else if(c.type=="plus"){let f=t();return o(s(c.expr,a),f),o(s(c.expr,f),f),[n(f)]}else{if(c.type=="opt")return[n(a)].concat(s(c.expr,a));if(c.type=="range"){let f=a;for(let d=0;d<c.min;d++){let p=t();o(s(c.expr,f),p),f=p}if(c.max==-1)o(s(c.expr,f),f);else for(let d=c.min;d<c.max;d++){let p=t();n(f,p),o(s(c.expr,f),p),f=p}return[n(f)]}else{if(c.type=="name")return[n(a,void 0,c.value)];throw new Error("Unknown expr type")}}}}function q0(r,e){return e-r}function rm(r,e){let t=[];return n(e),t.sort(q0);function n(o){let s=r[o];if(s.length==1&&!s[0].term)return n(s[0].to);t.push(o);for(let c=0;c<s.length;c++){let{term:a,to:f}=s[c];!a&&t.indexOf(f)==-1&&n(f)}}}function Fv(r){let e=Object.create(null);return t(rm(r,0));function t(n){let o=[];n.forEach(c=>{r[c].forEach(({term:a,to:f})=>{if(!a)return;let d;for(let p=0;p<o.length;p++)o[p][0]==a&&(d=o[p][1]);rm(r,f).forEach(p=>{d||o.push([a,d=[]]),d.indexOf(p)==-1&&d.push(p)})})});let s=e[n.join(",")]=new Dr(n.indexOf(r.length-1)>-1);for(let c=0;c<o.length;c++){let a=o[c][1].sort(q0);s.next.push({type:o[c][0],next:e[a.join(",")]||t(a)})}return s}}function Bv(r,e){for(let t=0,n=[r];t<n.length;t++){let o=n[t],s=!o.validEnd,c=[];for(let a=0;a<o.next.length;a++){let{type:f,next:d}=o.next[a];c.push(f.name),s&&!(f.isText||f.hasRequiredAttrs())&&(s=!1),n.indexOf(d)==-1&&n.push(d)}s&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function V0(r){let e=Object.create(null);for(let t in r){let n=r[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function $0(r,e){let t=Object.create(null);for(let n in r){let o=e&&e[n];if(o===void 0){let s=r[n];if(s.hasDefault)o=s.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=o}return t}function j0(r,e,t,n){for(let o in e)if(!(o in r))throw new RangeError(`Unsupported attribute ${o} for ${t} of type ${o}`);for(let o in r){let s=r[o];s.validate&&s.validate(e[o])}}function H0(r,e){let t=Object.create(null);if(e)for(let n in e)t[n]=new Vv(r,n,e[n]);return t}let om=class U0{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=H0(e,n.attrs),this.defaultAttrs=V0(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Dr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:$0(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Qn(this,this.computeAttrs(e),H.from(t),Me.setFrom(n))}createChecked(e=null,t,n){return t=H.from(t),this.checkContent(t),new Qn(this,this.computeAttrs(e),t,Me.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=H.from(t),t.size){let c=this.contentMatch.fillBefore(t);if(!c)return null;t=c.append(t)}let o=this.contentMatch.matchFragment(t),s=o&&o.fillBefore(H.empty,!0);return s?new Qn(this,e,t.append(s),Me.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){j0(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Me.none:e}static compile(e,t){let n=Object.create(null);e.forEach((s,c)=>n[s]=new U0(s,t,c));let o=t.spec.topNode||"doc";if(!n[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let s in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function qv(r,e,t){let n=t.split("|");return o=>{let s=o===null?"null":typeof o;if(n.indexOf(s)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${r}, got ${s}`)}}class Vv{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?qv(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class kl{constructor(e,t,n,o){this.name=e,this.rank=t,this.schema=n,this.spec=o,this.attrs=H0(e,o.attrs),this.excluded=null;let s=V0(this.attrs);this.instance=s?new Me(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Me(this,$0(this.attrs,e))}static compile(e,t){let n=Object.create(null),o=0;return e.forEach((s,c)=>n[s]=new kl(s,o++,t,c)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){j0(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class W0{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let o in e)t[o]=e[o];t.nodes=nt.from(e.nodes),t.marks=nt.from(e.marks||{}),this.nodes=om.compile(this.spec.nodes,this),this.marks=kl.compile(this.spec.marks,this);let n=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let s=this.nodes[o],c=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=n[c]||(n[c]=Dr.parse(c,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?im(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let o in this.marks){let s=this.marks[o],c=s.spec.excludes;s.excluded=c==null?[s]:c==""?[]:im(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof om){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,o)}text(e,t){let n=this.nodes.text;return new sl(n,n.defaultAttrs,e,Me.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Qn.fromJSON(this,e)}markFromJSON(e){return Me.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function im(r,e){let t=[];for(let n=0;n<e.length;n++){let o=e[n],s=r.marks[o],c=s;if(s)t.push(s);else for(let a in r.marks){let f=r.marks[a];(o=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(o)>-1)&&t.push(c=f)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}function $v(r){return r.tag!=null}function jv(r){return r.style!=null}class Zn{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(o=>{if($v(o))this.tags.push(o);else if(jv(o)){let s=/[^=]*/.exec(o.style)[0];n.indexOf(s)<0&&n.push(s),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let s=e.nodes[o.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let n=new lm(this,t,!1);return n.addAll(e,Me.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new lm(this,t,!0);return n.addAll(e,Me.none,t.from,t.to),Q.maxOpen(n.finish())}matchTag(e,t,n){for(let o=n?this.tags.indexOf(n)+1:0;o<this.tags.length;o++){let s=this.tags[o];if(Wv(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let c=s.getAttrs(e);if(c===!1)continue;s.attrs=c||void 0}return s}}}matchStyle(e,t,n,o){for(let s=o?this.styles.indexOf(o)+1:0;s<this.styles.length;s++){let c=this.styles[s],a=c.style;if(!(a.indexOf(e)!=0||c.context&&!n.matchesContext(c.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(c.getAttrs){let f=c.getAttrs(t);if(f===!1)continue;c.attrs=f||void 0}return c}}}static schemaRules(e){let t=[];function n(o){let s=o.priority==null?50:o.priority,c=0;for(;c<t.length;c++){let a=t[c];if((a.priority==null?50:a.priority)<s)break}t.splice(c,0,o)}for(let o in e.marks){let s=e.marks[o].spec.parseDOM;s&&s.forEach(c=>{n(c=cm(c)),c.mark||c.ignore||c.clearMark||(c.mark=o)})}for(let o in e.nodes){let s=e.nodes[o].spec.parseDOM;s&&s.forEach(c=>{n(c=cm(c)),c.node||c.ignore||c.mark||(c.node=o)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Zn(e,Zn.schemaRules(e)))}}const K0={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Hv={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},J0={ol:!0,ul:!0},ll=1,cl=2,gi=4;function sm(r,e,t){return e!=null?(e?ll:0)|(e==="full"?cl:0):r&&r.whitespace=="pre"?ll|cl:t&~gi}class js{constructor(e,t,n,o,s,c){this.type=e,this.attrs=t,this.marks=n,this.solid=o,this.options=c,this.content=[],this.activeMarks=Me.none,this.match=s||(c&gi?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(H.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,o;return(o=n.findWrapping(e.type))?(this.match=n,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ll)){let n=this.content[this.content.length-1],o;if(n&&n.isText&&(o=/[ \t\r\n\u000c]+$/.exec(n.text))){let s=n;n.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-o[0].length))}}let t=H.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(H.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!K0.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class lm{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let o=t.topNode,s,c=sm(null,t.preserveWhitespace,0)|(n?gi:0);o?s=new js(o.type,o.attrs,Me.none,!0,t.topMatch||o.type.contentMatch,c):n?s=new js(null,null,Me.none,!0,null,c):s=new js(e.schema.topNodeType,null,Me.none,!0,null,c),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,o=this.top;if(o.options&cl||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(o.options&ll)o.options&cl?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=o.content[o.content.length-1],c=e.previousSibling;(!s||c&&c.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let o=e.nodeName.toLowerCase(),s;J0.hasOwnProperty(o)&&this.parser.normalizeLists&&Uv(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,n));if(c?c.ignore:Hv.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let a,f=this.top,d=this.needsBlock;if(K0.hasOwnProperty(o))f.content.length&&f.content[0].isInline&&this.open&&(this.open--,f=this.top),a=!0,f.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);return}let p=c&&c.skip?t:this.readStyles(e,t);p&&this.addAll(e,p),a&&this.sync(f),this.needsBlock=d}else{let a=this.readStyles(e,t);a&&this.addElementByRule(e,c,a,c.consuming===!1?s:void 0)}}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let s=this.parser.matchedStyles[o],c=n.getPropertyValue(s);if(c)for(let a=void 0;;){let f=this.parser.matchStyle(s,c,this,a);if(!f)break;if(f.ignore)return null;if(f.clearMark?t=t.filter(d=>!f.clearMark(d)):t=t.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)a=f;else break}}return t}addElementByRule(e,t,n,o){let s,c;if(t.node)if(c=this.parser.schema.nodes[t.node],c.isLeaf)this.insertNode(c.create(t.attrs),n)||this.leafFallback(e,n);else{let f=this.enter(c,t.attrs||null,n,t.preserveWhitespace);f&&(s=!0,n=f)}else{let f=this.parser.schema.marks[t.mark];n=n.concat(f.create(t.attrs))}let a=this.top;if(c&&c.isLeaf)this.findInside(e);else if(o)this.addElement(e,n,o);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,n));else{let f=e;typeof t.contentElement=="string"?f=e.querySelector(t.contentElement):typeof t.contentElement=="function"?f=t.contentElement(e):t.contentElement&&(f=t.contentElement),this.findAround(e,f,!0),this.addAll(f,n),this.findAround(e,f,!1)}s&&this.sync(a)&&this.open--}addAll(e,t,n,o){let s=n||0;for(let c=n?e.childNodes[n]:e.firstChild,a=o==null?null:e.childNodes[o];c!=a;c=c.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(c,t);this.findAtPoint(e,s)}findPlace(e,t){let n,o;for(let s=this.open;s>=0;s--){let c=this.nodes[s],a=c.findWrapping(e);if(a&&(!n||n.length>a.length)&&(n=a,o=c,!a.length)||c.solid)break}if(!n)return null;this.sync(o);for(let s=0;s<n.length;s++)t=this.enterInner(n[s],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let n=this.findPlace(e,t);if(n){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let s=Me.none;for(let c of n.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):am(c.type,e.type))&&(s=c.addToSet(s));return o.content.push(e.mark(s)),!0}return!1}enter(e,t,n,o){let s=this.findPlace(e.create(t),n);return s&&(s=this.enterInner(e,t,n,!0,o)),s}enterInner(e,t,n,o=!1,s){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let a=sm(e,s,c.options);c.options&gi&&c.content.length==0&&(a|=gi);let f=Me.none;return n=n.filter(d=>(c.type?c.type.allowsMarkType(d.type):am(d.type,e))?(f=d.addToSet(f),!1):!0),this.nodes.push(new js(e,t,f,o,null,a)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let o=n.length-1;o>=0;o--)e+=n[o].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&t.compareDocumentPosition(this.find[o].node)&(n?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,o=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),s=-(n?n.depth+1:0)+(o?0:1),c=(a,f)=>{for(;a>=0;a--){let d=t[a];if(d==""){if(a==t.length-1||a==0)continue;for(;f>=s;f--)if(c(a-1,f))return!0;return!1}else{let p=f>0||f==0&&o?this.nodes[f].type:n&&f>=s?n.node(f-s).type:null;if(!p||p.name!=d&&!p.isInGroup(d))return!1;f--}}return!0};return c(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}}function Uv(r){for(let e=r.firstChild,t=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&J0.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function Wv(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function cm(r){let e={};for(let t in r)e[t]=r[t];return e}function am(r,e){let t=e.schema.nodes;for(let n in t){let o=t[n];if(!o.allowsMarkType(r))continue;let s=[],c=a=>{s.push(a);for(let f=0;f<a.edgeCount;f++){let{type:d,next:p}=a.edge(f);if(d==e||s.indexOf(p)<0&&c(p))return!0}};if(c(o.contentMatch))return!0}}class Rr{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=Da(t).createDocumentFragment());let o=n,s=[];return e.forEach(c=>{if(s.length||c.marks.length){let a=0,f=0;for(;a<s.length&&f<c.marks.length;){let d=c.marks[f];if(!this.marks[d.type.name]){f++;continue}if(!d.eq(s[a][0])||d.type.spec.spanning===!1)break;a++,f++}for(;a<s.length;)o=s.pop()[1];for(;f<c.marks.length;){let d=c.marks[f++],p=this.serializeMark(d,c.isInline,t);p&&(s.push([d,o]),o.appendChild(p.dom),o=p.contentDOM||p.dom)}}o.appendChild(this.serializeNodeInner(c,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:o}=Ys(Da(t),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,o)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let o=e.marks.length-1;o>=0;o--){let s=this.serializeMark(e.marks[o],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(e,t,n={}){let o=this.marks[e.type.name];return o&&Ys(Da(n),o(e,t),null,e.attrs)}static renderSpec(e,t,n=null,o){return Ys(e,t,n,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Rr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=um(e.nodes);return t.text||(t.text=n=>n.text),t}static marksFromSchema(e){return um(e.marks)}}function um(r){let e={};for(let t in r){let n=r[t].spec.toDOM;n&&(e[t]=n)}return e}function Da(r){return r.document||window.document}const fm=new WeakMap;function Kv(r){let e=fm.get(r);return e===void 0&&fm.set(r,e=Jv(r)),e}function Jv(r){let e=null;function t(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let o=0;o<n.length;o++)t(n[o]);else for(let o in n)t(n[o])}return t(r),e}function Ys(r,e,t,n){if(typeof e=="string")return{dom:r.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],s;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(s=Kv(n))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=o.indexOf(" ");c>0&&(t=o.slice(0,c),o=o.slice(c+1));let a,f=t?r.createElementNS(t,o):r.createElement(o),d=e[1],p=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){p=2;for(let m in d)if(d[m]!=null){let v=m.indexOf(" ");v>0?f.setAttributeNS(m.slice(0,v),m.slice(v+1),d[m]):f.setAttribute(m,d[m])}}for(let m=p;m<e.length;m++){let v=e[m];if(v===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:k,contentDOM:x}=Ys(r,v,t,n);if(f.appendChild(k),x){if(a)throw new RangeError("Multiple content holes");a=x}}}return{dom:f,contentDOM:a}}const G0=65535,Q0=Math.pow(2,16);function Gv(r,e){return r+e*Q0}function dm(r){return r&G0}function Qv(r){return(r-(r&G0))/Q0}const Z0=1,Y0=2,Xs=4,X0=8;class cf{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&X0)>0}get deletedBefore(){return(this.delInfo&(Z0|Xs))>0}get deletedAfter(){return(this.delInfo&(Y0|Xs))>0}get deletedAcross(){return(this.delInfo&Xs)>0}}class It{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&It.empty)return It.empty}recover(e){let t=0,n=dm(e);if(!this.inverted)for(let o=0;o<n;o++)t+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[n*3]+t+Qv(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let o=0,s=this.inverted?2:1,c=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let f=this.ranges[a]-(this.inverted?o:0);if(f>e)break;let d=this.ranges[a+s],p=this.ranges[a+c],m=f+d;if(e<=m){let v=d?e==f?-1:e==m?1:t:t,k=f+o+(v<0?0:p);if(n)return k;let x=e==(t<0?f:m)?null:Gv(a/3,e-f),w=e==f?Y0:e==m?Z0:Xs;return(t<0?e!=f:e!=m)&&(w|=X0),new cf(k,w,x)}o+=p-d}return n?e+o:new cf(e+o,0,null)}touches(e,t){let n=0,o=dm(t),s=this.inverted?2:1,c=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let f=this.ranges[a]-(this.inverted?n:0);if(f>e)break;let d=this.ranges[a+s],p=f+d;if(e<=p&&a==o*3)return!0;n+=this.ranges[a+c]-d}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let o=0,s=0;o<this.ranges.length;o+=3){let c=this.ranges[o],a=c-(this.inverted?s:0),f=c+(this.inverted?0:s),d=this.ranges[o+t],p=this.ranges[o+n];e(a,a+d,f,f+p),s+=p-d}}invert(){return new It(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?It.empty:new It(e<0?[0,-e,0]:[0,0,e])}}It.empty=new It([]);class ho{constructor(e=[],t,n=0,o=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=o}slice(e=0,t=this.maps.length){return new ho(this.maps,this.mirror,e,t)}copy(){return new ho(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let o=e.getMirror(t);this.appendMap(e.maps[t],o!=null&&o<t?n+o:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let o=e.getMirror(t);this.appendMap(e.maps[t].invert(),o!=null&&o>t?n-o-1:void 0)}}invert(){let e=new ho;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let o=0;for(let s=this.from;s<this.to;s++){let c=this.maps[s],a=c.mapResult(e,t);if(a.recover!=null){let f=this.getMirror(s);if(f!=null&&f>s&&f<this.to){s=f,e=this.maps[f].recover(a.recover);continue}}o|=a.delInfo,e=a.pos}return n?e:new cf(e,o,null)}}const Na=Object.create(null);class dt{getMap(){return It.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Na[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Na)throw new RangeError("Duplicate use of step JSON ID "+e);return Na[e]=t,t.prototype.jsonID=e,t}}class $e{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new $e(e,null)}static fail(e){return new $e(null,e)}static fromReplace(e,t,n,o){try{return $e.ok(e.replace(t,n,o))}catch(s){if(s instanceof rl)return $e.fail(s.message);throw s}}}function Mf(r,e,t){let n=[];for(let o=0;o<r.childCount;o++){let s=r.child(o);s.content.size&&(s=s.copy(Mf(s.content,e,s))),s.isInline&&(s=e(s,t,o)),n.push(s)}return H.fromArray(n)}class Kn extends dt{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),o=n.node(n.sharedDepth(this.to)),s=new Q(Mf(t.content,(c,a)=>!c.isAtom||!a.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),o),t.openStart,t.openEnd);return $e.fromReplace(e,this.from,this.to,s)}invert(){return new an(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Kn(t.pos,n.pos,this.mark)}merge(e){return e instanceof Kn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Kn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Kn(t.from,t.to,e.markFromJSON(t.mark))}}dt.jsonID("addMark",Kn);class an extends dt{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new Q(Mf(t.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),t.openStart,t.openEnd);return $e.fromReplace(e,this.from,this.to,n)}invert(){return new Kn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new an(t.pos,n.pos,this.mark)}merge(e){return e instanceof an&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new an(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new an(t.from,t.to,e.markFromJSON(t.mark))}}dt.jsonID("removeMark",an);class Jn extends dt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return $e.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return $e.fromReplace(e,this.pos,this.pos+1,new Q(H.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let o=0;o<t.marks.length;o++)if(!t.marks[o].isInSet(n))return new Jn(this.pos,t.marks[o]);return new Jn(this.pos,this.mark)}}return new yo(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Jn(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Jn(t.pos,e.markFromJSON(t.mark))}}dt.jsonID("addNodeMark",Jn);class yo extends dt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return $e.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return $e.fromReplace(e,this.pos,this.pos+1,new Q(H.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Jn(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new yo(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new yo(t.pos,e.markFromJSON(t.mark))}}dt.jsonID("removeNodeMark",yo);class Ge extends dt{constructor(e,t,n,o=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=o}apply(e){return this.structure&&af(e,this.from,this.to)?$e.fail("Structure replace would overwrite content"):$e.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new It([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ge(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Ge(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Ge)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Q.empty:new Q(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ge(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Q.empty:new Q(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ge(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ge(t.from,t.to,Q.fromJSON(e,t.slice),!!t.structure)}}dt.jsonID("replace",Ge);class Qe extends dt{constructor(e,t,n,o,s,c,a=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=o,this.slice=s,this.insert=c,this.structure=a}apply(e){if(this.structure&&(af(e,this.from,this.gapFrom)||af(e,this.gapTo,this.to)))return $e.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return $e.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?$e.fromReplace(e,this.from,this.to,n):$e.fail("Content does not fit in gap")}getMap(){return new It([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Qe(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),o=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||o<t.pos||s>n.pos?null:new Qe(t.pos,n.pos,o,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Qe(t.from,t.to,t.gapFrom,t.gapTo,Q.fromJSON(e,t.slice),t.insert,!!t.structure)}}dt.jsonID("replaceAround",Qe);function af(r,e,t){let n=r.resolve(e),o=t-e,s=n.depth;for(;o>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,o--;if(o>0){let c=n.node(s).maybeChild(n.indexAfter(s));for(;o>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,o--}}return!1}function Zv(r,e,t,n){let o=[],s=[],c,a;r.doc.nodesBetween(e,t,(f,d,p)=>{if(!f.isInline)return;let m=f.marks;if(!n.isInSet(m)&&p.type.allowsMarkType(n.type)){let v=Math.max(d,e),k=Math.min(d+f.nodeSize,t),x=n.addToSet(m);for(let w=0;w<m.length;w++)m[w].isInSet(x)||(c&&c.to==v&&c.mark.eq(m[w])?c.to=k:o.push(c=new an(v,k,m[w])));a&&a.to==v?a.to=k:s.push(a=new Kn(v,k,n))}}),o.forEach(f=>r.step(f)),s.forEach(f=>r.step(f))}function Yv(r,e,t,n){let o=[],s=0;r.doc.nodesBetween(e,t,(c,a)=>{if(!c.isInline)return;s++;let f=null;if(n instanceof kl){let d=c.marks,p;for(;p=n.isInSet(d);)(f||(f=[])).push(p),d=p.removeFromSet(d)}else n?n.isInSet(c.marks)&&(f=[n]):f=c.marks;if(f&&f.length){let d=Math.min(a+c.nodeSize,t);for(let p=0;p<f.length;p++){let m=f[p],v;for(let k=0;k<o.length;k++){let x=o[k];x.step==s-1&&m.eq(o[k].style)&&(v=x)}v?(v.to=d,v.step=s):o.push({style:m,from:Math.max(a,e),to:d,step:s})}}}),o.forEach(c=>r.step(new an(c.from,c.to,c.style)))}function Tf(r,e,t,n=t.contentMatch,o=!0){let s=r.doc.nodeAt(e),c=[],a=e+1;for(let f=0;f<s.childCount;f++){let d=s.child(f),p=a+d.nodeSize,m=n.matchType(d.type);if(!m)c.push(new Ge(a,p,Q.empty));else{n=m;for(let v=0;v<d.marks.length;v++)t.allowsMarkType(d.marks[v].type)||r.step(new an(a,p,d.marks[v]));if(o&&d.isText&&t.whitespace!="pre"){let v,k=/\r?\n|\r/g,x;for(;v=k.exec(d.text);)x||(x=new Q(H.from(t.schema.text(" ",t.allowedMarks(d.marks))),0,0)),c.push(new Ge(a+v.index,a+v.index+v[0].length,x))}}a=p}if(!n.validEnd){let f=n.fillBefore(H.empty,!0);r.replace(a,a,new Q(f,0,0))}for(let f=c.length-1;f>=0;f--)r.step(c[f])}function Xv(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function Co(r){let t=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let n=r.depth;;--n){let o=r.$from.node(n),s=r.$from.index(n),c=r.$to.indexAfter(n);if(n<r.depth&&o.canReplace(s,c,t))return n;if(n==0||o.type.spec.isolating||!Xv(o,s,c))break}return null}function ex(r,e,t){let{$from:n,$to:o,depth:s}=e,c=n.before(s+1),a=o.after(s+1),f=c,d=a,p=H.empty,m=0;for(let x=s,w=!1;x>t;x--)w||n.index(x)>0?(w=!0,p=H.from(n.node(x).copy(p)),m++):f--;let v=H.empty,k=0;for(let x=s,w=!1;x>t;x--)w||o.after(x+1)<o.end(x)?(w=!0,v=H.from(o.node(x).copy(v)),k++):d++;r.step(new Qe(f,d,c,a,new Q(p.append(v),m,k),p.size-m,!0))}function Af(r,e,t=null,n=r){let o=tx(r,e),s=o&&nx(n,e);return s?o.map(hm).concat({type:e,attrs:t}).concat(s.map(hm)):null}function hm(r){return{type:r,attrs:null}}function tx(r,e){let{parent:t,startIndex:n,endIndex:o}=r,s=t.contentMatchAt(n).findWrapping(e);if(!s)return null;let c=s.length?s[0]:e;return t.canReplaceWith(n,o,c)?s:null}function nx(r,e){let{parent:t,startIndex:n,endIndex:o}=r,s=t.child(n),c=e.contentMatch.findWrapping(s.type);if(!c)return null;let f=(c.length?c[c.length-1]:e).contentMatch;for(let d=n;f&&d<o;d++)f=f.matchType(t.child(d).type);return!f||!f.validEnd?null:c}function rx(r,e,t){let n=H.empty;for(let c=t.length-1;c>=0;c--){if(n.size){let a=t[c].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=H.from(t[c].type.create(t[c].attrs,n))}let o=e.start,s=e.end;r.step(new Qe(o,s,o,s,new Q(n,0,0),t.length,!0))}function ox(r,e,t,n,o){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=r.steps.length;r.doc.nodesBetween(e,t,(c,a)=>{let f=typeof o=="function"?o(c):o;if(c.isTextblock&&!c.hasMarkup(n,f)&&ix(r.doc,r.mapping.slice(s).map(a),n)){let d=null;if(n.schema.linebreakReplacement){let k=n.whitespace=="pre",x=!!n.contentMatch.matchType(n.schema.linebreakReplacement);k&&!x?d=!1:!k&&x&&(d=!0)}d===!1&&ty(r,c,a,s),Tf(r,r.mapping.slice(s).map(a,1),n,void 0,d===null);let p=r.mapping.slice(s),m=p.map(a,1),v=p.map(a+c.nodeSize,1);return r.step(new Qe(m,v,m+1,v-1,new Q(H.from(n.create(f,null,c.marks)),0,0),1,!0)),d===!0&&ey(r,c,a,s),!1}})}function ey(r,e,t,n){e.forEach((o,s)=>{if(o.isText){let c,a=/\r?\n|\r/g;for(;c=a.exec(o.text);){let f=r.mapping.slice(n).map(t+1+s+c.index);r.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function ty(r,e,t,n){e.forEach((o,s)=>{if(o.type==o.type.schema.linebreakReplacement){let c=r.mapping.slice(n).map(t+1+s);r.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function ix(r,e,t){let n=r.resolve(e),o=n.index();return n.parent.canReplaceWith(o,o+1,t)}function sx(r,e,t,n,o){let s=r.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let c=t.create(n,null,o||s.marks);if(s.isLeaf)return r.replaceWith(e,e+s.nodeSize,c);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);r.step(new Qe(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Q(H.from(c),0,0),1,!0))}function po(r,e,t=1,n){let o=r.resolve(e),s=o.depth-t,c=n&&n[n.length-1]||o.parent;if(s<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!c.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let d=o.depth-1,p=t-2;d>s;d--,p--){let m=o.node(d),v=o.index(d);if(m.type.spec.isolating)return!1;let k=m.content.cutByIndex(v,m.childCount),x=n&&n[p+1];x&&(k=k.replaceChild(0,x.type.create(x.attrs)));let w=n&&n[p]||m;if(!m.canReplace(v+1,m.childCount)||!w.type.validContent(k))return!1}let a=o.indexAfter(s),f=n&&n[0];return o.node(s).canReplaceWith(a,a,f?f.type:o.node(s+1).type)}function lx(r,e,t=1,n){let o=r.doc.resolve(e),s=H.empty,c=H.empty;for(let a=o.depth,f=o.depth-t,d=t-1;a>f;a--,d--){s=H.from(o.node(a).copy(s));let p=n&&n[d];c=H.from(p?p.type.create(p.attrs,c):o.node(a).copy(c))}r.step(new Ge(e,e,new Q(s.append(c),t,t),!0))}function rr(r,e){let t=r.resolve(e),n=t.index();return ny(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function cx(r,e){e.content.size||r.type.compatibleContent(e.type);let t=r.contentMatchAt(r.childCount),{linebreakReplacement:n}=r.type.schema;for(let o=0;o<e.childCount;o++){let s=e.child(o),c=s.type==n?r.type.schema.nodes.text:s.type;if(t=t.matchType(c),!t||!r.type.allowsMarks(s.marks))return!1}return t.validEnd}function ny(r,e){return!!(r&&e&&!r.isLeaf&&cx(r,e))}function vl(r,e,t=-1){let n=r.resolve(e);for(let o=n.depth;;o--){let s,c,a=n.index(o);if(o==n.depth?(s=n.nodeBefore,c=n.nodeAfter):t>0?(s=n.node(o+1),a++,c=n.node(o).maybeChild(a)):(s=n.node(o).maybeChild(a-1),c=n.node(o+1)),s&&!s.isTextblock&&ny(s,c)&&n.node(o).canReplace(a,a+1))return e;if(o==0)break;e=t<0?n.before(o):n.after(o)}}function ax(r,e,t){let n=null,{linebreakReplacement:o}=r.doc.type.schema,s=r.doc.resolve(e-t),c=s.node().type;if(o&&c.inlineContent){let p=c.whitespace=="pre",m=!!c.contentMatch.matchType(o);p&&!m?n=!1:!p&&m&&(n=!0)}let a=r.steps.length;if(n===!1){let p=r.doc.resolve(e+t);ty(r,p.node(),p.before(),a)}c.inlineContent&&Tf(r,e+t-1,c,s.node().contentMatchAt(s.index()),n==null);let f=r.mapping.slice(a),d=f.map(e-t);if(r.step(new Ge(d,f.map(e+t,-1),Q.empty,!0)),n===!0){let p=r.doc.resolve(d);ey(r,p.node(),p.before(),r.steps.length)}return r}function ux(r,e,t){let n=r.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let o=n.depth-1;o>=0;o--){let s=n.index(o);if(n.node(o).canReplaceWith(s,s,t))return n.before(o+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(let o=n.depth-1;o>=0;o--){let s=n.indexAfter(o);if(n.node(o).canReplaceWith(s,s,t))return n.after(o+1);if(s<n.node(o).childCount)return null}return null}function ry(r,e,t){let n=r.resolve(e);if(!t.content.size)return e;let o=t.content;for(let s=0;s<t.openStart;s++)o=o.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let c=n.depth;c>=0;c--){let a=c==n.depth?0:n.pos<=(n.start(c+1)+n.end(c+1))/2?-1:1,f=n.index(c)+(a>0?1:0),d=n.node(c),p=!1;if(s==1)p=d.canReplace(f,f,o);else{let m=d.contentMatchAt(f).findWrapping(o.firstChild.type);p=m&&d.canReplaceWith(f,f,m[0])}if(p)return a==0?n.pos:a<0?n.before(c+1):n.after(c+1)}return null}function xl(r,e,t=e,n=Q.empty){if(e==t&&!n.size)return null;let o=r.resolve(e),s=r.resolve(t);return oy(o,s,n)?new Ge(e,t,n):new fx(o,s,n).fit()}function oy(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}class fx{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=H.empty;for(let o=0;o<=e.depth;o++){let s=e.node(o);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=H.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,o=this.close(e<0?this.$to:n.doc.resolve(e));if(!o)return null;let s=this.placed,c=n.depth,a=o.depth;for(;c&&a&&s.childCount==1;)s=s.firstChild.content,c--,a--;let f=new Q(s,c,a);return e>-1?new Qe(n.pos,e,this.$to.pos,this.$to.end(),f,t):f.size||n.pos!=this.$to.pos?new Ge(n.pos,o.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,o=this.unplaced.openEnd;n<e;n++){let s=t.firstChild;if(t.childCount>1&&(o=0),s.type.spec.isolating&&o<=n){e=n;break}t=s.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let o,s=null;n?(s=Oa(this.unplaced.content,n-1).firstChild,o=s.content):o=this.unplaced.content;let c=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:f,match:d}=this.frontier[a],p,m=null;if(t==1&&(c?d.matchType(c.type)||(m=d.fillBefore(H.from(c),!1)):s&&f.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:a,parent:s,inject:m};if(t==2&&c&&(p=d.findWrapping(c.type)))return{sliceDepth:n,frontierDepth:a,parent:s,wrap:p};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,o=Oa(e,t);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new Q(e,t+1,Math.max(n,o.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,o=Oa(e,t);if(o.childCount<=1&&t>0){let s=e.size-t<=t+o.size;this.unplaced=new Q(di(e,t-1,1),t-1,s?t-1:n)}else this.unplaced=new Q(di(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:o,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let w=0;w<s.length;w++)this.openFrontierNode(s[w]);let c=this.unplaced,a=n?n.content:c.content,f=c.openStart-e,d=0,p=[],{match:m,type:v}=this.frontier[t];if(o){for(let w=0;w<o.childCount;w++)p.push(o.child(w));m=m.matchFragment(o)}let k=a.size+e-(c.content.size-c.openEnd);for(;d<a.childCount;){let w=a.child(d),C=m.matchType(w.type);if(!C)break;d++,(d>1||f==0||w.content.size)&&(m=C,p.push(iy(w.mark(v.allowedMarks(w.marks)),d==1?f:0,d==a.childCount?k:-1)))}let x=d==a.childCount;x||(k=-1),this.placed=hi(this.placed,t,H.from(p)),this.frontier[t].match=m,x&&k<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,C=a;w<k;w++){let E=C.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),C=E.content}this.unplaced=x?e==0?Q.empty:new Q(di(c.content,e-1,1),e-1,k<0?c.openEnd:e-1):new Q(di(c.content,e,d),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Ra(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,o=this.$to.after(n);for(;n>1&&o==this.$to.end(--n);)++o;return o}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:o}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),c=Ra(e,t,o,n,s);if(c){for(let a=t-1;a>=0;a--){let{match:f,type:d}=this.frontier[a],p=Ra(e,a,d,f,!0);if(!p||p.childCount)continue e}return{depth:t,fit:c,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=hi(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let o=e.node(n),s=o.type.contentMatch.fillBefore(o.content,!0,e.index(n));this.openFrontierNode(o.type,o.attrs,s)}return e}openFrontierNode(e,t=null,n){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=hi(this.placed,this.depth,H.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(H.empty,!0);t.childCount&&(this.placed=hi(this.placed,this.frontier.length,t))}}function di(r,e,t){return e==0?r.cutByIndex(t,r.childCount):r.replaceChild(0,r.firstChild.copy(di(r.firstChild.content,e-1,t)))}function hi(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(hi(r.lastChild.content,e-1,t)))}function Oa(r,e){for(let t=0;t<e;t++)r=r.firstChild.content;return r}function iy(r,e,t){if(e<=0)return r;let n=r.content;return e>1&&(n=n.replaceChild(0,iy(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=r.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(H.empty,!0)))),r.copy(n)}function Ra(r,e,t,n,o){let s=r.node(e),c=o?r.indexAfter(e):r.index(e);if(c==s.childCount&&!t.compatibleContent(s.type))return null;let a=n.fillBefore(s.content,!0,c);return a&&!dx(t,s.content,c)?a:null}function dx(r,e,t){for(let n=t;n<e.childCount;n++)if(!r.allowsMarks(e.child(n).marks))return!0;return!1}function hx(r){return r.spec.defining||r.spec.definingForContent}function px(r,e,t,n){if(!n.size)return r.deleteRange(e,t);let o=r.doc.resolve(e),s=r.doc.resolve(t);if(oy(o,s,n))return r.step(new Ge(e,t,n));let c=ly(o,r.doc.resolve(t));c[c.length-1]==0&&c.pop();let a=-(o.depth+1);c.unshift(a);for(let v=o.depth,k=o.pos-1;v>0;v--,k--){let x=o.node(v).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;c.indexOf(v)>-1?a=v:o.before(v)==k&&c.splice(1,0,-v)}let f=c.indexOf(a),d=[],p=n.openStart;for(let v=n.content,k=0;;k++){let x=v.firstChild;if(d.push(x),k==n.openStart)break;v=x.content}for(let v=p-1;v>=0;v--){let k=d[v],x=hx(k.type);if(x&&!k.sameMarkup(o.node(Math.abs(a)-1)))p=v;else if(x||!k.type.isTextblock)break}for(let v=n.openStart;v>=0;v--){let k=(v+p+1)%(n.openStart+1),x=d[k];if(x)for(let w=0;w<c.length;w++){let C=c[(w+f)%c.length],E=!0;C<0&&(E=!1,C=-C);let A=o.node(C-1),b=o.index(C-1);if(A.canReplaceWith(b,b,x.type,x.marks))return r.replace(o.before(C),E?s.after(C):t,new Q(sy(n.content,0,n.openStart,k),k,n.openEnd))}}let m=r.steps.length;for(let v=c.length-1;v>=0&&(r.replace(e,t,n),!(r.steps.length>m));v--){let k=c[v];k<0||(e=o.before(k),t=s.after(k))}}function sy(r,e,t,n,o){if(e<t){let s=r.firstChild;r=r.replaceChild(0,s.copy(sy(s.content,e+1,t,n,s)))}if(e>n){let s=o.contentMatchAt(0),c=s.fillBefore(r).append(r);r=c.append(s.matchFragment(c).fillBefore(H.empty,!0))}return r}function mx(r,e,t,n){if(!n.isInline&&e==t&&r.doc.resolve(e).parent.content.size){let o=ux(r.doc,e,n.type);o!=null&&(e=t=o)}r.replaceRange(e,t,new Q(H.from(n),0,0))}function gx(r,e,t){let n=r.doc.resolve(e),o=r.doc.resolve(t),s=ly(n,o);for(let c=0;c<s.length;c++){let a=s[c],f=c==s.length-1;if(f&&a==0||n.node(a).type.contentMatch.validEnd)return r.delete(n.start(a),o.end(a));if(a>0&&(f||n.node(a-1).canReplace(n.index(a-1),o.indexAfter(a-1))))return r.delete(n.before(a),o.after(a))}for(let c=1;c<=n.depth&&c<=o.depth;c++)if(e-n.start(c)==n.depth-c&&t>n.end(c)&&o.end(c)-t!=o.depth-c&&n.start(c-1)==o.start(c-1)&&n.node(c-1).canReplace(n.index(c-1),o.index(c-1)))return r.delete(n.before(c),t);r.delete(e,t)}function ly(r,e){let t=[],n=Math.min(r.depth,e.depth);for(let o=n;o>=0;o--){let s=r.start(o);if(s<r.pos-(r.depth-o)||e.end(o)>e.pos+(e.depth-o)||r.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(s==e.start(o)||o==r.depth&&o==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==s-1)&&t.push(o)}return t}class mo extends dt{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return $e.fail("No node at attribute step's position");let n=Object.create(null);for(let s in t.attrs)n[s]=t.attrs[s];n[this.attr]=this.value;let o=t.type.create(n,null,t.marks);return $e.fromReplace(e,this.pos,this.pos+1,new Q(H.from(o),0,t.isLeaf?0:1))}getMap(){return It.empty}invert(e){return new mo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new mo(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new mo(t.pos,t.attr,t.value)}}dt.jsonID("attr",mo);class xi extends dt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let o in e.attrs)t[o]=e.attrs[o];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return $e.ok(n)}getMap(){return It.empty}invert(e){return new xi(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new xi(t.attr,t.value)}}dt.jsonID("docAttr",xi);let ko=class extends Error{};ko=function r(e){let t=Error.call(this,e);return t.__proto__=r.prototype,t};ko.prototype=Object.create(Error.prototype);ko.prototype.constructor=ko;ko.prototype.name="TransformError";class yx{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ho}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new ko(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=Q.empty){let o=xl(this.doc,e,t,n);return o&&this.step(o),this}replaceWith(e,t,n){return this.replace(e,t,new Q(H.from(n),0,0))}delete(e,t){return this.replace(e,t,Q.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return px(this,e,t,n),this}replaceRangeWith(e,t,n){return mx(this,e,t,n),this}deleteRange(e,t){return gx(this,e,t),this}lift(e,t){return ex(this,e,t),this}join(e,t=1){return ax(this,e,t),this}wrap(e,t){return rx(this,e,t),this}setBlockType(e,t=e,n,o=null){return ox(this,e,t,n,o),this}setNodeMarkup(e,t,n=null,o){return sx(this,e,t,n,o),this}setNodeAttribute(e,t,n){return this.step(new mo(e,t,n)),this}setDocAttribute(e,t){return this.step(new xi(e,t)),this}addNodeMark(e,t){return this.step(new Jn(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Me)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t=t.isInSet(n.marks),!t)return this}return this.step(new yo(e,t)),this}split(e,t=1,n){return lx(this,e,t,n),this}addMark(e,t,n){return Zv(this,e,t,n),this}removeMark(e,t,n){return Yv(this,e,t,n),this}clearIncompatible(e,t,n){return Tf(this,e,t,n),this}}const Ia=Object.create(null);class de{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new kx(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Q.empty){let n=t.content.lastChild,o=null;for(let a=0;a<t.openEnd;a++)o=n,n=n.lastChild;let s=e.steps.length,c=this.ranges;for(let a=0;a<c.length;a++){let{$from:f,$to:d}=c[a],p=e.mapping.slice(s);e.replaceRange(p.map(f.pos),p.map(d.pos),a?Q.empty:t),a==0&&gm(e,s,(n?n.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:c,$to:a}=o[s],f=e.mapping.slice(n),d=f.map(c.pos),p=f.map(a.pos);s?e.deleteRange(d,p):(e.replaceRangeWith(d,p,t),gm(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let o=e.parent.inlineContent?new ue(e):co(e.node(0),e.parent,e.pos,e.index(),t,n);if(o)return o;for(let s=e.depth-1;s>=0;s--){let c=t<0?co(e.node(0),e.node(s),e.before(s+1),e.index(s),t,n):co(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,n);if(c)return c}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new en(e.node(0))}static atStart(e){return co(e,e,0,0,1)||new en(e)}static atEnd(e){return co(e,e,e.content.size,e.childCount,-1)||new en(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Ia[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Ia)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ia[e]=t,t.prototype.jsonID=e,t}getBookmark(){return ue.between(this.$anchor,this.$head).getBookmark()}}de.prototype.visible=!0;class kx{constructor(e,t){this.$from=e,this.$to=t}}let pm=!1;function mm(r){!pm&&!r.parent.inlineContent&&(pm=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class ue extends de{constructor(e,t=e){mm(e),mm(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return de.near(n);let o=e.resolve(t.map(this.anchor));return new ue(o.parent.inlineContent?o:n,n)}replace(e,t=Q.empty){if(super.replace(e,t),t==Q.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof ue&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Sl(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ue(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let o=e.resolve(t);return new this(o,n==t?o:e.resolve(n))}static between(e,t,n){let o=e.pos-t.pos;if((!n||o)&&(n=o>=0?1:-1),!t.parent.inlineContent){let s=de.findFrom(t,n,!0)||de.findFrom(t,-n,!0);if(s)t=s.$head;else return de.near(t,n)}return e.parent.inlineContent||(o==0?e=t:(e=(de.findFrom(e,-n,!0)||de.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=o<0&&(e=t))),new ue(e,t)}}de.jsonID("text",ue);class Sl{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Sl(e.map(this.anchor),e.map(this.head))}resolve(e){return ue.between(e.resolve(this.anchor),e.resolve(this.head))}}class le extends de{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:o}=t.mapResult(this.anchor),s=e.resolve(o);return n?de.near(s):new le(s)}content(){return new Q(H.from(this.node),0,0)}eq(e){return e instanceof le&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Df(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new le(e.resolve(t.anchor))}static create(e,t){return new le(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}le.prototype.visible=!1;de.jsonID("node",le);class Df{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new Sl(n,n):new Df(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&le.isSelectable(n)?new le(t):de.near(t)}}class en extends de{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Q.empty){if(t==Q.empty){e.delete(0,e.doc.content.size);let n=de.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new en(e)}map(e){return new en(e)}eq(e){return e instanceof en}getBookmark(){return vx}}de.jsonID("all",en);const vx={map(){return this},resolve(r){return new en(r)}};function co(r,e,t,n,o,s=!1){if(e.inlineContent)return ue.create(r,t);for(let c=n-(o>0?0:1);o>0?c<e.childCount:c>=0;c+=o){let a=e.child(c);if(a.isAtom){if(!s&&le.isSelectable(a))return le.create(r,t-(o<0?a.nodeSize:0))}else{let f=co(r,a,t+o,o<0?a.childCount:0,o,s);if(f)return f}t+=a.nodeSize*o}return null}function gm(r,e,t){let n=r.steps.length-1;if(n<e)return;let o=r.steps[n];if(!(o instanceof Ge||o instanceof Qe))return;let s=r.mapping.maps[n],c;s.forEach((a,f,d,p)=>{c==null&&(c=p)}),r.setSelection(de.near(r.doc.resolve(c),t))}const ym=1,Hs=2,km=4;class xx extends yx{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ym)&~Hs,this.storedMarks=null,this}get selectionSet(){return(this.updated&ym)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Hs,this}ensureMarks(e){return Me.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Hs)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Hs,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Me.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let o=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),n=n??t,!e)return this.deleteRange(t,n);let s=this.storedMarks;if(!s){let c=this.doc.resolve(t);s=n==t?c.marks():c.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,o.text(e,s)),this.selection.empty||this.setSelection(de.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=km,this}get scrolledIntoView(){return(this.updated&km)>0}}function vm(r,e){return!e||!r?r:r.bind(e)}class pi{constructor(e,t,n){this.name=e,this.init=vm(t.init,n),this.apply=vm(t.apply,n)}}const Sx=[new pi("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new pi("selection",{init(r,e){return r.selection||de.atStart(e.doc)},apply(r){return r.selection}}),new pi("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,t,n){return n.selection.$cursor?r.storedMarks:null}}),new pi("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})];class Pa{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Sx.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new pi(n.key,n.spec.state,n))})}}class uo{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let o=this.config.plugins[n];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),o=null;for(;;){let s=!1;for(let c=0;c<this.config.plugins.length;c++){let a=this.config.plugins[c];if(a.spec.appendTransaction){let f=o?o[c].n:0,d=o?o[c].state:this,p=f<t.length&&a.spec.appendTransaction.call(a,f?t.slice(f):t,d,n);if(p&&n.filterTransaction(p,c)){if(p.setMeta("appendedTransaction",e),!o){o=[];for(let m=0;m<this.config.plugins.length;m++)o.push(m<c?{state:n,n:t.length}:{state:this,n:0})}t.push(p),n=n.applyInner(p),s=!0}o&&(o[c]={state:n,n:t.length})}}if(!s)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new uo(this.config),n=this.config.fields;for(let o=0;o<n.length;o++){let s=n[o];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new xx(this)}static create(e){let t=new Pa(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new uo(t);for(let o=0;o<t.fields.length;o++)n[t.fields[o].name]=t.fields[o].init(e,n);return n}reconfigure(e){let t=new Pa(this.schema,e.plugins),n=t.fields,o=new uo(t);for(let s=0;s<n.length;s++){let c=n[s].name;o[c]=this.hasOwnProperty(c)?this[c]:n[s].init(e,o)}return o}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[n],s=o.spec.state;s&&s.toJSON&&(t[n]=s.toJSON.call(o,this[o.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new Pa(e.schema,e.plugins),s=new uo(o);return o.fields.forEach(c=>{if(c.name=="doc")s.doc=Qn.fromJSON(e.schema,t.doc);else if(c.name=="selection")s.selection=de.fromJSON(s.doc,t.selection);else if(c.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let a in n){let f=n[a],d=f.spec.state;if(f.key==c.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){s[c.name]=d.fromJSON.call(f,e,t[a],s);return}}s[c.name]=c.init(e,s)}}),s}}function cy(r,e,t){for(let n in r){let o=r[n];o instanceof Function?o=o.bind(e):n=="handleDOMEvents"&&(o=cy(o,e,{})),t[n]=o}return t}class Tt{constructor(e){this.spec=e,this.props={},e.props&&cy(e.props,this,this.props),this.key=e.key?e.key.key:ay("plugin")}getState(e){return e[this.key]}}const za=Object.create(null);function ay(r){return r in za?r+"$"+ ++za[r]:(za[r]=0,r+"$")}class dn{constructor(e="key"){this.key=ay(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const rt=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},Si=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e};let uf=null;const wn=function(r,e,t){let n=uf||(uf=document.createRange());return n.setEnd(r,t??r.nodeValue.length),n.setStart(r,e||0),n},wx=function(){uf=null},Nr=function(r,e,t,n){return t&&(xm(r,e,t,n,-1)||xm(r,e,t,n,1))},Cx=/^(img|br|input|textarea|hr)$/i;function xm(r,e,t,n,o){for(;;){if(r==t&&e==n)return!0;if(e==(o<0?0:$t(r))){let s=r.parentNode;if(!s||s.nodeType!=1||Mi(r)||Cx.test(r.nodeName)||r.contentEditable=="false")return!1;e=rt(r)+(o<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[e+(o<0?-1:0)],r.contentEditable=="false")return!1;e=o<0?$t(r):0}else return!1}}function $t(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Ex(r,e){for(;;){if(r.nodeType==3&&e)return r;if(r.nodeType==1&&e>0){if(r.contentEditable=="false")return null;r=r.childNodes[e-1],e=$t(r)}else if(r.parentNode&&!Mi(r))e=rt(r),r=r.parentNode;else return null}}function _x(r,e){for(;;){if(r.nodeType==3&&e<r.nodeValue.length)return r;if(r.nodeType==1&&e<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[e],e=0}else if(r.parentNode&&!Mi(r))e=rt(r)+1,r=r.parentNode;else return null}}function bx(r,e,t){for(let n=e==0,o=e==$t(r);n||o;){if(r==t)return!0;let s=rt(r);if(r=r.parentNode,!r)return!1;n=n&&s==0,o=o&&s==$t(r)}}function Mi(r){let e;for(let t=r;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const wl=function(r){return r.focusNode&&Nr(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function xr(r,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=r,t.key=t.code=e,t}function Mx(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Tx(r,e,t){if(r.caretPositionFromPoint)try{let n=r.caretPositionFromPoint(e,t);if(n)return{node:n.offsetNode,offset:Math.min($t(n.offsetNode),n.offset)}}catch{}if(r.caretRangeFromPoint){let n=r.caretRangeFromPoint(e,t);if(n)return{node:n.startContainer,offset:Math.min($t(n.startContainer),n.startOffset)}}}const un=typeof navigator<"u"?navigator:null,Sm=typeof document<"u"?document:null,or=un&&un.userAgent||"",ff=/Edge\/(\d+)/.exec(or),uy=/MSIE \d/.exec(or),df=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(or),Mt=!!(uy||df||ff),Yn=uy?document.documentMode:df?+df[1]:ff?+ff[1]:0,tn=!Mt&&/gecko\/(\d+)/i.test(or);tn&&+(/Firefox\/(\d+)/.exec(or)||[0,0])[1];const hf=!Mt&&/Chrome\/(\d+)/.exec(or),ut=!!hf,fy=hf?+hf[1]:0,gt=!Mt&&!!un&&/Apple Computer/.test(un.vendor),vo=gt&&(/Mobile\/\w+/.test(or)||!!un&&un.maxTouchPoints>2),Vt=vo||(un?/Mac/.test(un.platform):!1),Ax=un?/Win/.test(un.platform):!1,Yt=/Android \d/.test(or),Ti=!!Sm&&"webkitFontSmoothing"in Sm.documentElement.style,Dx=Ti?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Nx(r){let e=r.defaultView&&r.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function Sn(r,e){return typeof r=="number"?r:r[e]}function Ox(r){let e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,n=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*t,top:e.top,bottom:e.top+r.clientHeight*n}}function wm(r,e,t){let n=r.someProp("scrollThreshold")||0,o=r.someProp("scrollMargin")||5,s=r.dom.ownerDocument;for(let c=t||r.dom;c;c=Si(c)){if(c.nodeType!=1)continue;let a=c,f=a==s.body,d=f?Nx(s):Ox(a),p=0,m=0;if(e.top<d.top+Sn(n,"top")?m=-(d.top-e.top+Sn(o,"top")):e.bottom>d.bottom-Sn(n,"bottom")&&(m=e.bottom-e.top>d.bottom-d.top?e.top+Sn(o,"top")-d.top:e.bottom-d.bottom+Sn(o,"bottom")),e.left<d.left+Sn(n,"left")?p=-(d.left-e.left+Sn(o,"left")):e.right>d.right-Sn(n,"right")&&(p=e.right-d.right+Sn(o,"right")),p||m)if(f)s.defaultView.scrollBy(p,m);else{let v=a.scrollLeft,k=a.scrollTop;m&&(a.scrollTop+=m),p&&(a.scrollLeft+=p);let x=a.scrollLeft-v,w=a.scrollTop-k;e={left:e.left-x,top:e.top-w,right:e.right-x,bottom:e.bottom-w}}if(f||/^(fixed|sticky)$/.test(getComputedStyle(c).position))break}}function Rx(r){let e=r.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,o;for(let s=(e.left+e.right)/2,c=t+1;c<Math.min(innerHeight,e.bottom);c+=5){let a=r.root.elementFromPoint(s,c);if(!a||a==r.dom||!r.dom.contains(a))continue;let f=a.getBoundingClientRect();if(f.top>=t-20){n=a,o=f.top;break}}return{refDOM:n,refTop:o,stack:dy(r.dom)}}function dy(r){let e=[],t=r.ownerDocument;for(let n=r;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),r!=t);n=Si(n));return e}function Ix({refDOM:r,refTop:e,stack:t}){let n=r?r.getBoundingClientRect().top:0;hy(t,n==0?0:n-e)}function hy(r,e){for(let t=0;t<r.length;t++){let{dom:n,top:o,left:s}=r[t];n.scrollTop!=o+e&&(n.scrollTop=o+e),n.scrollLeft!=s&&(n.scrollLeft=s)}}let io=null;function Px(r){if(r.setActive)return r.setActive();if(io)return r.focus(io);let e=dy(r);r.focus(io==null?{get preventScroll(){return io={preventScroll:!0},!0}}:void 0),io||(io=!1,hy(e,0))}function py(r,e){let t,n=2e8,o,s=0,c=e.top,a=e.top,f,d;for(let p=r.firstChild,m=0;p;p=p.nextSibling,m++){let v;if(p.nodeType==1)v=p.getClientRects();else if(p.nodeType==3)v=wn(p).getClientRects();else continue;for(let k=0;k<v.length;k++){let x=v[k];if(x.top<=c&&x.bottom>=a){c=Math.max(x.bottom,c),a=Math.min(x.top,a);let w=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(w<n){t=p,n=w,o=w&&t.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,p.nodeType==1&&w&&(s=m+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!f&&x.left<=e.left&&x.right>=e.left&&(f=p,d={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!t&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(s=m+1)}}return!t&&f&&(t=f,o=d,n=0),t&&t.nodeType==3?zx(t,o):!t||n&&t.nodeType==1?{node:r,offset:s}:py(t,o)}function zx(r,e){let t=r.nodeValue.length,n=document.createRange();for(let o=0;o<t;o++){n.setEnd(r,o+1),n.setStart(r,o);let s=jn(n,1);if(s.top!=s.bottom&&Nf(e,s))return{node:r,offset:o+(e.left>=(s.left+s.right)/2?1:0)}}return{node:r,offset:0}}function Nf(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function Lx(r,e){let t=r.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<r.getBoundingClientRect().left?t:r}function Fx(r,e,t){let{node:n,offset:o}=py(e,t),s=-1;if(n.nodeType==1&&!n.firstChild){let c=n.getBoundingClientRect();s=c.left!=c.right&&t.left>(c.left+c.right)/2?1:-1}return r.docView.posFromDOM(n,o,s)}function Bx(r,e,t,n){let o=-1;for(let s=e,c=!1;s!=r.dom;){let a=r.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let f=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!c&&f.left>n.left||f.top>n.top?o=a.posBefore:(!c&&f.right<n.left||f.bottom<n.top)&&(o=a.posAfter),c=!0),!a.contentDOM&&o<0&&!a.node.isText)return(a.node.isBlock?n.top<(f.top+f.bottom)/2:n.left<(f.left+f.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return o>-1?o:r.docView.posFromDOM(e,t,-1)}function my(r,e,t){let n=r.childNodes.length;if(n&&t.top<t.bottom)for(let o=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),s=o;;){let c=r.childNodes[s];if(c.nodeType==1){let a=c.getClientRects();for(let f=0;f<a.length;f++){let d=a[f];if(Nf(e,d))return my(c,e,d)}}if((s=(s+1)%n)==o)break}return r}function qx(r,e){let t=r.dom.ownerDocument,n,o=0,s=Tx(t,e.left,e.top);s&&({node:n,offset:o}=s);let c=(r.root.elementFromPoint?r.root:t).elementFromPoint(e.left,e.top),a;if(!c||!r.dom.contains(c.nodeType!=1?c.parentNode:c)){let d=r.dom.getBoundingClientRect();if(!Nf(e,d)||(c=my(r.dom,e,d),!c))return null}if(gt)for(let d=c;n&&d;d=Si(d))d.draggable&&(n=void 0);if(c=Lx(c,e),n){if(tn&&n.nodeType==1&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let p=n.childNodes[o],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&o++}let d;Ti&&o&&n.nodeType==1&&(d=n.childNodes[o-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&o--,n==r.dom&&o==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?a=r.state.doc.content.size:(o==0||n.nodeType!=1||n.childNodes[o-1].nodeName!="BR")&&(a=Bx(r,n,o,e))}a==null&&(a=Fx(r,c,e));let f=r.docView.nearestDesc(c,!0);return{pos:a,inside:f?f.posAtStart-f.border:-1}}function Cm(r){return r.top<r.bottom||r.left<r.right}function jn(r,e){let t=r.getClientRects();if(t.length){let n=t[e<0?0:t.length-1];if(Cm(n))return n}return Array.prototype.find.call(t,Cm)||r.getBoundingClientRect()}const Vx=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function gy(r,e,t){let{node:n,offset:o,atom:s}=r.docView.domFromPos(e,t<0?-1:1),c=Ti||tn;if(n.nodeType==3)if(c&&(Vx.test(n.nodeValue)||(t<0?!o:o==n.nodeValue.length))){let f=jn(wn(n,o,o),t);if(tn&&o&&/\s/.test(n.nodeValue[o-1])&&o<n.nodeValue.length){let d=jn(wn(n,o-1,o-1),-1);if(d.top==f.top){let p=jn(wn(n,o,o+1),-1);if(p.top!=f.top)return ui(p,p.left<d.left)}}return f}else{let f=o,d=o,p=t<0?1:-1;return t<0&&!o?(d++,p=-1):t>=0&&o==n.nodeValue.length?(f--,p=1):t<0?f--:d++,ui(jn(wn(n,f,d),p),p<0)}if(!r.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&o&&(t<0||o==$t(n))){let f=n.childNodes[o-1];if(f.nodeType==1)return La(f.getBoundingClientRect(),!1)}if(s==null&&o<$t(n)){let f=n.childNodes[o];if(f.nodeType==1)return La(f.getBoundingClientRect(),!0)}return La(n.getBoundingClientRect(),t>=0)}if(s==null&&o&&(t<0||o==$t(n))){let f=n.childNodes[o-1],d=f.nodeType==3?wn(f,$t(f)-(c?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(d)return ui(jn(d,1),!1)}if(s==null&&o<$t(n)){let f=n.childNodes[o];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let d=f?f.nodeType==3?wn(f,0,c?0:1):f.nodeType==1?f:null:null;if(d)return ui(jn(d,-1),!0)}return ui(jn(n.nodeType==3?wn(n):n,-t),t>=0)}function ui(r,e){if(r.width==0)return r;let t=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:t,right:t}}function La(r,e){if(r.height==0)return r;let t=e?r.top:r.bottom;return{top:t,bottom:t,left:r.left,right:r.right}}function yy(r,e,t){let n=r.state,o=r.root.activeElement;n!=e&&r.updateState(e),o!=r.dom&&r.focus();try{return t()}finally{n!=e&&r.updateState(n),o!=r.dom&&o&&o.focus()}}function $x(r,e,t){let n=e.selection,o=t=="up"?n.$from:n.$to;return yy(r,e,()=>{let{node:s}=r.docView.domFromPos(o.pos,t=="up"?-1:1);for(;;){let a=r.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let c=gy(r,o.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let f;if(a.nodeType==1)f=a.getClientRects();else if(a.nodeType==3)f=wn(a,0,a.nodeValue.length).getClientRects();else continue;for(let d=0;d<f.length;d++){let p=f[d];if(p.bottom>p.top+1&&(t=="up"?c.top-p.top>(p.bottom-c.top)*2:p.bottom-c.bottom>(c.bottom-p.top)*2))return!1}}return!0})}const jx=/[\u0590-\u08ac]/;function Hx(r,e,t){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let o=n.parentOffset,s=!o,c=o==n.parent.content.size,a=r.domSelection();return a?!jx.test(n.parent.textContent)||!a.modify?t=="left"||t=="backward"?s:c:yy(r,e,()=>{let{focusNode:f,focusOffset:d,anchorNode:p,anchorOffset:m}=r.domSelectionRange(),v=a.caretBidiLevel;a.modify("move",t,"character");let k=n.depth?r.docView.domAfterPos(n.before()):r.dom,{focusNode:x,focusOffset:w}=r.domSelectionRange(),C=x&&!k.contains(x.nodeType==1?x:x.parentNode)||f==x&&d==w;try{a.collapse(p,m),f&&(f!=p||d!=m)&&a.extend&&a.extend(f,d)}catch{}return v!=null&&(a.caretBidiLevel=v),C}):n.pos==n.start()||n.pos==n.end()}let Em=null,_m=null,bm=!1;function Ux(r,e,t){return Em==e&&_m==t?bm:(Em=e,_m=t,bm=t=="up"||t=="down"?$x(r,e,t):Hx(r,e,t))}const Ht=0,Mm=1,wr=2,fn=3;class Ai{constructor(e,t,n,o){this.parent=e,this.children=t,this.dom=n,this.contentDOM=o,this.dirty=Ht,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let o=this.children[t];if(o==e)return n;n+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let s,c;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((c=s.pmViewDesc)&&c.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(c)+c.size:this.posAtStart}else{let s,c;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((c=s.pmViewDesc)&&c.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(c):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=t>rt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!1;break}if(s.previousSibling)break}if(o==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!0;break}if(s.nextSibling)break}}return o??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,o=e;o;o=o.parentNode){let s=this.getDesc(o),c;if(s&&(!t||s.node))if(n&&(c=s.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))n=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let o=e;o;o=o.parentNode){let s=this.getDesc(o);if(s)return s.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let o=this.children[t],s=n+o.size;if(n==e&&s!=n){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<s)return o.descAt(e-n-o.border);n=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,o=0;for(let s=0;n<this.children.length;n++){let c=this.children[n],a=s+c.size;if(a>e||c instanceof vy){o=e-s;break}s=a}if(o)return this.children[n].domFromPos(o-this.children[n].border,t);for(let s;n&&!(s=this.children[n-1]).size&&s instanceof ky&&s.side>=0;n--);if(t<=0){let s,c=!0;for(;s=n?this.children[n-1]:null,!(!s||s.dom.parentNode==this.contentDOM);n--,c=!1);return s&&t&&c&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?rt(s.dom)+1:0}}else{let s,c=!0;for(;s=n<this.children.length?this.children[n]:null,!(!s||s.dom.parentNode==this.contentDOM);n++,c=!1);return s&&c&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?rt(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,s=-1;for(let c=n,a=0;;a++){let f=this.children[a],d=c+f.size;if(o==-1&&e<=d){let p=c+f.border;if(e>=p&&t<=d-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,t,p);e=c;for(let m=a;m>0;m--){let v=this.children[m-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){o=rt(v.dom)+1;break}e-=v.size}o==-1&&(o=0)}if(o>-1&&(d>t||a==this.children.length-1)){t=d;for(let p=a+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=rt(m.dom);break}t+=m.size}s==-1&&(s=this.contentDOM.childNodes.length);break}c=d}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,o=!1){let s=Math.min(e,t),c=Math.max(e,t);for(let k=0,x=0;k<this.children.length;k++){let w=this.children[k],C=x+w.size;if(s>x&&c<C)return w.setSelection(e-x-w.border,t-x-w.border,n,o);x=C}let a=this.domFromPos(e,e?-1:1),f=t==e?a:this.domFromPos(t,t?-1:1),d=n.root.getSelection(),p=n.domSelectionRange(),m=!1;if((tn||gt)&&e==t){let{node:k,offset:x}=a;if(k.nodeType==3){if(m=!!(x&&k.nodeValue[x-1]==`
`),m&&x==k.nodeValue.length)for(let w=k,C;w;w=w.parentNode){if(C=w.nextSibling){C.nodeName=="BR"&&(a=f={node:C.parentNode,offset:rt(C)+1});break}let E=w.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let w=k.childNodes[x-1];m=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(tn&&p.focusNode&&p.focusNode!=f.node&&p.focusNode.nodeType==1){let k=p.focusNode.childNodes[p.focusOffset];k&&k.contentEditable=="false"&&(o=!0)}if(!(o||m&&gt)&&Nr(a.node,a.offset,p.anchorNode,p.anchorOffset)&&Nr(f.node,f.offset,p.focusNode,p.focusOffset))return;let v=!1;if((d.extend||e==t)&&!m){d.collapse(a.node,a.offset);try{e!=t&&d.extend(f.node,f.offset),v=!0}catch{}}if(!v){if(e>t){let x=a;a=f,f=x}let k=document.createRange();k.setEnd(f.node,f.offset),k.setStart(a.node,a.offset),d.removeAllRanges(),d.addRange(k)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,o=0;o<this.children.length;o++){let s=this.children[o],c=n+s.size;if(n==c?e<=c&&t>=n:e<c&&t>n){let a=n+s.border,f=c-s.border;if(e>=a&&t<=f){this.dirty=e==n||t==c?wr:Mm,e==a&&t==f&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=fn:s.markDirty(e-a,t-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?wr:fn}n=c}this.dirty=wr}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?wr:Mm;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class ky extends Ai{constructor(e,t,n,o){let s,c=t.type.toDOM;if(typeof c=="function"&&(c=c(n,()=>{if(!s)return o;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(c.nodeType!=1){let a=document.createElement("span");a.appendChild(c),c=a}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==Ht&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Wx extends Ai{constructor(e,t,n,o){super(e,[],t,null),this.textDOM=n,this.text=o}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Or extends Ai{constructor(e,t,n,o,s){super(e,[],n,o),this.mark=t,this.spec=s}static create(e,t,n,o){let s=o.nodeViews[t.type.name],c=s&&s(t,o,n);return(!c||!c.dom)&&(c=Rr.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new Or(e,t,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&fn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=fn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Ht){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Ht}}slice(e,t,n){let o=Or.create(this.parent,this.mark,!0,n),s=this.children,c=this.size;t<c&&(s=mf(s,t,c,n)),e>0&&(s=mf(s,0,e,n));for(let a=0;a<s.length;a++)s[a].parent=o;return o.children=s,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Xn extends Ai{constructor(e,t,n,o,s,c,a,f,d){super(e,[],s,c),this.node=t,this.outerDeco=n,this.innerDeco=o,this.nodeDOM=a}static create(e,t,n,o,s,c){let a=s.nodeViews[t.type.name],f,d=a&&a(t,s,()=>{if(!f)return c;if(f.parent)return f.parent.posBeforeChild(f)},n,o),p=d&&d.dom,m=d&&d.contentDOM;if(t.isText){if(!p)p=document.createTextNode(t.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=Rr.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!m&&!t.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),t.type.spec.draggable&&(p.draggable=!0));let v=p;return p=wy(p,n,t),d?f=new Kx(e,t,n,o,p,m||null,v,d,s,c+1):t.isText?new Cl(e,t,n,o,p,v,s):new Xn(e,t,n,o,p,m||null,v,s,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>H.empty)}return e}matchesNode(e,t,n){return this.dirty==Ht&&e.eq(this.node)&&al(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,o=t,s=e.composing?this.localCompositionInfo(e,t):null,c=s&&s.pos>-1?s:null,a=s&&s.pos<0,f=new Gx(this,c&&c.node,e);Yx(this.node,this.innerDeco,(d,p,m)=>{d.spec.marks?f.syncToMarks(d.spec.marks,n,e):d.type.side>=0&&!m&&f.syncToMarks(p==this.node.childCount?Me.none:this.node.child(p).marks,n,e),f.placeWidget(d,e,o)},(d,p,m,v)=>{f.syncToMarks(d.marks,n,e);let k;f.findNodeMatch(d,p,m,v)||a&&e.state.selection.from>o&&e.state.selection.to<o+d.nodeSize&&(k=f.findIndexWithChild(s.node))>-1&&f.updateNodeAt(d,p,m,k,e)||f.updateNextNode(d,p,m,e,v,o)||f.addNode(d,p,m,e,o),o+=d.nodeSize}),f.syncToMarks([],n,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==wr)&&(c&&this.protectLocalComposition(e,c),xy(this.contentDOM,this.children,e),vo&&Xx(this.dom))}localCompositionInfo(e,t){let{from:n,to:o}=e.state.selection;if(!(e.state.selection instanceof ue)||n<t||o>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let c=s.nodeValue,a=eS(this.node.content,c,n-t,o-t);return a<0?null:{node:s,pos:a,text:c}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:o}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let c=new Wx(this,s,t,o);e.input.compositionNodes.push(c),this.children=mf(this.children,n,n+o.length,e,c)}update(e,t,n,o){return this.dirty==fn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,n,o),!0)}updateInner(e,t,n,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Ht}updateOuterDeco(e){if(al(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=Sy(this.dom,this.nodeDOM,pf(this.outerDeco,this.node,t),pf(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Tm(r,e,t,n,o){wy(n,e,r);let s=new Xn(void 0,r,e,t,n,n,n,o,0);return s.contentDOM&&s.updateChildren(o,0),s}class Cl extends Xn{constructor(e,t,n,o,s,c,a){super(e,t,n,o,s,null,c,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,o){return this.dirty==fn||this.dirty!=Ht&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Ht||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=Ht,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,n){let o=this.node.cut(e,t),s=document.createTextNode(o.text);return new Cl(this.parent,o,this.outerDeco,this.innerDeco,s,s,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=fn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class vy extends Ai{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ht&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Kx extends Xn{constructor(e,t,n,o,s,c,a,f,d,p){super(e,t,n,o,s,c,a,d,p),this.spec=f}update(e,t,n,o){if(this.dirty==fn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,n);return s&&this.updateInner(e,t,n,o),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,o){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function xy(r,e,t){let n=r.firstChild,o=!1;for(let s=0;s<e.length;s++){let c=e[s],a=c.dom;if(a.parentNode==r){for(;a!=n;)n=Am(n),o=!0;n=n.nextSibling}else o=!0,r.insertBefore(a,n);if(c instanceof Or){let f=n?n.previousSibling:r.lastChild;xy(c.contentDOM,c.children,t),n=f?f.nextSibling:r.firstChild}}for(;n;)n=Am(n),o=!0;o&&t.trackWrites==r&&(t.trackWrites=null)}const yi=function(r){r&&(this.nodeName=r)};yi.prototype=Object.create(null);const Cr=[new yi];function pf(r,e,t){if(r.length==0)return Cr;let n=t?Cr[0]:new yi,o=[n];for(let s=0;s<r.length;s++){let c=r[s].type.attrs;if(c){c.nodeName&&o.push(n=new yi(c.nodeName));for(let a in c){let f=c[a];f!=null&&(t&&o.length==1&&o.push(n=new yi(e.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+f:a=="style"?n.style=(n.style?n.style+";":"")+f:a!="nodeName"&&(n[a]=f))}}}return o}function Sy(r,e,t,n){if(t==Cr&&n==Cr)return e;let o=e;for(let s=0;s<n.length;s++){let c=n[s],a=t[s];if(s){let f;a&&a.nodeName==c.nodeName&&o!=r&&(f=o.parentNode)&&f.nodeName.toLowerCase()==c.nodeName||(f=document.createElement(c.nodeName),f.pmIsDeco=!0,f.appendChild(o),a=Cr[0]),o=f}Jx(o,a||Cr[0],c)}return o}function Jx(r,e,t){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&r.removeAttribute(n);for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&t[n]!=e[n]&&r.setAttribute(n,t[n]);if(e.class!=t.class){let n=e.class?e.class.split(" ").filter(Boolean):[],o=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<n.length;s++)o.indexOf(n[s])==-1&&r.classList.remove(n[s]);for(let s=0;s<o.length;s++)n.indexOf(o[s])==-1&&r.classList.add(o[s]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=t.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=n.exec(e.style);)r.style.removeProperty(o[1])}t.style&&(r.style.cssText+=t.style)}}function wy(r,e,t){return Sy(r,r,Cr,pf(e,t,r.nodeType!=1))}function al(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].type.eq(e[t].type))return!1;return!0}function Am(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class Gx{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Qx(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let o=0,s=this.stack.length>>1,c=Math.min(s,e.length);for(;o<c&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=Ht,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let d=this.top.children[f];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){a=f;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let f=Or.create(this.top,e[s],t,n);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,n,o){let s=-1,c;if(o>=this.preMatch.index&&(c=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&c.matchesNode(e,t,n))s=this.top.children.indexOf(c,this.index);else for(let a=this.index,f=Math.min(this.top.children.length,a+5);a<f;a++){let d=this.top.children[a];if(d.matchesNode(e,t,n)&&!this.preMatch.matched.has(d)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,n,o,s){let c=this.top.children[o];return c.dirty==fn&&c.dom==c.contentDOM&&(c.dirty=wr),c.update(e,t,n,s)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==n)return o}return-1}e=t}}updateNextNode(e,t,n,o,s,c){for(let a=this.index;a<this.top.children.length;a++){let f=this.top.children[a];if(f instanceof Xn){let d=this.preMatch.matched.get(f);if(d!=null&&d!=s)return!1;let p=f.dom,m,v=this.isLocked(p)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=fn&&al(t,f.outerDeco));if(!v&&f.update(e,t,n,o))return this.destroyBetween(this.index,a),f.dom!=p&&(this.changed=!0),this.index++,!0;if(!v&&(m=this.recreateWrapper(f,e,t,n,o,c)))return this.destroyBetween(this.index,a),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=wr,m.updateChildren(o,c+1),m.dirty=Ht),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,o,s,c){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!al(n,e.outerDeco)||!o.eq(e.innerDeco))return null;let a=Xn.create(this.top,t,n,o,s,c);if(a.contentDOM){a.children=e.children,e.children=[];for(let f of a.children)f.parent=a}return e.destroy(),a}addNode(e,t,n,o,s){let c=Xn.create(this.top,e,t,n,o,s);c.contentDOM&&c.updateChildren(o,s+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,t,n){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let s=new ky(this.top,e,t,n);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Or;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Cl)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((gt||ut)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let o=new vy(this.top,[],n,null);t!=this.top?t.children.push(o):t.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Qx(r,e){let t=e,n=t.children.length,o=r.childCount,s=new Map,c=[];e:for(;o>0;){let a;for(;;)if(n){let d=t.children[n-1];if(d instanceof Or)t=d,n=d.children.length;else{a=d,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}let f=a.node;if(f){if(f!=r.child(o-1))break;--o,s.set(a,o),c.push(a)}}return{index:o,matched:s,matches:c.reverse()}}function Zx(r,e){return r.type.side-e.type.side}function Yx(r,e,t,n){let o=e.locals(r),s=0;if(o.length==0){for(let d=0;d<r.childCount;d++){let p=r.child(d);n(p,o,e.forChild(s,p),d),s+=p.nodeSize}return}let c=0,a=[],f=null;for(let d=0;;){let p,m;for(;c<o.length&&o[c].to==s;){let C=o[c++];C.widget&&(p?(m||(m=[p])).push(C):p=C)}if(p)if(m){m.sort(Zx);for(let C=0;C<m.length;C++)t(m[C],d,!!f)}else t(p,d,!!f);let v,k;if(f)k=-1,v=f,f=null;else if(d<r.childCount)k=d,v=r.child(d++);else break;for(let C=0;C<a.length;C++)a[C].to<=s&&a.splice(C--,1);for(;c<o.length&&o[c].from<=s&&o[c].to>s;)a.push(o[c++]);let x=s+v.nodeSize;if(v.isText){let C=x;c<o.length&&o[c].from<C&&(C=o[c].from);for(let E=0;E<a.length;E++)a[E].to<C&&(C=a[E].to);C<x&&(f=v.cut(C-s),v=v.cut(0,C-s),x=C,k=-1)}else for(;c<o.length&&o[c].to<x;)c++;let w=v.isInline&&!v.isLeaf?a.filter(C=>!C.inline):a.slice();n(v,w,e.forChild(s,v),k),s=x}}function Xx(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function eS(r,e,t,n){for(let o=0,s=0;o<r.childCount&&s<=n;){let c=r.child(o++),a=s;if(s+=c.nodeSize,!c.isText)continue;let f=c.text;for(;o<r.childCount;){let d=r.child(o++);if(s+=d.nodeSize,!d.isText)break;f+=d.text}if(s>=t){if(s>=n&&f.slice(n-e.length-a,n-a)==e)return n-e.length;let d=a<n?f.lastIndexOf(e,n-a-1):-1;if(d>=0&&d+e.length+a>=t)return a+d;if(t==n&&f.length>=n+e.length-a&&f.slice(n-a,n-a+e.length)==e)return n}}return-1}function mf(r,e,t,n,o){let s=[];for(let c=0,a=0;c<r.length;c++){let f=r[c],d=a,p=a+=f.size;d>=t||p<=e?s.push(f):(d<e&&s.push(f.slice(0,e-d,n)),o&&(s.push(o),o=void 0),p>t&&s.push(f.slice(t-d,f.size,n)))}return s}function Of(r,e=null){let t=r.domSelectionRange(),n=r.state.doc;if(!t.focusNode)return null;let o=r.docView.nearestDesc(t.focusNode),s=o&&o.size==0,c=r.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(c<0)return null;let a=n.resolve(c),f,d;if(wl(t)){for(f=c;o&&!o.node;)o=o.parent;let m=o.node;if(o&&m.isAtom&&le.isSelectable(m)&&o.parent&&!(m.isInline&&bx(t.focusNode,t.focusOffset,o.dom))){let v=o.posBefore;d=new le(c==v?a:n.resolve(v))}}else{if(t instanceof r.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let m=c,v=c;for(let k=0;k<t.rangeCount;k++){let x=t.getRangeAt(k);m=Math.min(m,r.docView.posFromDOM(x.startContainer,x.startOffset,1)),v=Math.max(v,r.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(m<0)return null;[f,c]=v==r.state.selection.anchor?[v,m]:[m,v],a=n.resolve(c)}else f=r.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(f<0)return null}let p=n.resolve(f);if(!d){let m=e=="pointer"||r.state.selection.head<a.pos&&!s?1:-1;d=Rf(r,p,a,m)}return d}function Cy(r){return r.editable?r.hasFocus():_y(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function Cn(r,e=!1){let t=r.state.selection;if(Ey(r,t),!!Cy(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&ut){let n=r.domSelectionRange(),o=r.domObserver.currentSelection;if(n.anchorNode&&o.anchorNode&&Nr(n.anchorNode,n.anchorOffset,o.anchorNode,o.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)nS(r);else{let{anchor:n,head:o}=t,s,c;Dm&&!(t instanceof ue)&&(t.$from.parent.inlineContent||(s=Nm(r,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(c=Nm(r,t.to))),r.docView.setSelection(n,o,r,e),Dm&&(s&&Om(s),c&&Om(c)),t.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&tS(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const Dm=gt||ut&&fy<63;function Nm(r,e){let{node:t,offset:n}=r.docView.domFromPos(e,0),o=n<t.childNodes.length?t.childNodes[n]:null,s=n?t.childNodes[n-1]:null;if(gt&&o&&o.contentEditable=="false")return Fa(o);if((!o||o.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(o)return Fa(o);if(s)return Fa(s)}}function Fa(r){return r.contentEditable="true",gt&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function Om(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function tS(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let t=r.domSelectionRange(),n=t.anchorNode,o=t.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(t.anchorNode!=n||t.anchorOffset!=o)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!Cy(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function nS(r){let e=r.domSelection(),t=document.createRange();if(!e)return;let n=r.cursorWrapper.dom,o=n.nodeName=="IMG";o?t.setStart(n.parentNode,rt(n)+1):t.setStart(n,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!o&&!r.state.selection.visible&&Mt&&Yn<=11&&(n.disabled=!0,n.disabled=!1)}function Ey(r,e){if(e instanceof le){let t=r.docView.descAt(e.from);t!=r.lastSelectedViewDesc&&(Rm(r),t&&t.selectNode(),r.lastSelectedViewDesc=t)}else Rm(r)}function Rm(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function Rf(r,e,t,n){return r.someProp("createSelectionBetween",o=>o(r,e,t))||ue.between(e,t,n)}function Im(r){return r.editable&&!r.hasFocus()?!1:_y(r)}function _y(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function rS(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),t=r.domSelectionRange();return Nr(e.node,e.offset,t.anchorNode,t.anchorOffset)}function gf(r,e){let{$anchor:t,$head:n}=r.selection,o=e>0?t.max(n):t.min(n),s=o.parent.inlineContent?o.depth?r.doc.resolve(e>0?o.after():o.before()):null:o;return s&&de.findFrom(s,e)}function Hn(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function Pm(r,e,t){let n=r.state.selection;if(n instanceof ue)if(t.indexOf("s")>-1){let{$head:o}=n,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let c=r.state.doc.resolve(o.pos+s.nodeSize*(e<0?-1:1));return Hn(r,new ue(n.$anchor,c))}else if(n.empty){if(r.endOfTextblock(e>0?"forward":"backward")){let o=gf(r.state,e);return o&&o instanceof le?Hn(r,o):!1}else if(!(Vt&&t.indexOf("m")>-1)){let o=n.$head,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,c;if(!s||s.isText)return!1;let a=e<0?o.pos-s.nodeSize:o.pos;return s.isAtom||(c=r.docView.descAt(a))&&!c.contentDOM?le.isSelectable(s)?Hn(r,new le(e<0?r.state.doc.resolve(o.pos-s.nodeSize):o)):Ti?Hn(r,new ue(r.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(n instanceof le&&n.node.isInline)return Hn(r,new ue(e>0?n.$to:n.$from));{let o=gf(r.state,e);return o?Hn(r,o):!1}}}function ul(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function ki(r,e){let t=r.pmViewDesc;return t&&t.size==0&&(e<0||r.nextSibling||r.nodeName!="BR")}function so(r,e){return e<0?oS(r):iS(r)}function oS(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let o,s,c=!1;for(tn&&t.nodeType==1&&n<ul(t)&&ki(t.childNodes[n],-1)&&(c=!0);;)if(n>0){if(t.nodeType!=1)break;{let a=t.childNodes[n-1];if(ki(a,-1))o=t,s=--n;else if(a.nodeType==3)t=a,n=t.nodeValue.length;else break}}else{if(by(t))break;{let a=t.previousSibling;for(;a&&ki(a,-1);)o=t.parentNode,s=rt(a),a=a.previousSibling;if(a)t=a,n=ul(t);else{if(t=t.parentNode,t==r.dom)break;n=0}}}c?yf(r,t,n):o&&yf(r,o,s)}function iS(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let o=ul(t),s,c;for(;;)if(n<o){if(t.nodeType!=1)break;let a=t.childNodes[n];if(ki(a,1))s=t,c=++n;else break}else{if(by(t))break;{let a=t.nextSibling;for(;a&&ki(a,1);)s=a.parentNode,c=rt(a)+1,a=a.nextSibling;if(a)t=a,n=0,o=ul(t);else{if(t=t.parentNode,t==r.dom)break;n=o=0}}}s&&yf(r,s,c)}function by(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function sS(r,e){for(;r&&e==r.childNodes.length&&!Mi(r);)e=rt(r)+1,r=r.parentNode;for(;r&&e<r.childNodes.length;){let t=r.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=0}}function lS(r,e){for(;r&&!e&&!Mi(r);)e=rt(r),r=r.parentNode;for(;r&&e;){let t=r.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=r.childNodes.length}}function yf(r,e,t){if(e.nodeType!=3){let s,c;(c=sS(e,t))?(e=c,t=0):(s=lS(e,t))&&(e=s,t=s.nodeValue.length)}let n=r.domSelection();if(!n)return;if(wl(n)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),n.removeAllRanges(),n.addRange(s)}else n.extend&&n.extend(e,t);r.domObserver.setCurSelection();let{state:o}=r;setTimeout(()=>{r.state==o&&Cn(r)},50)}function zm(r,e){let t=r.state.doc.resolve(e);if(!(ut||Ax)&&t.parent.inlineContent){let o=r.coordsAtPos(e);if(e>t.start()){let s=r.coordsAtPos(e-1),c=(s.top+s.bottom)/2;if(c>o.top&&c<o.bottom&&Math.abs(s.left-o.left)>1)return s.left<o.left?"ltr":"rtl"}if(e<t.end()){let s=r.coordsAtPos(e+1),c=(s.top+s.bottom)/2;if(c>o.top&&c<o.bottom&&Math.abs(s.left-o.left)>1)return s.left>o.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function Lm(r,e,t){let n=r.state.selection;if(n instanceof ue&&!n.empty||t.indexOf("s")>-1||Vt&&t.indexOf("m")>-1)return!1;let{$from:o,$to:s}=n;if(!o.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let c=gf(r.state,e);if(c&&c instanceof le)return Hn(r,c)}if(!o.parent.inlineContent){let c=e<0?o:s,a=n instanceof en?de.near(c,e):de.findFrom(c,e);return a?Hn(r,a):!1}return!1}function Fm(r,e){if(!(r.state.selection instanceof ue))return!0;let{$head:t,$anchor:n,empty:o}=r.state.selection;if(!t.sameParent(n))return!0;if(!o)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let c=r.state.tr;return e<0?c.delete(t.pos-s.nodeSize,t.pos):c.delete(t.pos,t.pos+s.nodeSize),r.dispatch(c),!0}return!1}function Bm(r,e,t){r.domObserver.stop(),e.contentEditable=t,r.domObserver.start()}function cS(r){if(!gt||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;Bm(r,n,"true"),setTimeout(()=>Bm(r,n,"false"),20)}return!1}function aS(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function uS(r,e){let t=e.keyCode,n=aS(e);if(t==8||Vt&&t==72&&n=="c")return Fm(r,-1)||so(r,-1);if(t==46&&!e.shiftKey||Vt&&t==68&&n=="c")return Fm(r,1)||so(r,1);if(t==13||t==27)return!0;if(t==37||Vt&&t==66&&n=="c"){let o=t==37?zm(r,r.state.selection.from)=="ltr"?-1:1:-1;return Pm(r,o,n)||so(r,o)}else if(t==39||Vt&&t==70&&n=="c"){let o=t==39?zm(r,r.state.selection.from)=="ltr"?1:-1:1;return Pm(r,o,n)||so(r,o)}else{if(t==38||Vt&&t==80&&n=="c")return Lm(r,-1,n)||so(r,-1);if(t==40||Vt&&t==78&&n=="c")return cS(r)||Lm(r,1,n)||so(r,1);if(n==(Vt?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function My(r,e){r.someProp("transformCopied",k=>{e=k(e,r)});let t=[],{content:n,openStart:o,openEnd:s}=e;for(;o>1&&s>1&&n.childCount==1&&n.firstChild.childCount==1;){o--,s--;let k=n.firstChild;t.push(k.type.name,k.attrs!=k.type.defaultAttrs?k.attrs:null),n=k.content}let c=r.someProp("clipboardSerializer")||Rr.fromSchema(r.state.schema),a=Ry(),f=a.createElement("div");f.appendChild(c.serializeFragment(n,{document:a}));let d=f.firstChild,p,m=0;for(;d&&d.nodeType==1&&(p=Oy[d.nodeName.toLowerCase()]);){for(let k=p.length-1;k>=0;k--){let x=a.createElement(p[k]);for(;f.firstChild;)x.appendChild(f.firstChild);f.appendChild(x),m++}d=f.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${o} ${s}${m?` -${m}`:""} ${JSON.stringify(t)}`);let v=r.someProp("clipboardTextSerializer",k=>k(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:v,slice:e}}function Ty(r,e,t,n,o){let s=o.parent.type.spec.code,c,a;if(!t&&!e)return null;let f=e&&(n||s||!t);if(f){if(r.someProp("transformPastedText",v=>{e=v(e,s||n,r)}),s)return e?new Q(H.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Q.empty;let m=r.someProp("clipboardTextParser",v=>v(e,o,n,r));if(m)a=m;else{let v=o.marks(),{schema:k}=r.state,x=Rr.fromSchema(k);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let C=c.appendChild(document.createElement("p"));w&&C.appendChild(x.serializeNode(k.text(w,v)))})}}else r.someProp("transformPastedHTML",m=>{t=m(t,r)}),c=pS(t),Ti&&mS(c);let d=c&&c.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let v=c.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;c=v}if(a||(a=(r.someProp("clipboardParser")||r.someProp("domParser")||Zn.fromSchema(r.state.schema)).parseSlice(c,{preserveWhitespace:!!(f||p),context:o,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!fS.test(v.parentNode.nodeName)?{ignore:!0}:null}})),p)a=gS(qm(a,+p[1],+p[2]),p[4]);else if(a=Q.maxOpen(dS(a.content,o),!0),a.openStart||a.openEnd){let m=0,v=0;for(let k=a.content.firstChild;m<a.openStart&&!k.type.spec.isolating;m++,k=k.firstChild);for(let k=a.content.lastChild;v<a.openEnd&&!k.type.spec.isolating;v++,k=k.lastChild);a=qm(a,m,v)}return r.someProp("transformPasted",m=>{a=m(a,r)}),a}const fS=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function dS(r,e){if(r.childCount<2)return r;for(let t=e.depth;t>=0;t--){let o=e.node(t).contentMatchAt(e.index(t)),s,c=[];if(r.forEach(a=>{if(!c)return;let f=o.findWrapping(a.type),d;if(!f)return c=null;if(d=c.length&&s.length&&Dy(f,s,a,c[c.length-1],0))c[c.length-1]=d;else{c.length&&(c[c.length-1]=Ny(c[c.length-1],s.length));let p=Ay(a,f);c.push(p),o=o.matchType(p.type),s=f}}),c)return H.from(c)}return r}function Ay(r,e,t=0){for(let n=e.length-1;n>=t;n--)r=e[n].create(null,H.from(r));return r}function Dy(r,e,t,n,o){if(o<r.length&&o<e.length&&r[o]==e[o]){let s=Dy(r,e,t,n.lastChild,o+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));if(n.contentMatchAt(n.childCount).matchType(o==r.length-1?t.type:r[o+1]))return n.copy(n.content.append(H.from(Ay(t,r,o+1))))}}function Ny(r,e){if(e==0)return r;let t=r.content.replaceChild(r.childCount-1,Ny(r.lastChild,e-1)),n=r.contentMatchAt(r.childCount).fillBefore(H.empty,!0);return r.copy(t.append(n))}function kf(r,e,t,n,o,s){let c=e<0?r.firstChild:r.lastChild,a=c.content;return r.childCount>1&&(s=0),o<n-1&&(a=kf(a,e,t,n,o+1,s)),o>=t&&(a=e<0?c.contentMatchAt(0).fillBefore(a,s<=o).append(a):a.append(c.contentMatchAt(c.childCount).fillBefore(H.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,c.copy(a))}function qm(r,e,t){return e<r.openStart&&(r=new Q(kf(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),t<r.openEnd&&(r=new Q(kf(r.content,1,t,r.openEnd,0,0),r.openStart,t)),r}const Oy={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Vm=null;function Ry(){return Vm||(Vm=document.implementation.createHTMLDocument("title"))}let Ba=null;function hS(r){let e=window.trustedTypes;return e?(Ba||(Ba=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Ba.createHTML(r)):r}function pS(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let t=Ry().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(r),o;if((o=n&&Oy[n[1].toLowerCase()])&&(r=o.map(s=>"<"+s+">").join("")+r+o.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=hS(r),o)for(let s=0;s<o.length;s++)t=t.querySelector(o[s])||t;return t}function mS(r){let e=r.querySelectorAll(ut?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let n=e[t];n.childNodes.length==1&&n.textContent==" "&&n.parentNode&&n.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),n)}}function gS(r,e){if(!r.size)return r;let t=r.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return r}let{content:o,openStart:s,openEnd:c}=r;for(let a=n.length-2;a>=0;a-=2){let f=t.nodes[n[a]];if(!f||f.hasRequiredAttrs())break;o=H.from(f.create(n[a+1],o)),s++,c++}return new Q(o,s,c)}const yt={},kt={},yS={touchstart:!0,touchmove:!0};class kS{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function vS(r){for(let e in yt){let t=yt[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=n=>{SS(r,n)&&!If(r,n)&&(r.editable||!(n.type in kt))&&t(r,n)},yS[e]?{passive:!0}:void 0)}gt&&r.dom.addEventListener("input",()=>null),vf(r)}function Gn(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function xS(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function vf(r){r.someProp("handleDOMEvents",e=>{for(let t in e)r.input.eventHandlers[t]||r.dom.addEventListener(t,r.input.eventHandlers[t]=n=>If(r,n))})}function If(r,e){return r.someProp("handleDOMEvents",t=>{let n=t[e.type];return n?n(r,e)||e.defaultPrevented:!1})}function SS(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=r.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function wS(r,e){!If(r,e)&&yt[e.type]&&(r.editable||!(e.type in kt))&&yt[e.type](r,e)}kt.keydown=(r,e)=>{let t=e;if(r.input.shiftKey=t.keyCode==16||t.shiftKey,!Py(r,t)&&(r.input.lastKeyCode=t.keyCode,r.input.lastKeyCodeTime=Date.now(),!(Yt&&ut&&t.keyCode==13)))if(t.keyCode!=229&&r.domObserver.forceFlush(),vo&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let n=Date.now();r.input.lastIOSEnter=n,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==n&&(r.someProp("handleKeyDown",o=>o(r,xr(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",n=>n(r,t))||uS(r,t)?t.preventDefault():Gn(r,"key")};kt.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};kt.keypress=(r,e)=>{let t=e;if(Py(r,t)||!t.charCode||t.ctrlKey&&!t.altKey||Vt&&t.metaKey)return;if(r.someProp("handleKeyPress",o=>o(r,t))){t.preventDefault();return}let n=r.state.selection;if(!(n instanceof ue)||!n.$from.sameParent(n.$to)){let o=String.fromCharCode(t.charCode);!/[\r\n]/.test(o)&&!r.someProp("handleTextInput",s=>s(r,n.$from.pos,n.$to.pos,o))&&r.dispatch(r.state.tr.insertText(o).scrollIntoView()),t.preventDefault()}};function El(r){return{left:r.clientX,top:r.clientY}}function CS(r,e){let t=e.x-r.clientX,n=e.y-r.clientY;return t*t+n*n<100}function Pf(r,e,t,n,o){if(n==-1)return!1;let s=r.state.doc.resolve(n);for(let c=s.depth+1;c>0;c--)if(r.someProp(e,a=>c>s.depth?a(r,t,s.nodeAfter,s.before(c),o,!0):a(r,t,s.node(c),s.before(c),o,!1)))return!0;return!1}function go(r,e,t){if(r.focused||r.focus(),r.state.selection.eq(e))return;let n=r.state.tr.setSelection(e);n.setMeta("pointer",!0),r.dispatch(n)}function ES(r,e){if(e==-1)return!1;let t=r.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&le.isSelectable(n)?(go(r,new le(t)),!0):!1}function _S(r,e){if(e==-1)return!1;let t=r.state.selection,n,o;t instanceof le&&(n=t.node);let s=r.state.doc.resolve(e);for(let c=s.depth+1;c>0;c--){let a=c>s.depth?s.nodeAfter:s.node(c);if(le.isSelectable(a)){n&&t.$from.depth>0&&c>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?o=s.before(t.$from.depth):o=s.before(c);break}}return o!=null?(go(r,le.create(r.state.doc,o)),!0):!1}function bS(r,e,t,n,o){return Pf(r,"handleClickOn",e,t,n)||r.someProp("handleClick",s=>s(r,e,n))||(o?_S(r,t):ES(r,t))}function MS(r,e,t,n){return Pf(r,"handleDoubleClickOn",e,t,n)||r.someProp("handleDoubleClick",o=>o(r,e,n))}function TS(r,e,t,n){return Pf(r,"handleTripleClickOn",e,t,n)||r.someProp("handleTripleClick",o=>o(r,e,n))||AS(r,t,n)}function AS(r,e,t){if(t.button!=0)return!1;let n=r.state.doc;if(e==-1)return n.inlineContent?(go(r,ue.create(n,0,n.content.size)),!0):!1;let o=n.resolve(e);for(let s=o.depth+1;s>0;s--){let c=s>o.depth?o.nodeAfter:o.node(s),a=o.before(s);if(c.inlineContent)go(r,ue.create(n,a+1,a+1+c.content.size));else if(le.isSelectable(c))go(r,le.create(n,a));else continue;return!0}}function zf(r){return fl(r)}const Iy=Vt?"metaKey":"ctrlKey";yt.mousedown=(r,e)=>{let t=e;r.input.shiftKey=t.shiftKey;let n=zf(r),o=Date.now(),s="singleClick";o-r.input.lastClick.time<500&&CS(t,r.input.lastClick)&&!t[Iy]&&(r.input.lastClick.type=="singleClick"?s="doubleClick":r.input.lastClick.type=="doubleClick"&&(s="tripleClick")),r.input.lastClick={time:o,x:t.clientX,y:t.clientY,type:s};let c=r.posAtCoords(El(t));c&&(s=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new DS(r,c,t,!!n)):(s=="doubleClick"?MS:TS)(r,c.pos,c.inside,t)?t.preventDefault():Gn(r,"pointer"))};class DS{constructor(e,t,n,o){this.view=e,this.pos=t,this.event=n,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Iy],this.allowDefault=n.shiftKey;let s,c;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),c=t.inside;else{let p=e.state.doc.resolve(t.pos);s=p.parent,c=p.depth?p.before():0}const a=o?null:n.target,f=a?e.docView.nearestDesc(a,!0):null;this.target=f&&f.dom.nodeType==1?f.dom:null;let{selection:d}=e.state;(n.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof le&&d.from<=c&&d.to>c)&&(this.mightDrag={node:s,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&tn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Gn(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Cn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(El(e))),this.updateAllowDefault(e),this.allowDefault||!t?Gn(this.view,"pointer"):bS(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||gt&&this.mightDrag&&!this.mightDrag.node.isAtom||ut&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(go(this.view,de.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Gn(this.view,"pointer")}move(e){this.updateAllowDefault(e),Gn(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}yt.touchstart=r=>{r.input.lastTouch=Date.now(),zf(r),Gn(r,"pointer")};yt.touchmove=r=>{r.input.lastTouch=Date.now(),Gn(r,"pointer")};yt.contextmenu=r=>zf(r);function Py(r,e){return r.composing?!0:gt&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const NS=Yt?5e3:-1;kt.compositionstart=kt.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,t=e.selection.$to;if(e.selection instanceof ue&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||t.marks(),fl(r,!0),r.markCursor=null;else if(fl(r,!e.selection.empty),tn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let n=r.domSelectionRange();for(let o=n.focusNode,s=n.focusOffset;o&&o.nodeType==1&&s!=0;){let c=s<0?o.lastChild:o.childNodes[s-1];if(!c)break;if(c.nodeType==3){let a=r.domSelection();a&&a.collapse(c,c.nodeValue.length);break}else o=c,s=-1}}r.input.composing=!0}zy(r,NS)};kt.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,zy(r,20))};function zy(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>fl(r),e))}function Ly(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=RS());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function OS(r){let e=r.domSelectionRange();if(!e.focusNode)return null;let t=Ex(e.focusNode,e.focusOffset),n=_x(e.focusNode,e.focusOffset);if(t&&n&&t!=n){let o=n.pmViewDesc,s=r.domObserver.lastChangedTextNode;if(t==s||n==s)return s;if(!o||!o.isText(n.nodeValue))return n;if(r.input.compositionNode==n){let c=t.pmViewDesc;if(!(!c||!c.isText(t.nodeValue)))return n}}return t||n}function RS(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function fl(r,e=!1){if(!(Yt&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),Ly(r),e||r.docView&&r.docView.dirty){let t=Of(r);return t&&!t.eq(r.state.selection)?r.dispatch(r.state.tr.setSelection(t)):(r.markCursor||e)&&!r.state.selection.empty?r.dispatch(r.state.tr.deleteSelection()):r.updateState(r.state),!0}return!1}}function IS(r,e){if(!r.dom.parentNode)return;let t=r.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),o=document.createRange();o.selectNodeContents(e),r.dom.blur(),n.removeAllRanges(),n.addRange(o),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),r.focus()},50)}const wi=Mt&&Yn<15||vo&&Dx<604;yt.copy=kt.cut=(r,e)=>{let t=e,n=r.state.selection,o=t.type=="cut";if(n.empty)return;let s=wi?null:t.clipboardData,c=n.content(),{dom:a,text:f}=My(r,c);s?(t.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",f)):IS(r,a),o&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function PS(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function zS(r,e){if(!r.dom.parentNode)return;let t=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,n=r.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let o=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),n.parentNode&&n.parentNode.removeChild(n),t?Ci(r,n.value,null,o,e):Ci(r,n.textContent,n.innerHTML,o,e)},50)}function Ci(r,e,t,n,o){let s=Ty(r,e,t,n,r.state.selection.$from);if(r.someProp("handlePaste",f=>f(r,o,s||Q.empty)))return!0;if(!s)return!1;let c=PS(s),a=c?r.state.tr.replaceSelectionWith(c,n):r.state.tr.replaceSelection(s);return r.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Fy(r){let e=r.getData("text/plain")||r.getData("Text");if(e)return e;let t=r.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}kt.paste=(r,e)=>{let t=e;if(r.composing&&!Yt)return;let n=wi?null:t.clipboardData,o=r.input.shiftKey&&r.input.lastKeyCode!=45;n&&Ci(r,Fy(n),n.getData("text/html"),o,t)?t.preventDefault():zS(r,t)};class By{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const qy=Vt?"altKey":"ctrlKey";yt.dragstart=(r,e)=>{let t=e,n=r.input.mouseDown;if(n&&n.done(),!t.dataTransfer)return;let o=r.state.selection,s=o.empty?null:r.posAtCoords(El(t)),c;if(!(s&&s.pos>=o.from&&s.pos<=(o instanceof le?o.to-1:o.to))){if(n&&n.mightDrag)c=le.create(r.state.doc,n.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let m=r.docView.nearestDesc(t.target,!0);m&&m.node.type.spec.draggable&&m!=r.docView&&(c=le.create(r.state.doc,m.posBefore))}}let a=(c||r.state.selection).content(),{dom:f,text:d,slice:p}=My(r,a);(!t.dataTransfer.files.length||!ut||fy>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(wi?"Text":"text/html",f.innerHTML),t.dataTransfer.effectAllowed="copyMove",wi||t.dataTransfer.setData("text/plain",d),r.dragging=new By(p,!t[qy],c)};yt.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};kt.dragover=kt.dragenter=(r,e)=>e.preventDefault();kt.drop=(r,e)=>{let t=e,n=r.dragging;if(r.dragging=null,!t.dataTransfer)return;let o=r.posAtCoords(El(t));if(!o)return;let s=r.state.doc.resolve(o.pos),c=n&&n.slice;c?r.someProp("transformPasted",x=>{c=x(c,r)}):c=Ty(r,Fy(t.dataTransfer),wi?null:t.dataTransfer.getData("text/html"),!1,s);let a=!!(n&&!t[qy]);if(r.someProp("handleDrop",x=>x(r,t,c||Q.empty,a))){t.preventDefault();return}if(!c)return;t.preventDefault();let f=c?ry(r.state.doc,s.pos,c):s.pos;f==null&&(f=s.pos);let d=r.state.tr;if(a){let{node:x}=n;x?x.replace(d):d.deleteSelection()}let p=d.mapping.map(f),m=c.openStart==0&&c.openEnd==0&&c.content.childCount==1,v=d.doc;if(m?d.replaceRangeWith(p,p,c.content.firstChild):d.replaceRange(p,p,c),d.doc.eq(v))return;let k=d.doc.resolve(p);if(m&&le.isSelectable(c.content.firstChild)&&k.nodeAfter&&k.nodeAfter.sameMarkup(c.content.firstChild))d.setSelection(new le(k));else{let x=d.mapping.map(f);d.mapping.maps[d.mapping.maps.length-1].forEach((w,C,E,A)=>x=A),d.setSelection(Rf(r,k,d.doc.resolve(x)))}r.focus(),r.dispatch(d.setMeta("uiEvent","drop"))};yt.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&Cn(r)},20))};yt.blur=(r,e)=>{let t=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),t.relatedTarget&&r.dom.contains(t.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};yt.beforeinput=(r,e)=>{if(ut&&Yt&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:n}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=n||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",s=>s(r,xr(8,"Backspace")))))return;let{$cursor:o}=r.state.selection;o&&o.pos>0&&r.dispatch(r.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let r in kt)yt[r]=kt[r];function Ei(r,e){if(r==e)return!0;for(let t in r)if(r[t]!==e[t])return!1;for(let t in e)if(!(t in r))return!1;return!0}class dl{constructor(e,t){this.toDOM=e,this.spec=t||Mr,this.side=this.spec.side||0}map(e,t,n,o){let{pos:s,deleted:c}=e.mapResult(t.from+o,this.side<0?-1:1);return c?null:new jt(s-n,s-n,this)}valid(){return!0}eq(e){return this==e||e instanceof dl&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ei(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class er{constructor(e,t){this.attrs=e,this.spec=t||Mr}map(e,t,n,o){let s=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-n,c=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-n;return s>=c?null:new jt(s,c,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof er&&Ei(this.attrs,e.attrs)&&Ei(this.spec,e.spec)}static is(e){return e.type instanceof er}destroy(){}}class Lf{constructor(e,t){this.attrs=e,this.spec=t||Mr}map(e,t,n,o){let s=e.mapResult(t.from+o,1);if(s.deleted)return null;let c=e.mapResult(t.to+o,-1);return c.deleted||c.pos<=s.pos?null:new jt(s.pos-n,c.pos-n,this)}valid(e,t){let{index:n,offset:o}=e.content.findIndex(t.from),s;return o==t.from&&!(s=e.child(n)).isText&&o+s.nodeSize==t.to}eq(e){return this==e||e instanceof Lf&&Ei(this.attrs,e.attrs)&&Ei(this.spec,e.spec)}destroy(){}}class jt{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new jt(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new jt(e,e,new dl(t,n))}static inline(e,t,n,o){return new jt(e,t,new er(n,o))}static node(e,t,n,o){return new jt(e,t,new Lf(n,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof er}get widget(){return this.type instanceof dl}}const ao=[],Mr={};class Ue{constructor(e,t){this.local=e.length?e:ao,this.children=t.length?t:ao}static create(e,t){return t.length?hl(t,e,0,Mr):at}find(e,t,n){let o=[];return this.findInner(e??0,t??1e9,o,0,n),o}findInner(e,t,n,o,s){for(let c=0;c<this.local.length;c++){let a=this.local[c];a.from<=t&&a.to>=e&&(!s||s(a.spec))&&n.push(a.copy(a.from+o,a.to+o))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<t&&this.children[c+1]>e){let a=this.children[c]+1;this.children[c+2].findInner(e-a,t-a,n,o+a,s)}}map(e,t,n){return this==at||e.maps.length==0?this:this.mapInner(e,t,0,0,n||Mr)}mapInner(e,t,n,o,s){let c;for(let a=0;a<this.local.length;a++){let f=this.local[a].map(e,n,o);f&&f.type.valid(t,f)?(c||(c=[])).push(f):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?LS(this.children,c||[],e,t,n,o,s):c?new Ue(c.sort(Tr),ao):at}add(e,t){return t.length?this==at?Ue.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let o,s=0;e.forEach((a,f)=>{let d=f+n,p;if(p=$y(t,a,d)){for(o||(o=this.children.slice());s<o.length&&o[s]<f;)s+=3;o[s]==f?o[s+2]=o[s+2].addInner(a,p,d+1):o.splice(s,0,f,f+a.nodeSize,hl(p,a,d+1,Mr)),s+=3}});let c=Vy(s?jy(t):t,-n);for(let a=0;a<c.length;a++)c[a].type.valid(e,c[a])||c.splice(a--,1);return new Ue(c.length?this.local.concat(c).sort(Tr):this.local,o||this.children)}remove(e){return e.length==0||this==at?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,o=this.local;for(let s=0;s<n.length;s+=3){let c,a=n[s]+t,f=n[s+1]+t;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>a&&m.to<f&&(e[p]=null,(c||(c=[])).push(m));if(!c)continue;n==this.children&&(n=this.children.slice());let d=n[s+2].removeInner(c,a+1);d!=at?n[s+2]=d:(n.splice(s,3),s-=3)}if(o.length){for(let s=0,c;s<e.length;s++)if(c=e[s])for(let a=0;a<o.length;a++)o[a].eq(c,t)&&(o==this.local&&(o=this.local.slice()),o.splice(a--,1))}return n==this.children&&o==this.local?this:o.length||n.length?new Ue(o,n):at}forChild(e,t){if(this==at)return this;if(t.isLeaf)return Ue.empty;let n,o;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}let s=e+1,c=s+t.content.size;for(let a=0;a<this.local.length;a++){let f=this.local[a];if(f.from<c&&f.to>s&&f.type instanceof er){let d=Math.max(s,f.from)-s,p=Math.min(c,f.to)-s;d<p&&(o||(o=[])).push(f.copy(d,p))}}if(o){let a=new Ue(o.sort(Tr),ao);return n?new Wn([a,n]):a}return n||at}eq(e){if(this==e)return!0;if(!(e instanceof Ue)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Ff(this.localsInner(e))}localsInner(e){if(this==at)return ao;if(e.inlineContent||!this.local.some(er.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof er||t.push(this.local[n]);return t}forEachSet(e){e(this)}}Ue.empty=new Ue([],[]);Ue.removeOverlap=Ff;const at=Ue.empty;class Wn{constructor(e){this.members=e}map(e,t){const n=this.members.map(o=>o.map(e,t,Mr));return Wn.from(n)}forChild(e,t){if(t.isLeaf)return Ue.empty;let n=[];for(let o=0;o<this.members.length;o++){let s=this.members[o].forChild(e,t);s!=at&&(s instanceof Wn?n=n.concat(s.members):n.push(s))}return Wn.from(n)}eq(e){if(!(e instanceof Wn)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let o=0;o<this.members.length;o++){let s=this.members[o].localsInner(e);if(s.length)if(!t)t=s;else{n&&(t=t.slice(),n=!1);for(let c=0;c<s.length;c++)t.push(s[c])}}return t?Ff(n?t:t.sort(Tr)):ao}static from(e){switch(e.length){case 0:return at;case 1:return e[0];default:return new Wn(e.every(t=>t instanceof Ue)?e:e.reduce((t,n)=>t.concat(n instanceof Ue?n:n.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function LS(r,e,t,n,o,s,c){let a=r.slice();for(let d=0,p=s;d<t.maps.length;d++){let m=0;t.maps[d].forEach((v,k,x,w)=>{let C=w-x-(k-v);for(let E=0;E<a.length;E+=3){let A=a[E+1];if(A<0||v>A+p-m)continue;let b=a[E]+p-m;k>=b?a[E+1]=v<=b?-2:-1:v>=p&&C&&(a[E]+=C,a[E+1]+=C)}m+=C}),p=t.maps[d].map(p,-1)}let f=!1;for(let d=0;d<a.length;d+=3)if(a[d+1]<0){if(a[d+1]==-2){f=!0,a[d+1]=-1;continue}let p=t.map(r[d]+s),m=p-o;if(m<0||m>=n.content.size){f=!0;continue}let v=t.map(r[d+1]+s,-1),k=v-o,{index:x,offset:w}=n.content.findIndex(m),C=n.maybeChild(x);if(C&&w==m&&w+C.nodeSize==k){let E=a[d+2].mapInner(t,C,p+1,r[d]+s+1,c);E!=at?(a[d]=m,a[d+1]=k,a[d+2]=E):(a[d+1]=-2,f=!0)}else f=!0}if(f){let d=FS(a,r,e,t,o,s,c),p=hl(d,n,0,c);e=p.local;for(let m=0;m<a.length;m+=3)a[m+1]<0&&(a.splice(m,3),m-=3);for(let m=0,v=0;m<p.children.length;m+=3){let k=p.children[m];for(;v<a.length&&a[v]<k;)v+=3;a.splice(v,0,p.children[m],p.children[m+1],p.children[m+2])}}return new Ue(e.sort(Tr),a)}function Vy(r,e){if(!e||!r.length)return r;let t=[];for(let n=0;n<r.length;n++){let o=r[n];t.push(new jt(o.from+e,o.to+e,o.type))}return t}function FS(r,e,t,n,o,s,c){function a(f,d){for(let p=0;p<f.local.length;p++){let m=f.local[p].map(n,o,d);m?t.push(m):c.onRemove&&c.onRemove(f.local[p].spec)}for(let p=0;p<f.children.length;p+=3)a(f.children[p+2],f.children[p]+d+1)}for(let f=0;f<r.length;f+=3)r[f+1]==-1&&a(r[f+2],e[f]+s+1);return t}function $y(r,e,t){if(e.isLeaf)return null;let n=t+e.nodeSize,o=null;for(let s=0,c;s<r.length;s++)(c=r[s])&&c.from>t&&c.to<n&&((o||(o=[])).push(c),r[s]=null);return o}function jy(r){let e=[];for(let t=0;t<r.length;t++)r[t]!=null&&e.push(r[t]);return e}function hl(r,e,t,n){let o=[],s=!1;e.forEach((a,f)=>{let d=$y(r,a,f+t);if(d){s=!0;let p=hl(d,a,t+f+1,n);p!=at&&o.push(f,f+a.nodeSize,p)}});let c=Vy(s?jy(r):r,-t).sort(Tr);for(let a=0;a<c.length;a++)c[a].type.valid(e,c[a])||(n.onRemove&&n.onRemove(c[a].spec),c.splice(a--,1));return c.length||o.length?new Ue(c,o):at}function Tr(r,e){return r.from-e.from||r.to-e.to}function Ff(r){let e=r;for(let t=0;t<e.length-1;t++){let n=e[t];if(n.from!=n.to)for(let o=t+1;o<e.length;o++){let s=e[o];if(s.from==n.from){s.to!=n.to&&(e==r&&(e=r.slice()),e[o]=s.copy(s.from,n.to),$m(e,o+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(e==r&&(e=r.slice()),e[t]=n.copy(n.from,s.from),$m(e,o,n.copy(s.from,n.to)));break}}}return e}function $m(r,e,t){for(;e<r.length&&Tr(t,r[e])>0;)e++;r.splice(e,0,t)}function qa(r){let e=[];return r.someProp("decorations",t=>{let n=t(r.state);n&&n!=at&&e.push(n)}),r.cursorWrapper&&e.push(Ue.create(r.state.doc,[r.cursorWrapper.deco])),Wn.from(e)}const BS={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},qS=Mt&&Yn<=11;class VS{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class $S{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new VS,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let o=0;o<n.length;o++)this.queue.push(n[o]);Mt&&Yn<=11&&n.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),qS&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,BS)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Im(this.view)){if(this.suppressingSelectionUpdates)return Cn(this.view);if(Mt&&Yn<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Nr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let s=e.focusNode;s;s=Si(s))t.add(s);for(let s=e.anchorNode;s;s=Si(s))if(t.has(s)){n=s;break}let o=n&&this.view.docView.nearestDesc(n);if(o&&o.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Im(e)&&!this.ignoreSelectionChange(n),s=-1,c=-1,a=!1,f=[];if(e.editable)for(let p=0;p<t.length;p++){let m=this.registerMutation(t[p],f);m&&(s=s<0?m.from:Math.min(m.from,s),c=c<0?m.to:Math.max(m.to,c),m.typeOver&&(a=!0))}if(tn&&f.length){let p=f.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,v]=p;m.parentNode&&m.parentNode.parentNode==v.parentNode?v.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let v of p){let k=v.parentNode;k&&k.nodeName=="LI"&&(!m||US(e,m)!=k)&&v.remove()}}}let d=null;s<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&wl(n)&&(d=Of(e))&&d.eq(de.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Cn(e),this.currentSelection.set(n),e.scrollToSelection()):(s>-1||o)&&(s>-1&&(e.docView.markDirty(s,c),jS(e)),this.handleDOMChange(s,c,a,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Cn(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];t.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let o=e.previousSibling,s=e.nextSibling;if(Mt&&Yn<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:v}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(o=m),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(s=v)}let c=o&&o.parentNode==e.target?rt(o)+1:0,a=n.localPosFromDOM(e.target,c,-1),f=s&&s.parentNode==e.target?rt(s):e.target.childNodes.length,d=n.localPosFromDOM(e.target,f,1);return{from:a,to:d}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let jm=new WeakMap,Hm=!1;function jS(r){if(!jm.has(r)&&(jm.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=tn,Hm)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Hm=!0}}function Um(r,e){let t=e.startContainer,n=e.startOffset,o=e.endContainer,s=e.endOffset,c=r.domAtPos(r.state.selection.anchor);return Nr(c.node,c.offset,o,s)&&([t,n,o,s]=[o,s,t,n]),{anchorNode:t,anchorOffset:n,focusNode:o,focusOffset:s}}function HS(r,e){if(e.getComposedRanges){let o=e.getComposedRanges(r.root)[0];if(o)return Um(r,o)}let t;function n(o){o.preventDefault(),o.stopImmediatePropagation(),t=o.getTargetRanges()[0]}return r.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",n,!0),t?Um(r,t):null}function US(r,e){for(let t=e.parentNode;t&&t!=r.dom;t=t.parentNode){let n=r.docView.nearestDesc(t,!0);if(n&&n.node.isBlock)return t}return null}function WS(r,e,t){let{node:n,fromOffset:o,toOffset:s,from:c,to:a}=r.docView.parseRange(e,t),f=r.domSelectionRange(),d,p=f.anchorNode;if(p&&r.dom.contains(p.nodeType==1?p:p.parentNode)&&(d=[{node:p,offset:f.anchorOffset}],wl(f)||d.push({node:f.focusNode,offset:f.focusOffset})),ut&&r.input.lastKeyCode===8)for(let C=s;C>o;C--){let E=n.childNodes[C-1],A=E.pmViewDesc;if(E.nodeName=="BR"&&!A){s=C;break}if(!A||A.size)break}let m=r.state.doc,v=r.someProp("domParser")||Zn.fromSchema(r.state.schema),k=m.resolve(c),x=null,w=v.parse(n,{topNode:k.parent,topMatch:k.parent.contentMatchAt(k.index()),topOpen:!0,from:o,to:s,preserveWhitespace:k.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:KS,context:k});if(d&&d[0].pos!=null){let C=d[0].pos,E=d[1]&&d[1].pos;E==null&&(E=C),x={anchor:C+c,head:E+c}}return{doc:w,sel:x,from:c,to:a}}function KS(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(gt&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(r.parentNode.lastChild==r||gt&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}const JS=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function GS(r,e,t,n,o){let s=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,e<0){let F=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,K=Of(r,F);if(K&&!r.state.selection.eq(K)){if(ut&&Yt&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",ae=>ae(r,xr(13,"Enter"))))return;let X=r.state.tr.setSelection(K);F=="pointer"?X.setMeta("pointer",!0):F=="key"&&X.scrollIntoView(),s&&X.setMeta("composition",s),r.dispatch(X)}return}let c=r.state.doc.resolve(e),a=c.sharedDepth(t);e=c.before(a+1),t=r.state.doc.resolve(t).after(a+1);let f=r.state.selection,d=WS(r,e,t),p=r.state.doc,m=p.slice(d.from,d.to),v,k;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(v=r.state.selection.to,k="end"):(v=r.state.selection.from,k="start"),r.input.lastKeyCode=null;let x=YS(m.content,d.doc.content,d.from,v,k);if(x&&r.input.domChangeCount++,(vo&&r.input.lastIOSEnter>Date.now()-225||Yt)&&o.some(F=>F.nodeType==1&&!JS.test(F.nodeName))&&(!x||x.endA>=x.endB)&&r.someProp("handleKeyDown",F=>F(r,xr(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!x)if(n&&f instanceof ue&&!f.empty&&f.$head.sameParent(f.$anchor)&&!r.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))x={start:f.from,endA:f.to,endB:f.to};else{if(d.sel){let F=Wm(r,r.state.doc,d.sel);if(F&&!F.eq(r.state.selection)){let K=r.state.tr.setSelection(F);s&&K.setMeta("composition",s),r.dispatch(K)}}return}r.state.selection.from<r.state.selection.to&&x.start==x.endB&&r.state.selection instanceof ue&&(x.start>r.state.selection.from&&x.start<=r.state.selection.from+2&&r.state.selection.from>=d.from?x.start=r.state.selection.from:x.endA<r.state.selection.to&&x.endA>=r.state.selection.to-2&&r.state.selection.to<=d.to&&(x.endB+=r.state.selection.to-x.endA,x.endA=r.state.selection.to)),Mt&&Yn<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>d.from&&d.doc.textBetween(x.start-d.from-1,x.start-d.from+1)=="  "&&(x.start--,x.endA--,x.endB--);let w=d.doc.resolveNoCache(x.start-d.from),C=d.doc.resolveNoCache(x.endB-d.from),E=p.resolve(x.start),A=w.sameParent(C)&&w.parent.inlineContent&&E.end()>=x.endA,b;if((vo&&r.input.lastIOSEnter>Date.now()-225&&(!A||o.some(F=>F.nodeName=="DIV"||F.nodeName=="P"))||!A&&w.pos<d.doc.content.size&&!w.sameParent(C)&&(b=de.findFrom(d.doc.resolve(w.pos+1),1,!0))&&b.head==C.pos)&&r.someProp("handleKeyDown",F=>F(r,xr(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>x.start&&ZS(p,x.start,x.endA,w,C)&&r.someProp("handleKeyDown",F=>F(r,xr(8,"Backspace")))){Yt&&ut&&r.domObserver.suppressSelectionUpdates();return}ut&&Yt&&x.endB==x.start&&(r.input.lastAndroidDelete=Date.now()),Yt&&!A&&w.start()!=C.start()&&C.parentOffset==0&&w.depth==C.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==x.endA&&(x.endB-=2,C=d.doc.resolveNoCache(x.endB-d.from),setTimeout(()=>{r.someProp("handleKeyDown",function(F){return F(r,xr(13,"Enter"))})},20));let T=x.start,I=x.endA,O,W,L;if(A){if(w.pos==C.pos)Mt&&Yn<=11&&w.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>Cn(r),20)),O=r.state.tr.delete(T,I),W=p.resolve(x.start).marksAcross(p.resolve(x.endA));else if(x.endA==x.endB&&(L=QS(w.parent.content.cut(w.parentOffset,C.parentOffset),E.parent.content.cut(E.parentOffset,x.endA-E.start()))))O=r.state.tr,L.type=="add"?O.addMark(T,I,L.mark):O.removeMark(T,I,L.mark);else if(w.parent.child(w.index()).isText&&w.index()==C.index()-(C.textOffset?0:1)){let F=w.parent.textBetween(w.parentOffset,C.parentOffset);if(r.someProp("handleTextInput",K=>K(r,T,I,F)))return;O=r.state.tr.insertText(F,T,I)}}if(O||(O=r.state.tr.replace(T,I,d.doc.slice(x.start-d.from,x.endB-d.from))),d.sel){let F=Wm(r,O.doc,d.sel);F&&!(ut&&Yt&&r.composing&&F.empty&&(x.start!=x.endB||r.input.lastAndroidDelete<Date.now()-100)&&(F.head==T||F.head==O.mapping.map(I)-1)||Mt&&F.empty&&F.head==T)&&O.setSelection(F)}W&&O.ensureMarks(W),s&&O.setMeta("composition",s),r.dispatch(O.scrollIntoView())}function Wm(r,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Rf(r,e.resolve(t.anchor),e.resolve(t.head))}function QS(r,e){let t=r.firstChild.marks,n=e.firstChild.marks,o=t,s=n,c,a,f;for(let p=0;p<n.length;p++)o=n[p].removeFromSet(o);for(let p=0;p<t.length;p++)s=t[p].removeFromSet(s);if(o.length==1&&s.length==0)a=o[0],c="add",f=p=>p.mark(a.addToSet(p.marks));else if(o.length==0&&s.length==1)a=s[0],c="remove",f=p=>p.mark(a.removeFromSet(p.marks));else return null;let d=[];for(let p=0;p<e.childCount;p++)d.push(f(e.child(p)));if(H.from(d).eq(r))return{mark:a,type:c}}function ZS(r,e,t,n,o){if(t-e<=o.pos-n.pos||Va(n,!0,!1)<o.pos)return!1;let s=r.resolve(e);if(!n.parent.isTextblock){let a=s.nodeAfter;return a!=null&&t==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let c=r.resolve(Va(s,!0,!0));return!c.parent.isTextblock||c.pos>t||Va(c,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(c.parent.content)}function Va(r,e,t){let n=r.depth,o=e?r.end():r.pos;for(;n>0&&(e||r.indexAfter(n)==r.node(n).childCount);)n--,o++,e=!1;if(t){let s=r.node(n).maybeChild(r.indexAfter(n));for(;s&&!s.isLeaf;)s=s.firstChild,o++}return o}function YS(r,e,t,n,o){let s=r.findDiffStart(e,t);if(s==null)return null;let{a:c,b:a}=r.findDiffEnd(e,t+r.size,t+e.size);if(o=="end"){let f=Math.max(0,s-Math.min(c,a));n-=c+f-s}if(c<s&&r.size<e.size){let f=n<=s&&n>=c?s-n:0;s-=f,s&&s<e.size&&Km(e.textBetween(s-1,s+1))&&(s+=f?1:-1),a=s+(a-c),c=s}else if(a<s){let f=n<=s&&n>=a?s-n:0;s-=f,s&&s<r.size&&Km(r.textBetween(s-1,s+1))&&(s+=f?1:-1),c=s+(c-a),a=s}return{start:s,endA:c,endB:a}}function Km(r){if(r.length!=2)return!1;let e=r.charCodeAt(0),t=r.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class XS{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new kS,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Ym),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Qm(this),Gm(this),this.nodeViews=Zm(this),this.docView=Tm(this.state.doc,Jm(this),qa(this),this.dom,this),this.domObserver=new $S(this,(n,o,s,c)=>GS(this,n,o,s,c)),this.domObserver.start(),vS(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&vf(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Ym),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let o=this.state,s=!1,c=!1;e.storedMarks&&this.composing&&(Ly(this),c=!0),this.state=e;let a=o.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let k=Zm(this);tw(k,this.nodeViews)&&(this.nodeViews=k,s=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&vf(this),this.editable=Qm(this),Gm(this);let f=qa(this),d=Jm(this),p=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",m=s||!this.docView.matchesNode(e.doc,d,f);(m||!e.selection.eq(o.selection))&&(c=!0);let v=p=="preserve"&&c&&this.dom.style.overflowAnchor==null&&Rx(this);if(c){this.domObserver.stop();let k=m&&(Mt||ut)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&ew(o.selection,e.selection);if(m){let x=ut?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=OS(this)),(s||!this.docView.update(e.doc,d,f,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=Tm(e.doc,d,f,this.dom,this)),x&&!this.trackWrites&&(k=!0)}k||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&rS(this))?Cn(this,k):(Ey(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((n=this.dragging)===null||n===void 0)&&n.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():v&&Ix(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof le){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&wm(this,t.getBoundingClientRect(),e)}else wm(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}updateDraggedNode(e,t){let n=e.node,o=-1;if(this.state.doc.nodeAt(n.from)==n.node)o=n.from;else{let s=n.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==n.node&&(o=s)}this.dragging=new By(e.slice,e.move,o<0?void 0:le.create(this.state.doc,o))}someProp(e,t){let n=this._props&&this._props[e],o;if(n!=null&&(o=t?t(n):n))return o;for(let c=0;c<this.directPlugins.length;c++){let a=this.directPlugins[c].props[e];if(a!=null&&(o=t?t(a):a))return o}let s=this.state.plugins;if(s)for(let c=0;c<s.length;c++){let a=s[c].props[e];if(a!=null&&(o=t?t(a):a))return o}}hasFocus(){if(Mt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Px(this.dom),Cn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return qx(this,e)}coordsAtPos(e,t=1){return gy(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let o=this.docView.posFromDOM(e,t,n);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,t){return Ux(this,t||this.state,e)}pasteHTML(e,t){return Ci(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Ci(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(xS(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],qa(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,wx())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return wS(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?gt&&this.root.nodeType===11&&Mx(this.dom.ownerDocument)==this.dom&&HS(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Jm(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),r.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(r.state)),t)for(let n in t)n=="class"?e.class+=" "+t[n]:n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),e.translate||(e.translate="no"),[jt.node(0,r.state.doc.content.size,e)]}function Gm(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:jt.widget(r.state.selection.from,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function Qm(r){return!r.someProp("editable",e=>e(r.state)===!1)}function ew(r,e){let t=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(t)!=e.$anchor.start(t)}function Zm(r){let e=Object.create(null);function t(n){for(let o in n)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=n[o])}return r.someProp("nodeViews",t),r.someProp("markViews",t),e}function tw(r,e){let t=0,n=0;for(let o in r){if(r[o]!=e[o])return!0;t++}for(let o in e)n++;return t!=n}function Ym(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var tr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},pl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},nw=typeof navigator<"u"&&/Mac/.test(navigator.platform),rw=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ot=0;ot<10;ot++)tr[48+ot]=tr[96+ot]=String(ot);for(var ot=1;ot<=24;ot++)tr[ot+111]="F"+ot;for(var ot=65;ot<=90;ot++)tr[ot]=String.fromCharCode(ot+32),pl[ot]=String.fromCharCode(ot);for(var $a in tr)pl.hasOwnProperty($a)||(pl[$a]=tr[$a]);function ow(r){var e=nw&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||rw&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?pl:tr)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const iw=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function sw(r){let e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let n,o,s,c;for(let a=0;a<e.length-1;a++){let f=e[a];if(/^(cmd|meta|m)$/i.test(f))c=!0;else if(/^a(lt)?$/i.test(f))n=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))iw?c=!0:o=!0;else throw new Error("Unrecognized modifier name: "+f)}return n&&(t="Alt-"+t),o&&(t="Ctrl-"+t),c&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function lw(r){let e=Object.create(null);for(let t in r)e[sw(t)]=r[t];return e}function ja(r,e,t=!0){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t&&e.shiftKey&&(r="Shift-"+r),r}function cw(r){return new Tt({props:{handleKeyDown:Hy(r)}})}function Hy(r){let e=lw(r);return function(t,n){let o=ow(n),s,c=e[ja(o,n)];if(c&&c(t.state,t.dispatch,t))return!0;if(o.length==1&&o!=" "){if(n.shiftKey){let a=e[ja(o,n,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(s=tr[n.keyCode])&&s!=o){let a=e[ja(s,n)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const aw=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function Uy(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("backward",r):t.parentOffset>0)?null:t}const uw=(r,e,t)=>{let n=Uy(r,t);if(!n)return!1;let o=Bf(n);if(!o){let c=n.blockRange(),a=c&&Co(c);return a==null?!1:(e&&e(r.tr.lift(c,a).scrollIntoView()),!0)}let s=o.nodeBefore;if(Gy(r,o,e,-1))return!0;if(n.parent.content.size==0&&(xo(s,"end")||le.isSelectable(s)))for(let c=n.depth;;c--){let a=xl(r.doc,n.before(c),n.after(c),Q.empty);if(a&&a.slice.size<a.to-a.from){if(e){let f=r.tr.step(a);f.setSelection(xo(s,"end")?de.findFrom(f.doc.resolve(f.mapping.map(o.pos,-1)),-1):le.create(f.doc,o.pos-s.nodeSize)),e(f.scrollIntoView())}return!0}if(c==1||n.node(c-1).childCount>1)break}return s.isAtom&&o.depth==n.depth-1?(e&&e(r.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0):!1},fw=(r,e,t)=>{let n=Uy(r,t);if(!n)return!1;let o=Bf(n);return o?Wy(r,o,e):!1},dw=(r,e,t)=>{let n=Ky(r,t);if(!n)return!1;let o=qf(n);return o?Wy(r,o,e):!1};function Wy(r,e,t){let n=e.nodeBefore,o=n,s=e.pos-1;for(;!o.isTextblock;s--){if(o.type.spec.isolating)return!1;let p=o.lastChild;if(!p)return!1;o=p}let c=e.nodeAfter,a=c,f=e.pos+1;for(;!a.isTextblock;f++){if(a.type.spec.isolating)return!1;let p=a.firstChild;if(!p)return!1;a=p}let d=xl(r.doc,s,f,Q.empty);if(!d||d.from!=s||d instanceof Ge&&d.slice.size>=f-s)return!1;if(t){let p=r.tr.step(d);p.setSelection(ue.create(p.doc,s)),t(p.scrollIntoView())}return!0}function xo(r,e,t=!1){for(let n=r;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}const hw=(r,e,t)=>{let{$head:n,empty:o}=r.selection,s=n;if(!o)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):n.parentOffset>0)return!1;s=Bf(n)}let c=s&&s.nodeBefore;return!c||!le.isSelectable(c)?!1:(e&&e(r.tr.setSelection(le.create(r.doc,s.pos-c.nodeSize)).scrollIntoView()),!0)};function Bf(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function Ky(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("forward",r):t.parentOffset<t.parent.content.size)?null:t}const pw=(r,e,t)=>{let n=Ky(r,t);if(!n)return!1;let o=qf(n);if(!o)return!1;let s=o.nodeAfter;if(Gy(r,o,e,1))return!0;if(n.parent.content.size==0&&(xo(s,"start")||le.isSelectable(s))){let c=xl(r.doc,n.before(),n.after(),Q.empty);if(c&&c.slice.size<c.to-c.from){if(e){let a=r.tr.step(c);a.setSelection(xo(s,"start")?de.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):le.create(a.doc,a.mapping.map(o.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&o.depth==n.depth-1?(e&&e(r.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0):!1},mw=(r,e,t)=>{let{$head:n,empty:o}=r.selection,s=n;if(!o)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)return!1;s=qf(n)}let c=s&&s.nodeAfter;return!c||!le.isSelectable(c)?!1:(e&&e(r.tr.setSelection(le.create(r.doc,s.pos)).scrollIntoView()),!0)};function qf(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}const gw=(r,e)=>{let t=r.selection,n=t instanceof le,o;if(n){if(t.node.isTextblock||!rr(r.doc,t.from))return!1;o=t.from}else if(o=vl(r.doc,t.from,-1),o==null)return!1;if(e){let s=r.tr.join(o);n&&s.setSelection(le.create(s.doc,o-r.doc.resolve(o).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},yw=(r,e)=>{let t=r.selection,n;if(t instanceof le){if(t.node.isTextblock||!rr(r.doc,t.to))return!1;n=t.to}else if(n=vl(r.doc,t.to,1),n==null)return!1;return e&&e(r.tr.join(n).scrollIntoView()),!0},kw=(r,e)=>{let{$from:t,$to:n}=r.selection,o=t.blockRange(n),s=o&&Co(o);return s==null?!1:(e&&e(r.tr.lift(o,s).scrollIntoView()),!0)},vw=(r,e)=>{let{$head:t,$anchor:n}=r.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function Jy(r){for(let e=0;e<r.edgeCount;e++){let{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const xw=(r,e)=>{let{$head:t,$anchor:n}=r.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let o=t.node(-1),s=t.indexAfter(-1),c=Jy(o.contentMatchAt(s));if(!c||!o.canReplaceWith(s,s,c))return!1;if(e){let a=t.after(),f=r.tr.replaceWith(a,a,c.createAndFill());f.setSelection(de.near(f.doc.resolve(a),1)),e(f.scrollIntoView())}return!0},Sw=(r,e)=>{let t=r.selection,{$from:n,$to:o}=t;if(t instanceof en||n.parent.inlineContent||o.parent.inlineContent)return!1;let s=Jy(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let c=(!n.parentOffset&&o.index()<o.parent.childCount?n:o).pos,a=r.tr.insert(c,s.createAndFill());a.setSelection(ue.create(a.doc,c+1)),e(a.scrollIntoView())}return!0},ww=(r,e)=>{let{$cursor:t}=r.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(po(r.doc,s))return e&&e(r.tr.split(s).scrollIntoView()),!0}let n=t.blockRange(),o=n&&Co(n);return o==null?!1:(e&&e(r.tr.lift(n,o).scrollIntoView()),!0)},Cw=(r,e)=>{let{$from:t,to:n}=r.selection,o,s=t.sharedDepth(n);return s==0?!1:(o=t.before(s),e&&e(r.tr.setSelection(le.create(r.doc,o))),!0)};function Ew(r,e,t){let n=e.nodeBefore,o=e.nodeAfter,s=e.index();return!n||!o||!n.type.compatibleContent(o.type)?!1:!n.content.size&&e.parent.canReplace(s-1,s)?(t&&t(r.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(o.isTextblock||rr(r.doc,e.pos))?!1:(t&&t(r.tr.join(e.pos).scrollIntoView()),!0)}function Gy(r,e,t,n){let o=e.nodeBefore,s=e.nodeAfter,c,a,f=o.type.spec.isolating||s.type.spec.isolating;if(!f&&Ew(r,e,t))return!0;let d=!f&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(c=(a=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&a.matchType(c[0]||s.type).validEnd){if(t){let k=e.pos+s.nodeSize,x=H.empty;for(let E=c.length-1;E>=0;E--)x=H.from(c[E].create(null,x));x=H.from(o.copy(x));let w=r.tr.step(new Qe(e.pos-1,k,e.pos,k,new Q(x,1,0),c.length,!0)),C=w.doc.resolve(k+2*c.length);C.nodeAfter&&C.nodeAfter.type==o.type&&rr(w.doc,C.pos)&&w.join(C.pos),t(w.scrollIntoView())}return!0}let p=s.type.spec.isolating||n>0&&f?null:de.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),v=m&&Co(m);if(v!=null&&v>=e.depth)return t&&t(r.tr.lift(m,v).scrollIntoView()),!0;if(d&&xo(s,"start",!0)&&xo(o,"end")){let k=o,x=[];for(;x.push(k),!k.isTextblock;)k=k.lastChild;let w=s,C=1;for(;!w.isTextblock;w=w.firstChild)C++;if(k.canReplace(k.childCount,k.childCount,w.content)){if(t){let E=H.empty;for(let b=x.length-1;b>=0;b--)E=H.from(x[b].copy(E));let A=r.tr.step(new Qe(e.pos-x.length,e.pos+s.nodeSize,e.pos+C,e.pos+s.nodeSize-C,new Q(E,x.length,0),0,!0));t(A.scrollIntoView())}return!0}}return!1}function Qy(r){return function(e,t){let n=e.selection,o=r<0?n.$from:n.$to,s=o.depth;for(;o.node(s).isInline;){if(!s)return!1;s--}return o.node(s).isTextblock?(t&&t(e.tr.setSelection(ue.create(e.doc,r<0?o.start(s):o.end(s)))),!0):!1}}const _w=Qy(-1),bw=Qy(1);function Mw(r,e=null){return function(t,n){let{$from:o,$to:s}=t.selection,c=o.blockRange(s),a=c&&Af(c,r,e);return a?(n&&n(t.tr.wrap(c,a).scrollIntoView()),!0):!1}}function Xm(r,e=null){return function(t,n){let o=!1;for(let s=0;s<t.selection.ranges.length&&!o;s++){let{$from:{pos:c},$to:{pos:a}}=t.selection.ranges[s];t.doc.nodesBetween(c,a,(f,d)=>{if(o)return!1;if(!(!f.isTextblock||f.hasMarkup(r,e)))if(f.type==r)o=!0;else{let p=t.doc.resolve(d),m=p.index();o=p.parent.canReplaceWith(m,m+1,r)}})}if(!o)return!1;if(n){let s=t.tr;for(let c=0;c<t.selection.ranges.length;c++){let{$from:{pos:a},$to:{pos:f}}=t.selection.ranges[c];s.setBlockType(a,f,r,e)}n(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Tw(r,e=null){return function(t,n){let{$from:o,$to:s}=t.selection,c=o.blockRange(s);if(!c)return!1;let a=n?t.tr:null;return Aw(a,c,r,e)?(n&&n(a.scrollIntoView()),!0):!1}}function Aw(r,e,t,n=null){let o=!1,s=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=c.resolve(e.start-2);s=new il(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new il(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let a=Af(s,t,n,e);return a?(r&&Dw(r,e,a,o,t),!0):!1}function Dw(r,e,t,n,o){let s=H.empty;for(let p=t.length-1;p>=0;p--)s=H.from(t[p].type.create(t[p].attrs,s));r.step(new Qe(e.start-(n?2:0),e.end,e.start,e.end,new Q(s,0,0),t.length,!0));let c=0;for(let p=0;p<t.length;p++)t[p].type==o&&(c=p+1);let a=t.length-c,f=e.start+t.length-(n?2:0),d=e.parent;for(let p=e.startIndex,m=e.endIndex,v=!0;p<m;p++,v=!1)!v&&po(r.doc,f,a)&&(r.split(f,a),f+=2*a),f+=d.child(p).nodeSize;return r}function Nw(r){return function(e,t){let{$from:n,$to:o}=e.selection,s=n.blockRange(o,c=>c.childCount>0&&c.firstChild.type==r);return s?t?n.node(s.depth-1).type==r?Ow(e,t,r,s):Rw(e,t,s):!0:!1}}function Ow(r,e,t,n){let o=r.tr,s=n.end,c=n.$to.end(n.depth);s<c&&(o.step(new Qe(s-1,c,s,c,new Q(H.from(t.create(null,n.parent.copy())),1,0),1,!0)),n=new il(o.doc.resolve(n.$from.pos),o.doc.resolve(c),n.depth));const a=Co(n);if(a==null)return!1;o.lift(n,a);let f=o.mapping.map(s,-1)-1;return rr(o.doc,f)&&o.join(f),e(o.scrollIntoView()),!0}function Rw(r,e,t){let n=r.tr,o=t.parent;for(let k=t.end,x=t.endIndex-1,w=t.startIndex;x>w;x--)k-=o.child(x).nodeSize,n.delete(k-1,k+1);let s=n.doc.resolve(t.start),c=s.nodeAfter;if(n.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,f=t.endIndex==o.childCount,d=s.node(-1),p=s.index(-1);if(!d.canReplace(p+(a?0:1),p+1,c.content.append(f?H.empty:H.from(o))))return!1;let m=s.pos,v=m+c.nodeSize;return n.step(new Qe(m-(a?1:0),v+(f?1:0),m+1,v-1,new Q((a?H.empty:H.from(o.copy(H.empty))).append(f?H.empty:H.from(o.copy(H.empty))),a?0:1,f?0:1),a?0:1)),e(n.scrollIntoView()),!0}function Iw(r){return function(e,t){let{$from:n,$to:o}=e.selection,s=n.blockRange(o,d=>d.childCount>0&&d.firstChild.type==r);if(!s)return!1;let c=s.startIndex;if(c==0)return!1;let a=s.parent,f=a.child(c-1);if(f.type!=r)return!1;if(t){let d=f.lastChild&&f.lastChild.type==a.type,p=H.from(d?r.create():null),m=new Q(H.from(r.create(null,H.from(a.type.create(null,p)))),d?3:1,0),v=s.start,k=s.end;t(e.tr.step(new Qe(v-(d?3:1),k,v,k,m,1,!0)).scrollIntoView())}return!0}}function _l(r){const{state:e,transaction:t}=r;let{selection:n}=t,{doc:o}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return n},get doc(){return o},get tr(){return n=t.selection,o=t.doc,s=t.storedMarks,t}}}class bl{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:o}=t,{tr:s}=n,c=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,f])=>[a,(...p)=>{const m=f(...p)(c);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:o,state:s}=this,{view:c}=o,a=[],f=!!e,d=e||s.tr,p=()=>(!f&&t&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&c.dispatch(d),a.every(v=>v===!0)),m={...Object.fromEntries(Object.entries(n).map(([v,k])=>[v,(...w)=>{const C=this.buildProps(d,t),E=k(...w)(C);return a.push(E),m}])),run:p};return m}createCan(e){const{rawCommands:t,state:n}=this,o=!1,s=e||n.tr,c=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(t).map(([f,d])=>[f,(...p)=>d(...p)({...c,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(e,t=!0){const{rawCommands:n,editor:o,state:s}=this,{view:c}=o,a={tr:e,editor:o,view:c,state:_l({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([f,d])=>[f,(...p)=>d(...p)(a)]))}};return a}}class Pw{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(o=>o.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(o=>o!==t):delete this.callbacks[e]),this}once(e,t){const n=(...o)=>{this.off(e,n),t.apply(this,o)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}}function ne(r,e,t){return r.config[e]===void 0&&r.parent?ne(r.parent,e,t):typeof r.config[e]=="function"?r.config[e].bind({...t,parent:r.parent?ne(r.parent,e,t):null}):r.config[e]}function Ml(r){const e=r.filter(o=>o.type==="extension"),t=r.filter(o=>o.type==="node"),n=r.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:n}}function Zy(r){const e=[],{nodeExtensions:t,markExtensions:n}=Ml(r),o=[...t,...n],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return r.forEach(c=>{const a={name:c.name,options:c.options,storage:c.storage,extensions:o},f=ne(c,"addGlobalAttributes",a);if(!f)return;f().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([v,k])=>{e.push({type:m,name:v,attribute:{...s,...k}})})})})}),o.forEach(c=>{const a={name:c.name,options:c.options,storage:c.storage},f=ne(c,"addAttributes",a);if(!f)return;const d=f();Object.entries(d).forEach(([p,m])=>{const v={...s,...m};typeof(v==null?void 0:v.default)=="function"&&(v.default=v.default()),v!=null&&v.isRequired&&(v==null?void 0:v.default)===void 0&&delete v.default,e.push({type:c.name,name:p,attribute:v})})}),e}function Ye(r,e){if(typeof r=="string"){if(!e.nodes[r])throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);return e.nodes[r]}return r}function ft(...r){return r.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([o,s])=>{if(!n[o]){n[o]=s;return}if(o==="class"){const a=s?s.split(" "):[],f=n[o]?n[o].split(" "):[],d=a.filter(p=>!f.includes(p));n[o]=[...f,...d].join(" ")}else if(o==="style"){const a=s?s.split(";").map(p=>p.trim()).filter(Boolean):[],f=n[o]?n[o].split(";").map(p=>p.trim()).filter(Boolean):[],d=new Map;f.forEach(p=>{const[m,v]=p.split(":").map(k=>k.trim());d.set(m,v)}),a.forEach(p=>{const[m,v]=p.split(":").map(k=>k.trim());d.set(m,v)}),n[o]=Array.from(d.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else n[o]=s}),n},{})}function xf(r,e){return e.filter(t=>t.type===r.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(r.attrs)||{}:{[t.name]:r.attrs[t.name]}).reduce((t,n)=>ft(t,n),{})}function Yy(r){return typeof r=="function"}function me(r,e=void 0,...t){return Yy(r)?e?r.bind(e)(...t):r(...t):r}function zw(r={}){return Object.keys(r).length===0&&r.constructor===Object}function Lw(r){return typeof r!="string"?r:r.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(r):r==="true"?!0:r==="false"?!1:r}function eg(r,e){return"style"in r?r:{...r,getAttrs:t=>{const n=r.getAttrs?r.getAttrs(t):r.attrs;if(n===!1)return!1;const o=e.reduce((s,c)=>{const a=c.attribute.parseHTML?c.attribute.parseHTML(t):Lw(t.getAttribute(c.name));return a==null?s:{...s,[c.name]:a}},{});return{...n,...o}}}}function tg(r){return Object.fromEntries(Object.entries(r).filter(([e,t])=>e==="attrs"&&zw(t)?!1:t!=null))}function Fw(r,e){var t;const n=Zy(r),{nodeExtensions:o,markExtensions:s}=Ml(r),c=(t=o.find(d=>ne(d,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(o.map(d=>{const p=n.filter(E=>E.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},v=r.reduce((E,A)=>{const b=ne(A,"extendNodeSchema",m);return{...E,...b?b(d):{}}},{}),k=tg({...v,content:me(ne(d,"content",m)),marks:me(ne(d,"marks",m)),group:me(ne(d,"group",m)),inline:me(ne(d,"inline",m)),atom:me(ne(d,"atom",m)),selectable:me(ne(d,"selectable",m)),draggable:me(ne(d,"draggable",m)),code:me(ne(d,"code",m)),whitespace:me(ne(d,"whitespace",m)),linebreakReplacement:me(ne(d,"linebreakReplacement",m)),defining:me(ne(d,"defining",m)),isolating:me(ne(d,"isolating",m)),attrs:Object.fromEntries(p.map(E=>{var A;return[E.name,{default:(A=E==null?void 0:E.attribute)===null||A===void 0?void 0:A.default}]}))}),x=me(ne(d,"parseHTML",m));x&&(k.parseDOM=x.map(E=>eg(E,p)));const w=ne(d,"renderHTML",m);w&&(k.toDOM=E=>w({node:E,HTMLAttributes:xf(E,p)}));const C=ne(d,"renderText",m);return C&&(k.toText=C),[d.name,k]})),f=Object.fromEntries(s.map(d=>{const p=n.filter(C=>C.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},v=r.reduce((C,E)=>{const A=ne(E,"extendMarkSchema",m);return{...C,...A?A(d):{}}},{}),k=tg({...v,inclusive:me(ne(d,"inclusive",m)),excludes:me(ne(d,"excludes",m)),group:me(ne(d,"group",m)),spanning:me(ne(d,"spanning",m)),code:me(ne(d,"code",m)),attrs:Object.fromEntries(p.map(C=>{var E;return[C.name,{default:(E=C==null?void 0:C.attribute)===null||E===void 0?void 0:E.default}]}))}),x=me(ne(d,"parseHTML",m));x&&(k.parseDOM=x.map(C=>eg(C,p)));const w=ne(d,"renderHTML",m);return w&&(k.toDOM=C=>w({mark:C,HTMLAttributes:xf(C,p)})),[d.name,k]}));return new W0({topNode:c,nodes:a,marks:f})}function Ha(r,e){return e.nodes[r]||e.marks[r]||null}function ng(r,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===r.name):e}function Vf(r,e){const t=Rr.fromSchema(e).serializeFragment(r),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(t),o.innerHTML}const Bw=(r,e=500)=>{let t="";const n=r.parentOffset;return r.parent.nodesBetween(Math.max(0,n-e),n,(o,s,c,a)=>{var f,d;const p=((d=(f=o.type.spec).toText)===null||d===void 0?void 0:d.call(f,{node:o,pos:s,parent:c,index:a}))||o.textContent||"%leaf%";t+=o.isAtom&&!o.isText?p:p.slice(0,Math.max(0,n-s))}),t};function $f(r){return Object.prototype.toString.call(r)==="[object RegExp]"}class Tl{constructor(e){this.find=e.find,this.handler=e.handler}}const qw=(r,e)=>{if($f(e))return e.exec(r);const t=e(r);if(!t)return null;const n=[t.text];return n.index=t.index,n.input=r,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(t.replaceWith)),n};function Us(r){var e;const{editor:t,from:n,to:o,text:s,rules:c,plugin:a}=r,{view:f}=t;if(f.composing)return!1;const d=f.state.doc.resolve(n);if(d.parent.type.spec.code||!((e=d.nodeBefore||d.nodeAfter)===null||e===void 0)&&e.marks.find(v=>v.type.spec.code))return!1;let p=!1;const m=Bw(d)+s;return c.forEach(v=>{if(p)return;const k=qw(m,v.find);if(!k)return;const x=f.state.tr,w=_l({state:f.state,transaction:x}),C={from:n-(k[0].length-s.length),to:o},{commands:E,chain:A,can:b}=new bl({editor:t,state:w});v.handler({state:w,range:C,match:k,commands:E,chain:A,can:b})===null||!x.steps.length||(x.setMeta(a,{transform:x,from:n,to:o,text:s}),f.dispatch(x),p=!0)}),p}function Vw(r){const{editor:e,rules:t}=r,n=new Tt({state:{init(){return null},apply(o,s,c){const a=o.getMeta(n);if(a)return a;const f=o.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:p}=f;typeof p=="string"?p=p:p=Vf(H.from(p),c.schema);const{from:m}=f,v=m+p.length;Us({editor:e,from:m,to:v,text:p,rules:t,plugin:n})}),o.selectionSet||o.docChanged?null:s}},props:{handleTextInput(o,s,c,a){return Us({editor:e,from:s,to:c,text:a,rules:t,plugin:n})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:s}=o.state.selection;s&&Us({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:n})}),!1)},handleKeyDown(o,s){if(s.key!=="Enter")return!1;const{$cursor:c}=o.state.selection;return c?Us({editor:e,from:c.pos,to:c.pos,text:`
`,rules:t,plugin:n}):!1}},isInputRules:!0});return n}function $w(r){return Object.prototype.toString.call(r).slice(8,-1)}function Ws(r){return $w(r)!=="Object"?!1:r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function Al(r,e){const t={...r};return Ws(r)&&Ws(e)&&Object.keys(e).forEach(n=>{Ws(e[n])&&Ws(r[n])?t[n]=Al(r[n],e[n]):t[n]=e[n]}),t}class nr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=me(ne(this,"addOptions",{name:this.name}))),this.storage=me(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new nr(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Al(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new nr(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=me(ne(t,"addOptions",{name:t.name})),t.storage=me(ne(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const c=o.marks();if(!!!c.find(d=>(d==null?void 0:d.type.name)===t.name))return!1;const f=c.find(d=>(d==null?void 0:d.type.name)===t.name);return f&&n.removeStoredMark(f),n.insertText(" ",o.pos),e.view.dispatch(n),!0}return!1}}function jw(r){return typeof r=="number"}class Hw{constructor(e){this.find=e.find,this.handler=e.handler}}const Uw=(r,e,t)=>{if($f(e))return[...r.matchAll(e)];const n=e(r,t);return n?n.map(o=>{const s=[o.text];return s.index=o.index,s.input=r,s.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(o.replaceWith)),s}):[]};function Ww(r){const{editor:e,state:t,from:n,to:o,rule:s,pasteEvent:c,dropEvent:a}=r,{commands:f,chain:d,can:p}=new bl({editor:e,state:t}),m=[];return t.doc.nodesBetween(n,o,(k,x)=>{if(!k.isTextblock||k.type.spec.code)return;const w=Math.max(n,x),C=Math.min(o,x+k.content.size),E=k.textBetween(w-x,C-x,void 0,"￼");Uw(E,s.find,c).forEach(b=>{if(b.index===void 0)return;const T=w+b.index+1,I=T+b[0].length,O={from:t.tr.mapping.map(T),to:t.tr.mapping.map(I)},W=s.handler({state:t,range:O,match:b,commands:f,chain:d,can:p,pasteEvent:c,dropEvent:a});m.push(W)})}),m.every(k=>k!==null)}const Kw=r=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",r),t};function Jw(r){const{editor:e,rules:t}=r;let n=null,o=!1,s=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const f=({state:p,from:m,to:v,rule:k,pasteEvt:x})=>{const w=p.tr,C=_l({state:p,transaction:w});if(!(!Ww({editor:e,state:C,from:Math.max(m-1,0),to:v.b-1,rule:k,pasteEvent:x,dropEvent:a})||!w.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return t.map(p=>new Tt({view(m){const v=k=>{var x;n=!((x=m.dom.parentElement)===null||x===void 0)&&x.contains(k.target)?m.dom.parentElement:null};return window.addEventListener("dragstart",v),{destroy(){window.removeEventListener("dragstart",v)}}},props:{handleDOMEvents:{drop:(m,v)=>(s=n===m.dom.parentElement,a=v,!1),paste:(m,v)=>{var k;const x=(k=v.clipboardData)===null||k===void 0?void 0:k.getData("text/html");return c=v,o=!!(x!=null&&x.includes("data-pm-slice")),!1}}},appendTransaction:(m,v,k)=>{const x=m[0],w=x.getMeta("uiEvent")==="paste"&&!o,C=x.getMeta("uiEvent")==="drop"&&!s,E=x.getMeta("applyPasteRules"),A=!!E;if(!w&&!C&&!A)return;if(A){let{text:I}=E;typeof I=="string"?I=I:I=Vf(H.from(I),k.schema);const{from:O}=E,W=O+I.length,L=Kw(I);return f({rule:p,state:k,from:O,to:{b:W},pasteEvt:L})}const b=v.doc.content.findDiffStart(k.doc.content),T=v.doc.content.findDiffEnd(k.doc.content);if(!(!jw(b)||!T||b===T.b))return f({rule:p,state:k,from:b,to:T,pasteEvt:c})}}))}function Gw(r){const e=r.filter((t,n)=>r.indexOf(t)!==n);return Array.from(new Set(e))}class fo{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=fo.resolve(e),this.schema=Fw(this.extensions,t),this.setupExtensions()}static resolve(e){const t=fo.sort(fo.flatten(e)),n=Gw(t.map(o=>o.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},o=ne(t,"addExtensions",n);return o?[t,...this.flatten(o())]:t}).flat(10)}static sort(e){return e.sort((n,o)=>{const s=ne(n,"priority")||100,c=ne(o,"priority")||100;return s>c?-1:s<c?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Ha(t.name,this.schema)},o=ne(t,"addCommands",n);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this,t=fo.sort([...this.extensions].reverse()),n=[],o=[],s=t.map(c=>{const a={name:c.name,options:c.options,storage:c.storage,editor:e,type:Ha(c.name,this.schema)},f=[],d=ne(c,"addKeyboardShortcuts",a);let p={};if(c.type==="mark"&&ne(c,"exitable",a)&&(p.ArrowRight=()=>nr.handleExit({editor:e,mark:c})),d){const w=Object.fromEntries(Object.entries(d()).map(([C,E])=>[C,()=>E({editor:e})]));p={...p,...w}}const m=cw(p);f.push(m);const v=ne(c,"addInputRules",a);ng(c,e.options.enableInputRules)&&v&&n.push(...v());const k=ne(c,"addPasteRules",a);ng(c,e.options.enablePasteRules)&&k&&o.push(...k());const x=ne(c,"addProseMirrorPlugins",a);if(x){const w=x();f.push(...w)}return f}).flat();return[Vw({editor:e,rules:n}),...Jw({editor:e,rules:o}),...s]}get attributes(){return Zy(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Ml(this.extensions);return Object.fromEntries(t.filter(n=>!!ne(n,"addNodeView")).map(n=>{const o=this.attributes.filter(f=>f.type===n.name),s={name:n.name,options:n.options,storage:n.storage,editor:e,type:Ye(n.name,this.schema)},c=ne(n,"addNodeView",s);if(!c)return[];const a=(f,d,p,m,v)=>{const k=xf(f,o);return c()({node:f,view:d,getPos:p,decorations:m,innerDecorations:v,editor:e,extension:n,HTMLAttributes:k})};return[n.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Ha(e.name,this.schema)};e.type==="mark"&&(!((t=me(ne(e,"keepOnSplit",n)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const o=ne(e,"onBeforeCreate",n),s=ne(e,"onCreate",n),c=ne(e,"onUpdate",n),a=ne(e,"onSelectionUpdate",n),f=ne(e,"onTransaction",n),d=ne(e,"onFocus",n),p=ne(e,"onBlur",n),m=ne(e,"onDestroy",n);o&&this.editor.on("beforeCreate",o),s&&this.editor.on("create",s),c&&this.editor.on("update",c),a&&this.editor.on("selectionUpdate",a),f&&this.editor.on("transaction",f),d&&this.editor.on("focus",d),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}}class vt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=me(ne(this,"addOptions",{name:this.name}))),this.storage=me(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new vt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Al(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new vt({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=me(ne(t,"addOptions",{name:t.name})),t.storage=me(ne(t,"addStorage",{name:t.name,options:t.options})),t}}function Xy(r,e,t){const{from:n,to:o}=e,{blockSeparator:s=`

`,textSerializers:c={}}=t||{};let a="";return r.nodesBetween(n,o,(f,d,p,m)=>{var v;f.isBlock&&d>n&&(a+=s);const k=c==null?void 0:c[f.type.name];if(k)return p&&(a+=k({node:f,pos:d,parent:p,index:m,range:e})),!1;f.isText&&(a+=(v=f==null?void 0:f.text)===null||v===void 0?void 0:v.slice(Math.max(n,d)-d,o-d))}),a}function e1(r){return Object.fromEntries(Object.entries(r.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const Qw=vt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Tt({key:new dn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:r}=this,{state:e,schema:t}=r,{doc:n,selection:o}=e,{ranges:s}=o,c=Math.min(...s.map(p=>p.$from.pos)),a=Math.max(...s.map(p=>p.$to.pos)),f=e1(t);return Xy(n,{from:c,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),Zw=()=>({editor:r,view:e})=>(requestAnimationFrame(()=>{var t;r.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),Yw=(r=!1)=>({commands:e})=>e.setContent("",r),Xw=()=>({state:r,tr:e,dispatch:t})=>{const{selection:n}=e,{ranges:o}=n;return t&&o.forEach(({$from:s,$to:c})=>{r.doc.nodesBetween(s.pos,c.pos,(a,f)=>{if(a.type.isText)return;const{doc:d,mapping:p}=e,m=d.resolve(p.map(f)),v=d.resolve(p.map(f+a.nodeSize)),k=m.blockRange(v);if(!k)return;const x=Co(k);if(a.type.isTextblock){const{defaultType:w}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(k.start,w)}(x||x===0)&&e.lift(k,x)})}),!0},eC=r=>e=>r(e),tC=()=>({state:r,dispatch:e})=>Sw(r,e),nC=(r,e)=>({editor:t,tr:n})=>{const{state:o}=t,s=o.doc.slice(r.from,r.to);n.deleteRange(r.from,r.to);const c=n.mapping.map(e);return n.insert(c,s.content),n.setSelection(new ue(n.doc.resolve(c-1))),!0},rC=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,n=t.$anchor.node();if(n.content.size>0)return!1;const o=r.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===n.type){if(e){const a=o.before(s),f=o.after(s);r.delete(a,f).scrollIntoView()}return!0}return!1},oC=r=>({tr:e,state:t,dispatch:n})=>{const o=Ye(r,t.schema),s=e.selection.$anchor;for(let c=s.depth;c>0;c-=1)if(s.node(c).type===o){if(n){const f=s.before(c),d=s.after(c);e.delete(f,d).scrollIntoView()}return!0}return!1},iC=r=>({tr:e,dispatch:t})=>{const{from:n,to:o}=r;return t&&e.delete(n,o),!0},sC=()=>({state:r,dispatch:e})=>aw(r,e),lC=()=>({commands:r})=>r.keyboardShortcut("Enter"),cC=()=>({state:r,dispatch:e})=>xw(r,e);function ml(r,e,t={strict:!0}){const n=Object.keys(e);return n.length?n.every(o=>t.strict?e[o]===r[o]:$f(e[o])?e[o].test(r[o]):e[o]===r[o]):!0}function t1(r,e,t={}){return r.find(n=>n.type===e&&ml(Object.fromEntries(Object.keys(t).map(o=>[o,n.attrs[o]])),t))}function rg(r,e,t={}){return!!t1(r,e,t)}function jf(r,e,t){var n;if(!r||!e)return;let o=r.parent.childAfter(r.parentOffset);if((!o.node||!o.node.marks.some(p=>p.type===e))&&(o=r.parent.childBefore(r.parentOffset)),!o.node||!o.node.marks.some(p=>p.type===e)||(t=t||((n=o.node.marks[0])===null||n===void 0?void 0:n.attrs),!t1([...o.node.marks],e,t)))return;let c=o.index,a=r.start()+o.offset,f=c+1,d=a+o.node.nodeSize;for(;c>0&&rg([...r.parent.child(c-1).marks],e,t);)c-=1,a-=r.parent.child(c).nodeSize;for(;f<r.parent.childCount&&rg([...r.parent.child(f).marks],e,t);)d+=r.parent.child(f).nodeSize,f+=1;return{from:a,to:d}}function ir(r,e){if(typeof r=="string"){if(!e.marks[r])throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);return e.marks[r]}return r}const aC=(r,e={})=>({tr:t,state:n,dispatch:o})=>{const s=ir(r,n.schema),{doc:c,selection:a}=t,{$from:f,from:d,to:p}=a;if(o){const m=jf(f,s,e);if(m&&m.from<=d&&m.to>=p){const v=ue.create(c,m.from,m.to);t.setSelection(v)}}return!0},uC=r=>e=>{const t=typeof r=="function"?r(e):r;for(let n=0;n<t.length;n+=1)if(t[n](e))return!0;return!1};function n1(r){return r instanceof ue}function Er(r=0,e=0,t=0){return Math.min(Math.max(r,e),t)}function r1(r,e=null){if(!e)return null;const t=de.atStart(r),n=de.atEnd(r);if(e==="start"||e===!0)return t;if(e==="end")return n;const o=t.from,s=n.to;return e==="all"?ue.create(r,Er(0,o,s),Er(r.content.size,o,s)):ue.create(r,Er(e,o,s),Er(e,o,s))}function Hf(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const fC=(r=null,e={})=>({editor:t,view:n,tr:o,dispatch:s})=>{e={scrollIntoView:!0,...e};const c=()=>{Hf()&&n.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(n.hasFocus()&&r===null||r===!1)return!0;if(s&&r===null&&!n1(t.state.selection))return c(),!0;const a=r1(o.doc,r)||t.state.selection,f=t.state.selection.eq(a);return s&&(f||o.setSelection(a),f&&o.storedMarks&&o.setStoredMarks(o.storedMarks),c()),!0},dC=(r,e)=>t=>r.every((n,o)=>e(n,{...t,index:o})),hC=(r,e)=>({tr:t,commands:n})=>n.insertContentAt({from:t.selection.from,to:t.selection.to},r,e),o1=r=>{const e=r.childNodes;for(let t=e.length-1;t>=0;t-=1){const n=e[t];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?r.removeChild(n):n.nodeType===1&&o1(n)}return r};function Ks(r){const e=`<body>${r}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return o1(t)}function gl(r,e,t){if(r instanceof Qn||r instanceof H)return r;t={slice:!0,parseOptions:{},...t};const n=typeof r=="object"&&r!==null,o=typeof r=="string";if(n)try{if(Array.isArray(r)&&r.length>0)return H.fromArray(r.map(a=>e.nodeFromJSON(a)));const c=e.nodeFromJSON(r);return t.errorOnInvalidContent&&c.check(),c}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",r,"Error:",s),gl("",e,t)}if(o){if(t.errorOnInvalidContent){let c=!1,a="";const f=new W0({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(c=!0,a=typeof d=="string"?d:d.outerHTML,null)}]}})});if(t.slice?Zn.fromSchema(f).parseSlice(Ks(r),t.parseOptions):Zn.fromSchema(f).parse(Ks(r),t.parseOptions),t.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Zn.fromSchema(e);return t.slice?s.parseSlice(Ks(r),t.parseOptions).content:s.parse(Ks(r),t.parseOptions)}return gl("",e,t)}function pC(r,e,t){const n=r.steps.length-1;if(n<e)return;const o=r.steps[n];if(!(o instanceof Ge||o instanceof Qe))return;const s=r.mapping.maps[n];let c=0;s.forEach((a,f,d,p)=>{c===0&&(c=p)}),r.setSelection(de.near(r.doc.resolve(c),t))}const mC=r=>!("type"in r),gC=(r,e,t)=>({tr:n,dispatch:o,editor:s})=>{var c;if(o){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;try{a=gl(e,s.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(c=t.errorOnInvalidContent)!==null&&c!==void 0?c:s.options.enableContentCheck})}catch(x){return s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:f,to:d}=typeof r=="number"?{from:r,to:r}:{from:r.from,to:r.to},p=!0,m=!0;if((mC(a)?a:[a]).forEach(x=>{x.check(),p=p?x.isText&&x.marks.length===0:!1,m=m?x.isBlock:!1}),f===d&&m){const{parent:x}=n.doc.resolve(f);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(f-=1,d+=1)}let k;if(p){if(Array.isArray(e))k=e.map(x=>x.text||"").join("");else if(e instanceof H){let x="";e.forEach(w=>{w.text&&(x+=w.text)}),k=x}else typeof e=="object"&&e&&e.text?k=e.text:k=e;n.insertText(k,f,d)}else k=a,n.replaceWith(f,d,k);t.updateSelection&&pC(n,n.steps.length-1,-1),t.applyInputRules&&n.setMeta("applyInputRules",{from:f,text:k}),t.applyPasteRules&&n.setMeta("applyPasteRules",{from:f,text:k})}return!0},yC=()=>({state:r,dispatch:e})=>gw(r,e),kC=()=>({state:r,dispatch:e})=>yw(r,e),vC=()=>({state:r,dispatch:e})=>uw(r,e),xC=()=>({state:r,dispatch:e})=>pw(r,e),SC=()=>({state:r,dispatch:e,tr:t})=>{try{const n=vl(r.doc,r.selection.$from.pos,-1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},wC=()=>({state:r,dispatch:e,tr:t})=>{try{const n=vl(r.doc,r.selection.$from.pos,1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},CC=()=>({state:r,dispatch:e})=>fw(r,e),EC=()=>({state:r,dispatch:e})=>dw(r,e);function i1(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function _C(r){const e=r.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let n,o,s,c;for(let a=0;a<e.length-1;a+=1){const f=e[a];if(/^(cmd|meta|m)$/i.test(f))c=!0;else if(/^a(lt)?$/i.test(f))n=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))Hf()||i1()?c=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return n&&(t=`Alt-${t}`),o&&(t=`Ctrl-${t}`),c&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const bC=r=>({editor:e,view:t,tr:n,dispatch:o})=>{const s=_C(r).split(/-(?!$)/),c=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),a=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{t.someProp("handleKeyDown",d=>d(t,a))});return f==null||f.steps.forEach(d=>{const p=d.map(n.mapping);p&&o&&n.maybeStep(p)}),!0};function _i(r,e,t={}){const{from:n,to:o,empty:s}=r.selection,c=e?Ye(e,r.schema):null,a=[];r.doc.nodesBetween(n,o,(m,v)=>{if(m.isText)return;const k=Math.max(n,v),x=Math.min(o,v+m.nodeSize);a.push({node:m,from:k,to:x})});const f=o-n,d=a.filter(m=>c?c.name===m.node.type.name:!0).filter(m=>ml(m.node.attrs,t,{strict:!1}));return s?!!d.length:d.reduce((m,v)=>m+v.to-v.from,0)>=f}const MC=(r,e={})=>({state:t,dispatch:n})=>{const o=Ye(r,t.schema);return _i(t,o,e)?kw(t,n):!1},TC=()=>({state:r,dispatch:e})=>ww(r,e),AC=r=>({state:e,dispatch:t})=>{const n=Ye(r,e.schema);return Nw(n)(e,t)},DC=()=>({state:r,dispatch:e})=>vw(r,e);function Dl(r,e){return e.nodes[r]?"node":e.marks[r]?"mark":null}function og(r,e){const t=typeof e=="string"?[e]:e;return Object.keys(r).reduce((n,o)=>(t.includes(o)||(n[o]=r[o]),n),{})}const NC=(r,e)=>({tr:t,state:n,dispatch:o})=>{let s=null,c=null;const a=Dl(typeof r=="string"?r:r.name,n.schema);return a?(a==="node"&&(s=Ye(r,n.schema)),a==="mark"&&(c=ir(r,n.schema)),o&&t.selection.ranges.forEach(f=>{n.doc.nodesBetween(f.$from.pos,f.$to.pos,(d,p)=>{s&&s===d.type&&t.setNodeMarkup(p,void 0,og(d.attrs,e)),c&&d.marks.length&&d.marks.forEach(m=>{c===m.type&&t.addMark(p,p+d.nodeSize,c.create(og(m.attrs,e)))})})}),!0):!1},OC=()=>({tr:r,dispatch:e})=>(e&&r.scrollIntoView(),!0),RC=()=>({tr:r,commands:e})=>e.setTextSelection({from:0,to:r.doc.content.size}),IC=()=>({state:r,dispatch:e})=>hw(r,e),PC=()=>({state:r,dispatch:e})=>mw(r,e),zC=()=>({state:r,dispatch:e})=>Cw(r,e),LC=()=>({state:r,dispatch:e})=>bw(r,e),FC=()=>({state:r,dispatch:e})=>_w(r,e);function Sf(r,e,t={},n={}){return gl(r,e,{slice:!1,parseOptions:t,errorOnInvalidContent:n.errorOnInvalidContent})}const BC=(r,e=!1,t={},n={})=>({editor:o,tr:s,dispatch:c,commands:a})=>{var f,d;const{doc:p}=s;if(t.preserveWhitespace!=="full"){const m=Sf(r,o.schema,t,{errorOnInvalidContent:(f=n.errorOnInvalidContent)!==null&&f!==void 0?f:o.options.enableContentCheck});return c&&s.replaceWith(0,p.content.size,m).setMeta("preventUpdate",!e),!0}return c&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:p.content.size},r,{parseOptions:t,errorOnInvalidContent:(d=n.errorOnInvalidContent)!==null&&d!==void 0?d:o.options.enableContentCheck})};function s1(r,e){const t=ir(e,r.schema),{from:n,to:o,empty:s}=r.selection,c=[];s?(r.storedMarks&&c.push(...r.storedMarks),c.push(...r.selection.$head.marks())):r.doc.nodesBetween(n,o,f=>{c.push(...f.marks)});const a=c.find(f=>f.type.name===t.name);return a?{...a.attrs}:{}}function qC(r){for(let e=0;e<r.edgeCount;e+=1){const{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function VC(r,e){for(let t=r.depth;t>0;t-=1){const n=r.node(t);if(e(n))return{pos:t>0?r.before(t):0,start:r.start(t),depth:t,node:n}}}function Uf(r){return e=>VC(e.$from,r)}function $C(r,e){const t={from:0,to:r.content.size};return Xy(r,t,e)}function jC(r,e){const t=Ye(e,r.schema),{from:n,to:o}=r.selection,s=[];r.doc.nodesBetween(n,o,a=>{s.push(a)});const c=s.reverse().find(a=>a.type.name===t.name);return c?{...c.attrs}:{}}function HC(r,e){const t=Dl(typeof e=="string"?e:e.name,r.schema);return t==="node"?jC(r,e):t==="mark"?s1(r,e):{}}function l1(r,e,t){const n=[];return r===e?t.resolve(r).marks().forEach(o=>{const s=t.resolve(r),c=jf(s,o.type);c&&n.push({mark:o,...c})}):t.nodesBetween(r,e,(o,s)=>{!o||(o==null?void 0:o.nodeSize)===void 0||n.push(...o.marks.map(c=>({from:s,to:s+o.nodeSize,mark:c})))}),n}function el(r,e,t){return Object.fromEntries(Object.entries(t).filter(([n])=>{const o=r.find(s=>s.type===e&&s.name===n);return o?o.attribute.keepOnSplit:!1}))}function wf(r,e,t={}){const{empty:n,ranges:o}=r.selection,s=e?ir(e,r.schema):null;if(n)return!!(r.storedMarks||r.selection.$from.marks()).filter(m=>s?s.name===m.type.name:!0).find(m=>ml(m.attrs,t,{strict:!1}));let c=0;const a=[];if(o.forEach(({$from:m,$to:v})=>{const k=m.pos,x=v.pos;r.doc.nodesBetween(k,x,(w,C)=>{if(!w.isText&&!w.marks.length)return;const E=Math.max(k,C),A=Math.min(x,C+w.nodeSize),b=A-E;c+=b,a.push(...w.marks.map(T=>({mark:T,from:E,to:A})))})}),c===0)return!1;const f=a.filter(m=>s?s.name===m.mark.type.name:!0).filter(m=>ml(m.mark.attrs,t,{strict:!1})).reduce((m,v)=>m+v.to-v.from,0),d=a.filter(m=>s?m.mark.type!==s&&m.mark.type.excludes(s):!0).reduce((m,v)=>m+v.to-v.from,0);return(f>0?f+d:f)>=c}function UC(r,e,t={}){if(!e)return _i(r,null,t)||wf(r,null,t);const n=Dl(e,r.schema);return n==="node"?_i(r,e,t):n==="mark"?wf(r,e,t):!1}function ig(r,e){const{nodeExtensions:t}=Ml(e),n=t.find(c=>c.name===r);if(!n)return!1;const o={name:n.name,options:n.options,storage:n.storage},s=me(ne(n,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function Wf(r,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var n;if(t){if(r.type.name==="hardBreak")return!0;if(r.isText)return/^\s*$/m.test((n=r.text)!==null&&n!==void 0?n:"")}if(r.isText)return!r.text;if(r.isAtom||r.isLeaf)return!1;if(r.content.childCount===0)return!0;if(e){let o=!0;return r.content.forEach(s=>{o!==!1&&(Wf(s,{ignoreWhitespace:t,checkChildren:e})||(o=!1))}),o}return!1}function WC(r){return r instanceof le}function KC(r,e,t){var n;const{selection:o}=e;let s=null;if(n1(o)&&(s=o.$cursor),s){const a=(n=r.storedMarks)!==null&&n!==void 0?n:s.marks();return!!t.isInSet(a)||!a.some(f=>f.type.excludes(t))}const{ranges:c}=o;return c.some(({$from:a,$to:f})=>{let d=a.depth===0?r.doc.inlineContent&&r.doc.type.allowsMarkType(t):!1;return r.doc.nodesBetween(a.pos,f.pos,(p,m,v)=>{if(d)return!1;if(p.isInline){const k=!v||v.type.allowsMarkType(t),x=!!t.isInSet(p.marks)||!p.marks.some(w=>w.type.excludes(t));d=k&&x}return!d}),d})}const JC=(r,e={})=>({tr:t,state:n,dispatch:o})=>{const{selection:s}=t,{empty:c,ranges:a}=s,f=ir(r,n.schema);if(o)if(c){const d=s1(n,f);t.addStoredMark(f.create({...d,...e}))}else a.forEach(d=>{const p=d.$from.pos,m=d.$to.pos;n.doc.nodesBetween(p,m,(v,k)=>{const x=Math.max(k,p),w=Math.min(k+v.nodeSize,m);v.marks.find(E=>E.type===f)?v.marks.forEach(E=>{f===E.type&&t.addMark(x,w,f.create({...E.attrs,...e}))}):t.addMark(x,w,f.create(e))})});return KC(n,t,f)},GC=(r,e)=>({tr:t})=>(t.setMeta(r,e),!0),QC=(r,e={})=>({state:t,dispatch:n,chain:o})=>{const s=Ye(r,t.schema);let c;return t.selection.$anchor.sameParent(t.selection.$head)&&(c=t.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:a})=>Xm(s,{...c,...e})(t)?!0:a.clearNodes()).command(({state:a})=>Xm(s,{...c,...e})(a,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},ZC=r=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,o=Er(r,0,n.content.size),s=le.create(n,o);e.setSelection(s)}return!0},YC=r=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,{from:o,to:s}=typeof r=="number"?{from:r,to:r}:r,c=ue.atStart(n).from,a=ue.atEnd(n).to,f=Er(o,c,a),d=Er(s,c,a),p=ue.create(n,f,d);e.setSelection(p)}return!0},XC=r=>({state:e,dispatch:t})=>{const n=Ye(r,e.schema);return Iw(n)(e,t)};function sg(r,e){const t=r.storedMarks||r.selection.$to.parentOffset&&r.selection.$from.marks();if(t){const n=t.filter(o=>e==null?void 0:e.includes(o.type.name));r.tr.ensureMarks(n)}}const eE=({keepMarks:r=!0}={})=>({tr:e,state:t,dispatch:n,editor:o})=>{const{selection:s,doc:c}=e,{$from:a,$to:f}=s,d=o.extensionManager.attributes,p=el(d,a.node().type.name,a.node().attrs);if(s instanceof le&&s.node.isBlock)return!a.parentOffset||!po(c,a.pos)?!1:(n&&(r&&sg(t,o.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const m=f.parentOffset===f.parent.content.size,v=a.depth===0?void 0:qC(a.node(-1).contentMatchAt(a.indexAfter(-1)));let k=m&&v?[{type:v,attrs:p}]:void 0,x=po(e.doc,e.mapping.map(a.pos),1,k);if(!k&&!x&&po(e.doc,e.mapping.map(a.pos),1,v?[{type:v}]:void 0)&&(x=!0,k=v?[{type:v,attrs:p}]:void 0),n){if(x&&(s instanceof ue&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,k),v&&!m&&!a.parentOffset&&a.parent.type!==v)){const w=e.mapping.map(a.before()),C=e.doc.resolve(w);a.node(-1).canReplaceWith(C.index(),C.index()+1,v)&&e.setNodeMarkup(e.mapping.map(a.before()),v)}r&&sg(t,o.extensionManager.splittableMarks),e.scrollIntoView()}return x},tE=(r,e={})=>({tr:t,state:n,dispatch:o,editor:s})=>{var c;const a=Ye(r,n.schema),{$from:f,$to:d}=n.selection,p=n.selection.node;if(p&&p.isBlock||f.depth<2||!f.sameParent(d))return!1;const m=f.node(-1);if(m.type!==a)return!1;const v=s.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==a||f.index(-2)!==f.node(-2).childCount-1)return!1;if(o){let E=H.empty;const A=f.index(-1)?1:f.index(-2)?2:3;for(let L=f.depth-A;L>=f.depth-3;L-=1)E=H.from(f.node(L).copy(E));const b=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,T={...el(v,f.node().type.name,f.node().attrs),...e},I=((c=a.contentMatch.defaultType)===null||c===void 0?void 0:c.createAndFill(T))||void 0;E=E.append(H.from(a.createAndFill(null,I)||void 0));const O=f.before(f.depth-(A-1));t.replace(O,f.after(-b),new Q(E,4-A,0));let W=-1;t.doc.nodesBetween(O,t.doc.content.size,(L,F)=>{if(W>-1)return!1;L.isTextblock&&L.content.size===0&&(W=F+1)}),W>-1&&t.setSelection(ue.near(t.doc.resolve(W))),t.scrollIntoView()}return!0}const k=d.pos===f.end()?m.contentMatchAt(0).defaultType:null,x={...el(v,m.type.name,m.attrs),...e},w={...el(v,f.node().type.name,f.node().attrs),...e};t.delete(f.pos,d.pos);const C=k?[{type:a,attrs:x},{type:k,attrs:w}]:[{type:a,attrs:x}];if(!po(t.doc,f.pos,2))return!1;if(o){const{selection:E,storedMarks:A}=n,{splittableMarks:b}=s.extensionManager,T=A||E.$to.parentOffset&&E.$from.marks();if(t.split(f.pos,2,C).scrollIntoView(),!T||!o)return!0;const I=T.filter(O=>b.includes(O.type.name));t.ensureMarks(I)}return!0},Ua=(r,e)=>{const t=Uf(c=>c.type===e)(r.selection);if(!t)return!0;const n=r.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(n===void 0)return!0;const o=r.doc.nodeAt(n);return t.node.type===(o==null?void 0:o.type)&&rr(r.doc,t.pos)&&r.join(t.pos),!0},Wa=(r,e)=>{const t=Uf(c=>c.type===e)(r.selection);if(!t)return!0;const n=r.doc.resolve(t.start).after(t.depth);if(n===void 0)return!0;const o=r.doc.nodeAt(n);return t.node.type===(o==null?void 0:o.type)&&rr(r.doc,n)&&r.join(n),!0},nE=(r,e,t,n={})=>({editor:o,tr:s,state:c,dispatch:a,chain:f,commands:d,can:p})=>{const{extensions:m,splittableMarks:v}=o.extensionManager,k=Ye(r,c.schema),x=Ye(e,c.schema),{selection:w,storedMarks:C}=c,{$from:E,$to:A}=w,b=E.blockRange(A),T=C||w.$to.parentOffset&&w.$from.marks();if(!b)return!1;const I=Uf(O=>ig(O.type.name,m))(w);if(b.depth>=1&&I&&b.depth-I.depth<=1){if(I.node.type===k)return d.liftListItem(x);if(ig(I.node.type.name,m)&&k.validContent(I.node.content)&&a)return f().command(()=>(s.setNodeMarkup(I.pos,k),!0)).command(()=>Ua(s,k)).command(()=>Wa(s,k)).run()}return!t||!T||!a?f().command(()=>p().wrapInList(k,n)?!0:d.clearNodes()).wrapInList(k,n).command(()=>Ua(s,k)).command(()=>Wa(s,k)).run():f().command(()=>{const O=p().wrapInList(k,n),W=T.filter(L=>v.includes(L.type.name));return s.ensureMarks(W),O?!0:d.clearNodes()}).wrapInList(k,n).command(()=>Ua(s,k)).command(()=>Wa(s,k)).run()},rE=(r,e={},t={})=>({state:n,commands:o})=>{const{extendEmptyMarkRange:s=!1}=t,c=ir(r,n.schema);return wf(n,c,e)?o.unsetMark(c,{extendEmptyMarkRange:s}):o.setMark(c,e)},oE=(r,e,t={})=>({state:n,commands:o})=>{const s=Ye(r,n.schema),c=Ye(e,n.schema),a=_i(n,s,t);let f;return n.selection.$anchor.sameParent(n.selection.$head)&&(f=n.selection.$anchor.parent.attrs),a?o.setNode(c,f):o.setNode(s,{...f,...t})},iE=(r,e={})=>({state:t,commands:n})=>{const o=Ye(r,t.schema);return _i(t,o,e)?n.lift(o):n.wrapIn(o,e)},sE=()=>({state:r,dispatch:e})=>{const t=r.plugins;for(let n=0;n<t.length;n+=1){const o=t[n];let s;if(o.spec.isInputRules&&(s=o.getState(r))){if(e){const c=r.tr,a=s.transform;for(let f=a.steps.length-1;f>=0;f-=1)c.step(a.steps[f].invert(a.docs[f]));if(s.text){const f=c.doc.resolve(s.from).marks();c.replaceWith(s.from,s.to,r.schema.text(s.text,f))}else c.delete(s.from,s.to)}return!0}}return!1},lE=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,{empty:n,ranges:o}=t;return n||e&&o.forEach(s=>{r.removeMark(s.$from.pos,s.$to.pos)}),!0},cE=(r,e={})=>({tr:t,state:n,dispatch:o})=>{var s;const{extendEmptyMarkRange:c=!1}=e,{selection:a}=t,f=ir(r,n.schema),{$from:d,empty:p,ranges:m}=a;if(!o)return!0;if(p&&c){let{from:v,to:k}=a;const x=(s=d.marks().find(C=>C.type===f))===null||s===void 0?void 0:s.attrs,w=jf(d,f,x);w&&(v=w.from,k=w.to),t.removeMark(v,k,f)}else m.forEach(v=>{t.removeMark(v.$from.pos,v.$to.pos,f)});return t.removeStoredMark(f),!0},aE=(r,e={})=>({tr:t,state:n,dispatch:o})=>{let s=null,c=null;const a=Dl(typeof r=="string"?r:r.name,n.schema);return a?(a==="node"&&(s=Ye(r,n.schema)),a==="mark"&&(c=ir(r,n.schema)),o&&t.selection.ranges.forEach(f=>{const d=f.$from.pos,p=f.$to.pos;let m,v,k,x;t.selection.empty?n.doc.nodesBetween(d,p,(w,C)=>{s&&s===w.type&&(k=Math.max(C,d),x=Math.min(C+w.nodeSize,p),m=C,v=w)}):n.doc.nodesBetween(d,p,(w,C)=>{C<d&&s&&s===w.type&&(k=Math.max(C,d),x=Math.min(C+w.nodeSize,p),m=C,v=w),C>=d&&C<=p&&(s&&s===w.type&&t.setNodeMarkup(C,void 0,{...w.attrs,...e}),c&&w.marks.length&&w.marks.forEach(E=>{if(c===E.type){const A=Math.max(C,d),b=Math.min(C+w.nodeSize,p);t.addMark(A,b,c.create({...E.attrs,...e}))}}))}),v&&(m!==void 0&&t.setNodeMarkup(m,void 0,{...v.attrs,...e}),c&&v.marks.length&&v.marks.forEach(w=>{c===w.type&&t.addMark(k,x,c.create({...w.attrs,...e}))}))}),!0):!1},uE=(r,e={})=>({state:t,dispatch:n})=>{const o=Ye(r,t.schema);return Mw(o,e)(t,n)},fE=(r,e={})=>({state:t,dispatch:n})=>{const o=Ye(r,t.schema);return Tw(o,e)(t,n)};var dE=Object.freeze({__proto__:null,blur:Zw,clearContent:Yw,clearNodes:Xw,command:eC,createParagraphNear:tC,cut:nC,deleteCurrentNode:rC,deleteNode:oC,deleteRange:iC,deleteSelection:sC,enter:lC,exitCode:cC,extendMarkRange:aC,first:uC,focus:fC,forEach:dC,insertContent:hC,insertContentAt:gC,joinBackward:vC,joinDown:kC,joinForward:xC,joinItemBackward:SC,joinItemForward:wC,joinTextblockBackward:CC,joinTextblockForward:EC,joinUp:yC,keyboardShortcut:bC,lift:MC,liftEmptyBlock:TC,liftListItem:AC,newlineInCode:DC,resetAttributes:NC,scrollIntoView:OC,selectAll:RC,selectNodeBackward:IC,selectNodeForward:PC,selectParentNode:zC,selectTextblockEnd:LC,selectTextblockStart:FC,setContent:BC,setMark:JC,setMeta:GC,setNode:QC,setNodeSelection:ZC,setTextSelection:YC,sinkListItem:XC,splitBlock:eE,splitListItem:tE,toggleList:nE,toggleMark:rE,toggleNode:oE,toggleWrap:iE,undoInputRule:sE,unsetAllMarks:lE,unsetMark:cE,updateAttributes:aE,wrapIn:uE,wrapInList:fE});const hE=vt.create({name:"commands",addCommands(){return{...dE}}}),pE=vt.create({name:"drop",addProseMirrorPlugins(){return[new Tt({key:new dn("tiptapDrop"),props:{handleDrop:(r,e,t,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:n})}}})]}}),mE=vt.create({name:"editable",addProseMirrorPlugins(){return[new Tt({key:new dn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),gE=vt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:r}=this;return[new Tt({key:new dn("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{r.isFocused=!0;const n=r.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,t)=>{r.isFocused=!1;const n=r.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),yE=vt.create({name:"keymap",addKeyboardShortcuts(){const r=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:a})=>{const{selection:f,doc:d}=a,{empty:p,$anchor:m}=f,{pos:v,parent:k}=m,x=m.parent.isTextblock&&v>0?a.doc.resolve(v-1):m,w=x.parent.type.spec.isolating,C=m.pos-m.parentOffset,E=w&&x.parent.childCount===1?C===m.pos:de.atStart(d).from===v;return!p||!k.type.isTextblock||k.textContent.length||!E||E&&m.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:r,"Mod-Backspace":r,"Shift-Backspace":r,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...n},s={...n,"Ctrl-h":r,"Alt-Backspace":r,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Hf()||i1()?s:o},addProseMirrorPlugins(){return[new Tt({key:new dn("clearDocument"),appendTransaction:(r,e,t)=>{const n=r.some(w=>w.docChanged)&&!e.doc.eq(t.doc),o=r.some(w=>w.getMeta("preventClearDocument"));if(!n||o)return;const{empty:s,from:c,to:a}=e.selection,f=de.atStart(e.doc).from,d=de.atEnd(e.doc).to;if(s||!(c===f&&a===d)||!Wf(t.doc))return;const v=t.tr,k=_l({state:t,transaction:v}),{commands:x}=new bl({editor:this.editor,state:k});if(x.clearNodes(),!!v.steps.length)return v}})]}}),kE=vt.create({name:"paste",addProseMirrorPlugins(){return[new Tt({key:new dn("tiptapPaste"),props:{handlePaste:(r,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),vE=vt.create({name:"tabindex",addProseMirrorPlugins(){return[new Tt({key:new dn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Sr{get name(){return this.node.type.name}constructor(e,t,n=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Sr(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Sr(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Sr(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,n)=>{const o=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,c=this.pos+n+(s?0:1),a=this.resolvedPos.doc.resolve(c);if(!o&&a.depth<=this.depth)return;const f=new Sr(a,this.editor,o,o?t:null);o&&(f.actualDepth=this.depth+1),e.push(new Sr(a,this.editor,o,o?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,o=this.parent;for(;o&&!n;){if(o.node.type.name===e)if(Object.keys(t).length>0){const s=o.node.attrs,c=Object.keys(t);for(let a=0;a<c.length;a+=1){const f=c[a];if(s[f]!==t[f])break}}else n=o;o=o.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let o=[];if(!this.children||this.children.length===0)return o;const s=Object.keys(t);return this.children.forEach(c=>{n&&o.length>0||(c.node.type.name===e&&s.every(f=>t[f]===c.node.attrs[f])&&o.push(c),!(n&&o.length>0)&&(o=o.concat(c.querySelectorAll(e,t,n))))}),o}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const xE=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function SE(r,e,t){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(o),o}class wE extends Pw{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:n,moved:o})=>this.options.onDrop(t,n,o)),this.on("paste",({event:t,slice:n})=>this.options.onPaste(t,n)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=SE(xE,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n=Yy(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:n});return this.view.updateState(o),o}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(s=>{const c=typeof s=="string"?`${s}$`:s.key;n=t.filter(a=>!a.key.startsWith(c))}),t.length===n.length)return;const o=this.state.reconfigure({plugins:n});return this.view.updateState(o),o}createExtensionManager(){var e,t;const o=[...this.options.enableCoreExtensions?[mE,Qw.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),hE,gE,yE,vE,pE,kE].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new fo(o,this)}createCommandManager(){this.commandManager=new bl({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=Sf(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(c){if(!(c instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(c.message))throw c;this.emit("contentError",{editor:this,error:c,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=Sf(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=r1(t,this.options.autofocus);this.view=new XS(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:uo.create({doc:t,selection:n||void 0})});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(c=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(c)});return}const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),s=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return HC(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,o=typeof e=="string"?t:e;return UC(this.state,n,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Vf(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return $C(this.state.doc,{blockSeparator:t,textSerializers:{...e1(this.schema),...n}})}get isEmpty(){return Wf(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Sr(t,this)}get $doc(){return this.$pos(0)}}function So(r){return new Tl({find:r.find,handler:({state:e,range:t,match:n})=>{const o=me(r.getAttributes,void 0,n);if(o===!1||o===null)return null;const{tr:s}=e,c=n[n.length-1],a=n[0];if(c){const f=a.search(/\S/),d=t.from+a.indexOf(c),p=d+c.length;if(l1(t.from,t.to,e.doc).filter(k=>k.mark.type.excluded.find(w=>w===r.type&&w!==k.mark.type)).filter(k=>k.to>d).length)return null;p<t.to&&s.delete(p,t.to),d>t.from&&s.delete(t.from+f,d);const v=t.from+f+c.length;s.addMark(t.from+f,v,r.type.create(o||{})),s.removeStoredMark(r.type)}}})}function c1(r){return new Tl({find:r.find,handler:({state:e,range:t,match:n})=>{const o=me(r.getAttributes,void 0,n)||{},{tr:s}=e,c=t.from;let a=t.to;const f=r.type.create(o);if(n[1]){const d=n[0].lastIndexOf(n[1]);let p=c+d;p>a?p=a:a=p+n[1].length;const m=n[0][n[0].length-1];s.insertText(m,c+n[0].length-1),s.replaceWith(p,a,f)}else if(n[0]){const d=r.type.isInline?c:c-1;s.insert(d,r.type.create(o)).delete(s.mapping.map(c),s.mapping.map(a))}s.scrollIntoView()}})}function Cf(r){return new Tl({find:r.find,handler:({state:e,range:t,match:n})=>{const o=e.doc.resolve(t.from),s=me(r.getAttributes,void 0,n)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),r.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,r.type,s)}})}function bi(r){return new Tl({find:r.find,handler:({state:e,range:t,match:n,chain:o})=>{const s=me(r.getAttributes,void 0,n)||{},c=e.tr.delete(t.from,t.to),f=c.doc.resolve(t.from).blockRange(),d=f&&Af(f,r.type,s);if(!d)return null;if(c.wrap(f,d),r.keepMarks&&r.editor){const{selection:m,storedMarks:v}=e,{splittableMarks:k}=r.editor.extensionManager,x=v||m.$to.parentOffset&&m.$from.marks();if(x){const w=x.filter(C=>k.includes(C.type.name));c.ensureMarks(w)}}if(r.keepAttributes){const m=r.type.name==="bulletList"||r.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(m,s).run()}const p=c.doc.resolve(t.from-1).nodeBefore;p&&p.type===r.type&&rr(c.doc,t.from-1)&&(!r.joinPredicate||r.joinPredicate(n,p))&&c.join(t.from-1)}})}class xt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=me(ne(this,"addOptions",{name:this.name}))),this.storage=me(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new xt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Al(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new xt(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=me(ne(t,"addOptions",{name:t.name})),t.storage=me(ne(t,"addStorage",{name:t.name,options:t.options})),t}}function wo(r){return new Hw({find:r.find,handler:({state:e,range:t,match:n,pasteEvent:o})=>{const s=me(r.getAttributes,void 0,n,o);if(s===!1||s===null)return null;const{tr:c}=e,a=n[n.length-1],f=n[0];let d=t.to;if(a){const p=f.search(/\S/),m=t.from+f.indexOf(a),v=m+a.length;if(l1(t.from,t.to,e.doc).filter(x=>x.mark.type.excluded.find(C=>C===r.type&&C!==x.mark.type)).filter(x=>x.to>m).length)return null;v<t.to&&c.delete(v,t.to),m>t.from&&c.delete(t.from+p,m),d=t.from+p+a.length,c.addMark(t.from+p,d,r.type.create(s||{})),c.removeStoredMark(r.type)}}})}var CE=D0();const EE=_f(CE);function _E(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var a1={exports:{}},Ka={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function bE(){if(lg)return Ka;lg=1;var r=mt;function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,o=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function a(m,v){var k=v(),x=n({inst:{value:k,getSnapshot:v}}),w=x[0].inst,C=x[1];return s(function(){w.value=k,w.getSnapshot=v,f(w)&&C({inst:w})},[m,k,v]),o(function(){return f(w)&&C({inst:w}),m(function(){f(w)&&C({inst:w})})},[m]),c(k),k}function f(m){var v=m.getSnapshot;m=m.value;try{var k=v();return!t(m,k)}catch{return!0}}function d(m,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:a;return Ka.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:p,Ka}a1.exports=bE();var Kf=a1.exports;const ME=(...r)=>e=>{r.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},TE=({contentComponent:r})=>{const e=Kf.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return mt.createElement(mt.Fragment,null,Object.values(e))};function AE(){const r=new Set;let e={};return{subscribe(t){return r.add(t),()=>{r.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,n){e={...e,[t]:EE.createPortal(n.reactElement,n.element,t)},r.forEach(o=>o())},removeRenderer(t){const n={...e};delete n[t],e=n,r.forEach(o=>o())}}}class DE extends mt.Component{constructor(e){var t;super(e),this.editorContentRef=mt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=AE(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...n}=this.props;return mt.createElement(mt.Fragment,null,mt.createElement("div",{ref:ME(t,this.editorContentRef),...n}),(e==null?void 0:e.contentComponent)&&mt.createElement(TE,{contentComponent:e.contentComponent}))}}const NE=Le.forwardRef((r,e)=>{const t=mt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[r.editor]);return mt.createElement(DE,{key:t,innerRef:e,...r})}),OE=mt.memo(NE);var RE=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,o,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(o=n;o--!==0;)if(!r(e[o],t[o]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;for(o of e.entries())if(!r(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(o=n;o--!==0;)if(e[o]!==t[o])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[o]))return!1;for(o=n;o--!==0;){var c=s[o];if(!(c==="_owner"&&e.$$typeof)&&!r(e[c],t[c]))return!1}return!0}return e!==e&&t!==t},IE=_E(RE),u1={exports:{}},Ja={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function PE(){if(cg)return Ja;cg=1;var r=mt,e=Kf;function t(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var n=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,s=r.useRef,c=r.useEffect,a=r.useMemo,f=r.useDebugValue;return Ja.useSyncExternalStoreWithSelector=function(d,p,m,v,k){var x=s(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=a(function(){function E(O){if(!A){if(A=!0,b=O,O=v(O),k!==void 0&&w.hasValue){var W=w.value;if(k(W,O))return T=W}return T=O}if(W=T,n(b,O))return W;var L=v(O);return k!==void 0&&k(W,L)?W:(b=O,T=L)}var A=!1,b,T,I=m===void 0?null:m;return[function(){return E(p())},I===null?void 0:function(){return E(I())}]},[p,m,v,k]);var C=o(d,x[0],x[1]);return c(function(){w.hasValue=!0,w.value=C},[C]),f(C),C},Ja}u1.exports=PE();var zE=u1.exports;const LE=typeof window<"u"?Le.useLayoutEffect:Le.useEffect;class FE{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(o=>o())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}}function BE(r){var e;const[t]=Le.useState(()=>new FE(r.editor)),n=zE.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,r.selector,(e=r.equalityFn)!==null&&e!==void 0?e:IE);return LE(()=>t.watch(r.editor),[r.editor,t]),Le.useDebugValue(n),n}const qE=!1,Ef=typeof window>"u",VE=Ef||!!(typeof window<"u"&&window.next);class $E{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return Ef||VE?null:this.createEditor();if(this.options.current.immediatelyRender&&Ef&&qE)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var o,s;return(s=(o=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(o,...n)},onBlur:(...n)=>{var o,s;return(s=(o=this.options.current).onBlur)===null||s===void 0?void 0:s.call(o,...n)},onCreate:(...n)=>{var o,s;return(s=(o=this.options.current).onCreate)===null||s===void 0?void 0:s.call(o,...n)},onDestroy:(...n)=>{var o,s;return(s=(o=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(o,...n)},onFocus:(...n)=>{var o,s;return(s=(o=this.options.current).onFocus)===null||s===void 0?void 0:s.call(o,...n)},onSelectionUpdate:(...n)=>{var o,s;return(s=(o=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(o,...n)},onTransaction:(...n)=>{var o,s;return(s=(o=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(o,...n)},onUpdate:(...n)=>{var o,s;return(s=(o=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(o,...n)},onContentError:(...n)=>{var o,s;return(s=(o=this.options.current).onContentError)===null||s===void 0?void 0:s.call(o,...n)},onDrop:(...n)=>{var o,s;return(s=(o=this.options.current).onDrop)===null||s===void 0?void 0:s.call(o,...n)},onPaste:(...n)=>{var o,s;return(s=(o=this.options.current).onPaste)===null||s===void 0?void 0:s.call(o,...n)}};return new wE(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,o)=>n===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function jE(r={},e=[]){const t=Le.useRef(r);t.current=r;const[n]=Le.useState(()=>new $E(t)),o=Kf.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return Le.useDebugValue(o),Le.useEffect(n.onRender(e)),BE({editor:o,selector:({transactionNumber:s})=>r.shouldRerenderOnTransaction===!1?null:r.immediatelyRender&&s===0?0:s+1}),o}const HE=Le.createContext({editor:null});HE.Consumer;const UE=Le.createContext({onDragStart:void 0}),WE=()=>Le.useContext(UE);mt.forwardRef((r,e)=>{const{onDragStart:t}=WE(),n=r.as||"div";return mt.createElement(n,{...r,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...r.style}})});const KE=/^\s*>\s$/,JE=xt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:r}){return["blockquote",ft(this.options.HTMLAttributes,r),0]},addCommands(){return{setBlockquote:()=>({commands:r})=>r.wrapIn(this.name),toggleBlockquote:()=>({commands:r})=>r.toggleWrap(this.name),unsetBlockquote:()=>({commands:r})=>r.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[bi({find:KE,type:this.type})]}}),GE=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,QE=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,ZE=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,YE=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,XE=nr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:r=>r.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:r=>r.type.name===this.name},{style:"font-weight",getAttrs:r=>/^(bold(er)?|[5-9]\d{2,})$/.test(r)&&null}]},renderHTML({HTMLAttributes:r}){return["strong",ft(this.options.HTMLAttributes,r),0]},addCommands(){return{setBold:()=>({commands:r})=>r.setMark(this.name),toggleBold:()=>({commands:r})=>r.toggleMark(this.name),unsetBold:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[So({find:GE,type:this.type}),So({find:ZE,type:this.type})]},addPasteRules(){return[wo({find:QE,type:this.type}),wo({find:YE,type:this.type})]}}),e_="listItem",ag="textStyle",ug=/^\s*([-+*])\s$/,t_=xt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:r}){return["ul",ft(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleBulletList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(e_,this.editor.getAttributes(ag)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let r=bi({find:ug,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(r=bi({find:ug,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(ag),editor:this.editor})),[r]}}),n_=new RegExp("(?<!`)`([^`]+)`(?!`)"),r_=new RegExp("(?<!`)`([^`]+)`(?!`)","g"),o_=nr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:r}){return["code",ft(this.options.HTMLAttributes,r),0]},addCommands(){return{setCode:()=>({commands:r})=>r.setMark(this.name),toggleCode:()=>({commands:r})=>r.toggleMark(this.name),unsetCode:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[So({find:n_,type:this.type})]},addPasteRules(){return[wo({find:r_,type:this.type})]}}),i_=/^```([a-z]+)?[\s\n]$/,s_=/^~~~([a-z]+)?[\s\n]$/,l_=xt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:r=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=r.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(c=>c.startsWith(t)).map(c=>c.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:r,HTMLAttributes:e}){return["pre",ft(this.options.HTMLAttributes,e),["code",{class:r.attrs.language?this.options.languageClassPrefix+r.attrs.language:null},0]]},addCommands(){return{setCodeBlock:r=>({commands:e})=>e.setNode(this.name,r),toggleCodeBlock:r=>({commands:e})=>e.toggleNode(this.name,"paragraph",r)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:r,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!r||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:r})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=r,{selection:t}=e,{$from:n,empty:o}=t;if(!o||n.parent.type!==this.type)return!1;const s=n.parentOffset===n.parent.nodeSize-2,c=n.parent.textContent.endsWith(`

`);return!s||!c?!1:r.chain().command(({tr:a})=>(a.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:r})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=r,{selection:t,doc:n}=e,{$from:o,empty:s}=t;if(!s||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const a=o.after();return a===void 0?!1:n.nodeAt(a)?r.commands.command(({tr:d})=>(d.setSelection(de.near(n.resolve(a))),!0)):r.commands.exitCode()}}},addInputRules(){return[Cf({find:i_,type:this.type,getAttributes:r=>({language:r[1]})}),Cf({find:s_,type:this.type,getAttributes:r=>({language:r[1]})})]},addProseMirrorPlugins(){return[new Tt({key:new dn("codeBlockVSCodeHandler"),props:{handlePaste:(r,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),o=n?JSON.parse(n):void 0,s=o==null?void 0:o.mode;if(!t||!s)return!1;const{tr:c,schema:a}=r.state,f=a.text(t.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:s},f)),c.selection.$from.parent.type!==this.type&&c.setSelection(ue.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),r.dispatch(c),!0}}})]}}),c_=xt.create({name:"doc",topNode:!0,content:"block+"});function a_(r={}){return new Tt({view(e){return new u_(e,r)}})}class u_{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=t.width)!==null&&n!==void 0?n:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let s=c=>{this[o](c)};return e.dom.addEventListener(o,s),{name:o,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,n;if(t){let a=e.nodeBefore,f=e.nodeAfter;if(a||f){let d=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(d){let p=d.getBoundingClientRect(),m=a?p.bottom:p.top;a&&f&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:p.left,right:p.right,top:m-this.width/2,bottom:m+this.width/2}}}}if(!n){let a=this.editorView.coordsAtPos(this.cursorPos);n={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let o=this.editorView.dom.offsetParent;this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let s,c;if(!o||o==document.body&&getComputedStyle(o).position=="static")s=-pageXOffset,c=-pageYOffset;else{let a=o.getBoundingClientRect();s=a.left-o.scrollLeft,c=a.top-o.scrollTop}this.element.style.left=n.left-s+"px",this.element.style.top=n.top-c+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),o=n&&n.type.spec.disableDropCursor,s=typeof o=="function"?o(this.editorView,t,e):o;if(t&&!s){let c=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=ry(this.editorView.state.doc,c,this.editorView.dragging.slice);a!=null&&(c=a)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const f_=vt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[a_(this.options)]}});class Fe extends de{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return Fe.valid(n)?new Fe(n):de.near(n)}content(){return Q.empty}eq(e){return e instanceof Fe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Fe(e.resolve(t.pos))}getBookmark(){return new Jf(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!d_(e)||!h_(e))return!1;let n=t.type.spec.allowGapCursor;if(n!=null)return n;let o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&Fe.valid(e))return e;let o=e.pos,s=null;for(let c=e.depth;;c--){let a=e.node(c);if(t>0?e.indexAfter(c)<a.childCount:e.index(c)>0){s=a.child(t>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;o+=t;let f=e.doc.resolve(o);if(Fe.valid(f))return f}for(;;){let c=t>0?s.firstChild:s.lastChild;if(!c){if(s.isAtom&&!s.isText&&!le.isSelectable(s)){e=e.doc.resolve(o+s.nodeSize*t),n=!1;continue e}break}s=c,o+=t;let a=e.doc.resolve(o);if(Fe.valid(a))return a}return null}}}Fe.prototype.visible=!1;Fe.findFrom=Fe.findGapCursorFrom;de.jsonID("gapcursor",Fe);class Jf{constructor(e){this.pos=e}map(e){return new Jf(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Fe.valid(t)?new Fe(t):de.near(t)}}function d_(r){for(let e=r.depth;e>=0;e--){let t=r.index(e),n=r.node(e);if(t==0){if(n.type.spec.isolating)return!0;continue}for(let o=n.child(t-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function h_(r){for(let e=r.depth;e>=0;e--){let t=r.indexAfter(e),n=r.node(e);if(t==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let o=n.child(t);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function p_(){return new Tt({props:{decorations:k_,createSelectionBetween(r,e,t){return e.pos==t.pos&&Fe.valid(t)?new Fe(t):null},handleClick:g_,handleKeyDown:m_,handleDOMEvents:{beforeinput:y_}}})}const m_=Hy({ArrowLeft:Js("horiz",-1),ArrowRight:Js("horiz",1),ArrowUp:Js("vert",-1),ArrowDown:Js("vert",1)});function Js(r,e){const t=r=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,o,s){let c=n.selection,a=e>0?c.$to:c.$from,f=c.empty;if(c instanceof ue){if(!s.endOfTextblock(t)||a.depth==0)return!1;f=!1,a=n.doc.resolve(e>0?a.after():a.before())}let d=Fe.findGapCursorFrom(a,e,f);return d?(o&&o(n.tr.setSelection(new Fe(d))),!0):!1}}function g_(r,e,t){if(!r||!r.editable)return!1;let n=r.state.doc.resolve(e);if(!Fe.valid(n))return!1;let o=r.posAtCoords({left:t.clientX,top:t.clientY});return o&&o.inside>-1&&le.isSelectable(r.state.doc.nodeAt(o.inside))?!1:(r.dispatch(r.state.tr.setSelection(new Fe(n))),!0)}function y_(r,e){if(e.inputType!="insertCompositionText"||!(r.state.selection instanceof Fe))return!1;let{$from:t}=r.state.selection,n=t.parent.contentMatchAt(t.index()).findWrapping(r.state.schema.nodes.text);if(!n)return!1;let o=H.empty;for(let c=n.length-1;c>=0;c--)o=H.from(n[c].createAndFill(null,o));let s=r.state.tr.replace(t.pos,t.pos,new Q(o,0,0));return s.setSelection(ue.near(s.doc.resolve(t.pos+1))),r.dispatch(s),!1}function k_(r){if(!(r.selection instanceof Fe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ue.create(r.doc,[jt.widget(r.selection.head,e,{key:"gapcursor"})])}const v_=vt.create({name:"gapCursor",addProseMirrorPlugins(){return[p_()]},extendNodeSchema(r){var e;const t={name:r.name,options:r.options,storage:r.storage};return{allowGapCursor:(e=me(ne(r,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),x_=xt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:r}){return["br",ft(this.options.HTMLAttributes,r)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:r,chain:e,state:t,editor:n})=>r.first([()=>r.exitCode(),()=>r.command(()=>{const{selection:o,storedMarks:s}=t;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:a}=n.extensionManager,f=s||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:p})=>{if(p&&f&&c){const m=f.filter(v=>a.includes(v.type.name));d.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),S_=xt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(r=>({tag:`h${r}`,attrs:{level:r}}))},renderHTML({node:r,HTMLAttributes:e}){return[`h${this.options.levels.includes(r.attrs.level)?r.attrs.level:this.options.levels[0]}`,ft(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.setNode(this.name,r):!1,toggleHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.toggleNode(this.name,"paragraph",r):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((r,e)=>({...r,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(r=>Cf({find:new RegExp(`^(#{1,${r}})\\s$`),type:this.type,getAttributes:{level:r}}))}});var yl=200,Ze=function(){};Ze.prototype.append=function(e){return e.length?(e=Ze.from(e),!this.length&&e||e.length<yl&&this.leafAppend(e)||this.length<yl&&e.leafPrepend(this)||this.appendInner(e)):this};Ze.prototype.prepend=function(e){return e.length?Ze.from(e).append(this):this};Ze.prototype.appendInner=function(e){return new w_(this,e)};Ze.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Ze.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Ze.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ze.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};Ze.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var o=[];return this.forEach(function(s,c){return o.push(e(s,c))},t,n),o};Ze.from=function(e){return e instanceof Ze?e:e&&e.length?new f1(e):Ze.empty};var f1=function(r){function e(n){r.call(this),this.values=n}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,s){return o==0&&s==this.length?this:new e(this.values.slice(o,s))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,s,c,a){for(var f=s;f<c;f++)if(o(this.values[f],a+f)===!1)return!1},e.prototype.forEachInvertedInner=function(o,s,c,a){for(var f=s-1;f>=c;f--)if(o(this.values[f],a+f)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=yl)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=yl)return new e(o.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Ze);Ze.empty=new f1([]);var w_=function(r){function e(t,n){r.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,o,s,c){var a=this.left.length;if(o<a&&this.left.forEachInner(n,o,Math.min(s,a),c)===!1||s>a&&this.right.forEachInner(n,Math.max(o-a,0),Math.min(this.length,s)-a,c+a)===!1)return!1},e.prototype.forEachInvertedInner=function(n,o,s,c){var a=this.left.length;if(o>a&&this.right.forEachInvertedInner(n,o-a,Math.max(s,a)-a,c+a)===!1||s<a&&this.left.forEachInvertedInner(n,Math.min(o,a),s,c)===!1)return!1},e.prototype.sliceInner=function(n,o){if(n==0&&o==this.length)return this;var s=this.left.length;return o<=s?this.left.slice(n,o):n>=s?this.right.slice(n-s,o-s):this.left.slice(n,s).append(this.right.slice(0,o-s))},e.prototype.leafAppend=function(n){var o=this.right.leafAppend(n);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(n){var o=this.left.leafPrepend(n);if(o)return new e(o,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(Ze);const C_=500;class Xt{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let o,s;t&&(o=this.remapping(n,this.items.length),s=o.maps.length);let c=e.tr,a,f,d=[],p=[];return this.items.forEach((m,v)=>{if(!m.step){o||(o=this.remapping(n,v+1),s=o.maps.length),s--,p.push(m);return}if(o){p.push(new cn(m.map));let k=m.step.map(o.slice(s)),x;k&&c.maybeStep(k).doc&&(x=c.mapping.maps[c.mapping.maps.length-1],d.push(new cn(x,void 0,void 0,d.length+p.length))),s--,x&&o.appendMap(x,s)}else c.maybeStep(m.step);if(m.selection)return a=o?m.selection.map(o.slice(s)):m.selection,f=new Xt(this.items.slice(0,n).append(p.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:c,selection:a}}addTransform(e,t,n,o){let s=[],c=this.eventCount,a=this.items,f=!o&&a.length?a.get(a.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),v=new cn(e.mapping.maps[p],m,t),k;(k=f&&f.merge(v))&&(v=k,p?s.pop():a=a.slice(0,a.length-1)),s.push(v),t&&(c++,t=void 0),o||(f=v)}let d=c-n.depth;return d>__&&(a=E_(a,d),c-=d),new Xt(a.append(s),c)}remapping(e,t){let n=new ho;return this.items.forEach((o,s)=>{let c=o.mirrorOffset!=null&&s-o.mirrorOffset>=e?n.maps.length-o.mirrorOffset:void 0;n.appendMap(o.map,c)},e,t),n}addMaps(e){return this.eventCount==0?this:new Xt(this.items.append(e.map(t=>new cn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],o=Math.max(0,this.items.length-t),s=e.mapping,c=e.steps.length,a=this.eventCount;this.items.forEach(v=>{v.selection&&a--},o);let f=t;this.items.forEach(v=>{let k=s.getMirror(--f);if(k==null)return;c=Math.min(c,k);let x=s.maps[k];if(v.step){let w=e.steps[k].invert(e.docs[k]),C=v.selection&&v.selection.map(s.slice(f+1,k));C&&a++,n.push(new cn(x,w,C))}else n.push(new cn(x))},o);let d=[];for(let v=t;v<c;v++)d.push(new cn(s.maps[v]));let p=this.items.slice(0,o).append(d).append(n),m=new Xt(p,a);return m.emptyItemCount()>C_&&(m=m.compress(this.items.length-n.length)),m}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,o=[],s=0;return this.items.forEach((c,a)=>{if(a>=e)o.push(c),c.selection&&s++;else if(c.step){let f=c.step.map(t.slice(n)),d=f&&f.getMap();if(n--,d&&t.appendMap(d,n),f){let p=c.selection&&c.selection.map(t.slice(n));p&&s++;let m=new cn(d.invert(),f,p),v,k=o.length-1;(v=o.length&&o[k].merge(m))?o[k]=v:o.push(m)}}else c.map&&n--},this.items.length,0),new Xt(Ze.from(o.reverse()),s)}}Xt.empty=new Xt(Ze.empty,0);function E_(r,e){let t;return r.forEach((n,o)=>{if(n.selection&&e--==0)return t=o,!1}),r.slice(t)}class cn{constructor(e,t,n,o){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new cn(t.getMap().invert(),t,this.selection)}}}class Un{constructor(e,t,n,o,s){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=o,this.prevComposition=s}}const __=20;function b_(r,e,t,n){let o=t.getMeta(Ar),s;if(o)return o.historyState;t.getMeta(A_)&&(r=new Un(r.done,r.undone,null,0,-1));let c=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(c&&c.getMeta(Ar))return c.getMeta(Ar).redo?new Un(r.done.addTransform(t,void 0,n,tl(e)),r.undone,fg(t.mapping.maps),r.prevTime,r.prevComposition):new Un(r.done,r.undone.addTransform(t,void 0,n,tl(e)),null,r.prevTime,r.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),f=r.prevTime==0||!c&&r.prevComposition!=a&&(r.prevTime<(t.time||0)-n.newGroupDelay||!M_(t,r.prevRanges)),d=c?Ga(r.prevRanges,t.mapping):fg(t.mapping.maps);return new Un(r.done.addTransform(t,f?e.selection.getBookmark():void 0,n,tl(e)),Xt.empty,d,t.time,a??r.prevComposition)}else return(s=t.getMeta("rebased"))?new Un(r.done.rebased(t,s),r.undone.rebased(t,s),Ga(r.prevRanges,t.mapping),r.prevTime,r.prevComposition):new Un(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),Ga(r.prevRanges,t.mapping),r.prevTime,r.prevComposition)}function M_(r,e){if(!e)return!1;if(!r.docChanged)return!0;let t=!1;return r.mapping.maps[0].forEach((n,o)=>{for(let s=0;s<e.length;s+=2)n<=e[s+1]&&o>=e[s]&&(t=!0)}),t}function fg(r){let e=[];for(let t=r.length-1;t>=0&&e.length==0;t--)r[t].forEach((n,o,s,c)=>e.push(s,c));return e}function Ga(r,e){if(!r)return null;let t=[];for(let n=0;n<r.length;n+=2){let o=e.map(r[n],1),s=e.map(r[n+1],-1);o<=s&&t.push(o,s)}return t}function T_(r,e,t){let n=tl(e),o=Ar.get(e).spec.config,s=(t?r.undone:r.done).popEvent(e,n);if(!s)return null;let c=s.selection.resolve(s.transform.doc),a=(t?r.done:r.undone).addTransform(s.transform,e.selection.getBookmark(),o,n),f=new Un(t?a:s.remaining,t?s.remaining:a,null,0,-1);return s.transform.setSelection(c).setMeta(Ar,{redo:t,historyState:f})}let Qa=!1,dg=null;function tl(r){let e=r.plugins;if(dg!=e){Qa=!1,dg=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Qa=!0;break}}return Qa}const Ar=new dn("history"),A_=new dn("closeHistory");function D_(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new Tt({key:Ar,state:{init(){return new Un(Xt.empty,Xt.empty,null,0,-1)},apply(e,t,n){return b_(t,n,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,o=n=="historyUndo"?h1:n=="historyRedo"?p1:null;return o?(t.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function d1(r,e){return(t,n)=>{let o=Ar.getState(t);if(!o||(r?o.undone:o.done).eventCount==0)return!1;if(n){let s=T_(o,t,r);s&&n(e?s.scrollIntoView():s)}return!0}}const h1=d1(!1,!0),p1=d1(!0,!0),N_=vt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:r,dispatch:e})=>h1(r,e),redo:()=>({state:r,dispatch:e})=>p1(r,e)}},addProseMirrorPlugins(){return[D_(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),O_=xt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:r}){return["hr",ft(this.options.HTMLAttributes,r)]},addCommands(){return{setHorizontalRule:()=>({chain:r,state:e})=>{const{selection:t}=e,{$from:n,$to:o}=t,s=r();return n.parentOffset===0?s.insertContentAt({from:Math.max(n.pos-1,0),to:o.pos},{type:this.name}):WC(t)?s.insertContentAt(o.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:c,dispatch:a})=>{var f;if(a){const{$to:d}=c.selection,p=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?c.setSelection(ue.create(c.doc,d.pos+1)):d.nodeAfter.isBlock?c.setSelection(le.create(c.doc,d.pos)):c.setSelection(ue.create(c.doc,d.pos));else{const m=(f=d.parent.type.contentMatch.defaultType)===null||f===void 0?void 0:f.create();m&&(c.insert(p,m),c.setSelection(ue.create(c.doc,p+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[c1({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),R_=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,I_=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,P_=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,z_=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,L_=nr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:r=>r.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:r=>r.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:r}){return["em",ft(this.options.HTMLAttributes,r),0]},addCommands(){return{setItalic:()=>({commands:r})=>r.setMark(this.name),toggleItalic:()=>({commands:r})=>r.toggleMark(this.name),unsetItalic:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[So({find:R_,type:this.type}),So({find:P_,type:this.type})]},addPasteRules(){return[wo({find:I_,type:this.type}),wo({find:z_,type:this.type})]}}),F_=xt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",ft(this.options.HTMLAttributes,r),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),B_="listItem",hg="textStyle",pg=/^(\d+)\.\s$/,q_=xt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:r=>r.hasAttribute("start")?parseInt(r.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:r=>r.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:r}){const{start:e,...t}=r;return e===1?["ol",ft(this.options.HTMLAttributes,t),0]:["ol",ft(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleOrderedList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(B_,this.editor.getAttributes(hg)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let r=bi({find:pg,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(r=bi({find:pg,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(hg)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[r]}}),V_=xt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:r}){return["p",ft(this.options.HTMLAttributes,r),0]},addCommands(){return{setParagraph:()=>({commands:r})=>r.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),$_=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,j_=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,H_=nr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["s",ft(this.options.HTMLAttributes,r),0]},addCommands(){return{setStrike:()=>({commands:r})=>r.setMark(this.name),toggleStrike:()=>({commands:r})=>r.toggleMark(this.name),unsetStrike:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[So({find:$_,type:this.type})]},addPasteRules(){return[wo({find:j_,type:this.type})]}}),U_=xt.create({name:"text",group:"inline"}),W_=vt.create({name:"starterKit",addExtensions(){var r,e,t,n,o,s,c,a,f,d,p,m,v,k,x,w,C,E;const A=[];return this.options.bold!==!1&&A.push(XE.configure((r=this.options)===null||r===void 0?void 0:r.bold)),this.options.blockquote!==!1&&A.push(JE.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&A.push(t_.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&A.push(o_.configure((n=this.options)===null||n===void 0?void 0:n.code)),this.options.codeBlock!==!1&&A.push(l_.configure((o=this.options)===null||o===void 0?void 0:o.codeBlock)),this.options.document!==!1&&A.push(c_.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&A.push(f_.configure((c=this.options)===null||c===void 0?void 0:c.dropcursor)),this.options.gapcursor!==!1&&A.push(v_.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&A.push(x_.configure((f=this.options)===null||f===void 0?void 0:f.hardBreak)),this.options.heading!==!1&&A.push(S_.configure((d=this.options)===null||d===void 0?void 0:d.heading)),this.options.history!==!1&&A.push(N_.configure((p=this.options)===null||p===void 0?void 0:p.history)),this.options.horizontalRule!==!1&&A.push(O_.configure((m=this.options)===null||m===void 0?void 0:m.horizontalRule)),this.options.italic!==!1&&A.push(L_.configure((v=this.options)===null||v===void 0?void 0:v.italic)),this.options.listItem!==!1&&A.push(F_.configure((k=this.options)===null||k===void 0?void 0:k.listItem)),this.options.orderedList!==!1&&A.push(q_.configure((x=this.options)===null||x===void 0?void 0:x.orderedList)),this.options.paragraph!==!1&&A.push(V_.configure((w=this.options)===null||w===void 0?void 0:w.paragraph)),this.options.strike!==!1&&A.push(H_.configure((C=this.options)===null||C===void 0?void 0:C.strike)),this.options.text!==!1&&A.push(U_.configure((E=this.options)===null||E===void 0?void 0:E.text)),A}}),K_=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,J_=xt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:r}){return["img",ft(this.options.HTMLAttributes,r)]},addCommands(){return{setImage:r=>({commands:e})=>e.insertContent({type:this.name,attrs:r})}},addInputRules(){return[c1({find:K_,type:this.type,getAttributes:r=>{const[,,e,t,n]=r;return{src:t,alt:e,title:n}}})]}});var Za={};const G_="Á",Q_="á",Z_="Ă",Y_="ă",X_="∾",eb="∿",tb="∾̳",nb="Â",rb="â",ob="´",ib="А",sb="а",lb="Æ",cb="æ",ab="⁡",ub="𝔄",fb="𝔞",db="À",hb="à",pb="ℵ",mb="ℵ",gb="Α",yb="α",kb="Ā",vb="ā",xb="⨿",Sb="&",wb="&",Cb="⩕",Eb="⩓",_b="∧",bb="⩜",Mb="⩘",Tb="⩚",Ab="∠",Db="⦤",Nb="∠",Ob="⦨",Rb="⦩",Ib="⦪",Pb="⦫",zb="⦬",Lb="⦭",Fb="⦮",Bb="⦯",qb="∡",Vb="∟",$b="⊾",jb="⦝",Hb="∢",Ub="Å",Wb="⍼",Kb="Ą",Jb="ą",Gb="𝔸",Qb="𝕒",Zb="⩯",Yb="≈",Xb="⩰",eM="≊",tM="≋",nM="'",rM="⁡",oM="≈",iM="≊",sM="Å",lM="å",cM="𝒜",aM="𝒶",uM="≔",fM="*",dM="≈",hM="≍",pM="Ã",mM="ã",gM="Ä",yM="ä",kM="∳",vM="⨑",xM="≌",SM="϶",wM="‵",CM="∽",EM="⋍",_M="∖",bM="⫧",MM="⊽",TM="⌅",AM="⌆",DM="⌅",NM="⎵",OM="⎶",RM="≌",IM="Б",PM="б",zM="„",LM="∵",FM="∵",BM="∵",qM="⦰",VM="϶",$M="ℬ",jM="ℬ",HM="Β",UM="β",WM="ℶ",KM="≬",JM="𝔅",GM="𝔟",QM="⋂",ZM="◯",YM="⋃",XM="⨀",eT="⨁",tT="⨂",nT="⨆",rT="★",oT="▽",iT="△",sT="⨄",lT="⋁",cT="⋀",aT="⤍",uT="⧫",fT="▪",dT="▴",hT="▾",pT="◂",mT="▸",gT="␣",yT="▒",kT="░",vT="▓",xT="█",ST="=⃥",wT="≡⃥",CT="⫭",ET="⌐",_T="𝔹",bT="𝕓",MT="⊥",TT="⊥",AT="⋈",DT="⧉",NT="┐",OT="╕",RT="╖",IT="╗",PT="┌",zT="╒",LT="╓",FT="╔",BT="─",qT="═",VT="┬",$T="╤",jT="╥",HT="╦",UT="┴",WT="╧",KT="╨",JT="╩",GT="⊟",QT="⊞",ZT="⊠",YT="┘",XT="╛",eA="╜",tA="╝",nA="└",rA="╘",oA="╙",iA="╚",sA="│",lA="║",cA="┼",aA="╪",uA="╫",fA="╬",dA="┤",hA="╡",pA="╢",mA="╣",gA="├",yA="╞",kA="╟",vA="╠",xA="‵",SA="˘",wA="˘",CA="¦",EA="𝒷",_A="ℬ",bA="⁏",MA="∽",TA="⋍",AA="⧅",DA="\\",NA="⟈",OA="•",RA="•",IA="≎",PA="⪮",zA="≏",LA="≎",FA="≏",BA="Ć",qA="ć",VA="⩄",$A="⩉",jA="⩋",HA="∩",UA="⋒",WA="⩇",KA="⩀",JA="ⅅ",GA="∩︀",QA="⁁",ZA="ˇ",YA="ℭ",XA="⩍",eD="Č",tD="č",nD="Ç",rD="ç",oD="Ĉ",iD="ĉ",sD="∰",lD="⩌",cD="⩐",aD="Ċ",uD="ċ",fD="¸",dD="¸",hD="⦲",pD="¢",mD="·",gD="·",yD="𝔠",kD="ℭ",vD="Ч",xD="ч",SD="✓",wD="✓",CD="Χ",ED="χ",_D="ˆ",bD="≗",MD="↺",TD="↻",AD="⊛",DD="⊚",ND="⊝",OD="⊙",RD="®",ID="Ⓢ",PD="⊖",zD="⊕",LD="⊗",FD="○",BD="⧃",qD="≗",VD="⨐",$D="⫯",jD="⧂",HD="∲",UD="”",WD="’",KD="♣",JD="♣",GD=":",QD="∷",ZD="⩴",YD="≔",XD="≔",eN=",",tN="@",nN="∁",rN="∘",oN="∁",iN="ℂ",sN="≅",lN="⩭",cN="≡",aN="∮",uN="∯",fN="∮",dN="𝕔",hN="ℂ",pN="∐",mN="∐",gN="©",yN="©",kN="℗",vN="∳",xN="↵",SN="✗",wN="⨯",CN="𝒞",EN="𝒸",_N="⫏",bN="⫑",MN="⫐",TN="⫒",AN="⋯",DN="⤸",NN="⤵",ON="⋞",RN="⋟",IN="↶",PN="⤽",zN="⩈",LN="⩆",FN="≍",BN="∪",qN="⋓",VN="⩊",$N="⊍",jN="⩅",HN="∪︀",UN="↷",WN="⤼",KN="⋞",JN="⋟",GN="⋎",QN="⋏",ZN="¤",YN="↶",XN="↷",eO="⋎",tO="⋏",nO="∲",rO="∱",oO="⌭",iO="†",sO="‡",lO="ℸ",cO="↓",aO="↡",uO="⇓",fO="‐",dO="⫤",hO="⊣",pO="⤏",mO="˝",gO="Ď",yO="ď",kO="Д",vO="д",xO="‡",SO="⇊",wO="ⅅ",CO="ⅆ",EO="⤑",_O="⩷",bO="°",MO="∇",TO="Δ",AO="δ",DO="⦱",NO="⥿",OO="𝔇",RO="𝔡",IO="⥥",PO="⇃",zO="⇂",LO="´",FO="˙",BO="˝",qO="`",VO="˜",$O="⋄",jO="⋄",HO="⋄",UO="♦",WO="♦",KO="¨",JO="ⅆ",GO="ϝ",QO="⋲",ZO="÷",YO="÷",XO="⋇",eR="⋇",tR="Ђ",nR="ђ",rR="⌞",oR="⌍",iR="$",sR="𝔻",lR="𝕕",cR="¨",aR="˙",uR="⃜",fR="≐",dR="≑",hR="≐",pR="∸",mR="∔",gR="⊡",yR="⌆",kR="∯",vR="¨",xR="⇓",SR="⇐",wR="⇔",CR="⫤",ER="⟸",_R="⟺",bR="⟹",MR="⇒",TR="⊨",AR="⇑",DR="⇕",NR="∥",OR="⤓",RR="↓",IR="↓",PR="⇓",zR="⇵",LR="̑",FR="⇊",BR="⇃",qR="⇂",VR="⥐",$R="⥞",jR="⥖",HR="↽",UR="⥟",WR="⥗",KR="⇁",JR="↧",GR="⊤",QR="⤐",ZR="⌟",YR="⌌",XR="𝒟",eI="𝒹",tI="Ѕ",nI="ѕ",rI="⧶",oI="Đ",iI="đ",sI="⋱",lI="▿",cI="▾",aI="⇵",uI="⥯",fI="⦦",dI="Џ",hI="џ",pI="⟿",mI="É",gI="é",yI="⩮",kI="Ě",vI="ě",xI="Ê",SI="ê",wI="≖",CI="≕",EI="Э",_I="э",bI="⩷",MI="Ė",TI="ė",AI="≑",DI="ⅇ",NI="≒",OI="𝔈",RI="𝔢",II="⪚",PI="È",zI="è",LI="⪖",FI="⪘",BI="⪙",qI="∈",VI="⏧",$I="ℓ",jI="⪕",HI="⪗",UI="Ē",WI="ē",KI="∅",JI="∅",GI="◻",QI="∅",ZI="▫",YI=" ",XI=" ",e2=" ",t2="Ŋ",n2="ŋ",r2=" ",o2="Ę",i2="ę",s2="𝔼",l2="𝕖",c2="⋕",a2="⧣",u2="⩱",f2="ε",d2="Ε",h2="ε",p2="ϵ",m2="≖",g2="≕",y2="≂",k2="⪖",v2="⪕",x2="⩵",S2="=",w2="≂",C2="≟",E2="⇌",_2="≡",b2="⩸",M2="⧥",T2="⥱",A2="≓",D2="ℯ",N2="ℰ",O2="≐",R2="⩳",I2="≂",P2="Η",z2="η",L2="Ð",F2="ð",B2="Ë",q2="ë",V2="€",$2="!",j2="∃",H2="∃",U2="ℰ",W2="ⅇ",K2="ⅇ",J2="≒",G2="Ф",Q2="ф",Z2="♀",Y2="ﬃ",X2="ﬀ",eP="ﬄ",tP="𝔉",nP="𝔣",rP="ﬁ",oP="◼",iP="▪",sP="fj",lP="♭",cP="ﬂ",aP="▱",uP="ƒ",fP="𝔽",dP="𝕗",hP="∀",pP="∀",mP="⋔",gP="⫙",yP="ℱ",kP="⨍",vP="½",xP="⅓",SP="¼",wP="⅕",CP="⅙",EP="⅛",_P="⅔",bP="⅖",MP="¾",TP="⅗",AP="⅜",DP="⅘",NP="⅚",OP="⅝",RP="⅞",IP="⁄",PP="⌢",zP="𝒻",LP="ℱ",FP="ǵ",BP="Γ",qP="γ",VP="Ϝ",$P="ϝ",jP="⪆",HP="Ğ",UP="ğ",WP="Ģ",KP="Ĝ",JP="ĝ",GP="Г",QP="г",ZP="Ġ",YP="ġ",XP="≥",ez="≧",tz="⪌",nz="⋛",rz="≥",oz="≧",iz="⩾",sz="⪩",lz="⩾",cz="⪀",az="⪂",uz="⪄",fz="⋛︀",dz="⪔",hz="𝔊",pz="𝔤",mz="≫",gz="⋙",yz="⋙",kz="ℷ",vz="Ѓ",xz="ѓ",Sz="⪥",wz="≷",Cz="⪒",Ez="⪤",_z="⪊",bz="⪊",Mz="⪈",Tz="≩",Az="⪈",Dz="≩",Nz="⋧",Oz="𝔾",Rz="𝕘",Iz="`",Pz="≥",zz="⋛",Lz="≧",Fz="⪢",Bz="≷",qz="⩾",Vz="≳",$z="𝒢",jz="ℊ",Hz="≳",Uz="⪎",Wz="⪐",Kz="⪧",Jz="⩺",Gz=">",Qz=">",Zz="≫",Yz="⋗",Xz="⦕",eL="⩼",tL="⪆",nL="⥸",rL="⋗",oL="⋛",iL="⪌",sL="≷",lL="≳",cL="≩︀",aL="≩︀",uL="ˇ",fL=" ",dL="½",hL="ℋ",pL="Ъ",mL="ъ",gL="⥈",yL="↔",kL="⇔",vL="↭",xL="^",SL="ℏ",wL="Ĥ",CL="ĥ",EL="♥",_L="♥",bL="…",ML="⊹",TL="𝔥",AL="ℌ",DL="ℋ",NL="⤥",OL="⤦",RL="⇿",IL="∻",PL="↩",zL="↪",LL="𝕙",FL="ℍ",BL="―",qL="─",VL="𝒽",$L="ℋ",jL="ℏ",HL="Ħ",UL="ħ",WL="≎",KL="≏",JL="⁃",GL="‐",QL="Í",ZL="í",YL="⁣",XL="Î",eF="î",tF="И",nF="и",rF="İ",oF="Е",iF="е",sF="¡",lF="⇔",cF="𝔦",aF="ℑ",uF="Ì",fF="ì",dF="ⅈ",hF="⨌",pF="∭",mF="⧜",gF="℩",yF="Ĳ",kF="ĳ",vF="Ī",xF="ī",SF="ℑ",wF="ⅈ",CF="ℐ",EF="ℑ",_F="ı",bF="ℑ",MF="⊷",TF="Ƶ",AF="⇒",DF="℅",NF="∞",OF="⧝",RF="ı",IF="⊺",PF="∫",zF="∬",LF="ℤ",FF="∫",BF="⊺",qF="⋂",VF="⨗",$F="⨼",jF="⁣",HF="⁢",UF="Ё",WF="ё",KF="Į",JF="į",GF="𝕀",QF="𝕚",ZF="Ι",YF="ι",XF="⨼",e3="¿",t3="𝒾",n3="ℐ",r3="∈",o3="⋵",i3="⋹",s3="⋴",l3="⋳",c3="∈",a3="⁢",u3="Ĩ",f3="ĩ",d3="І",h3="і",p3="Ï",m3="ï",g3="Ĵ",y3="ĵ",k3="Й",v3="й",x3="𝔍",S3="𝔧",w3="ȷ",C3="𝕁",E3="𝕛",_3="𝒥",b3="𝒿",M3="Ј",T3="ј",A3="Є",D3="є",N3="Κ",O3="κ",R3="ϰ",I3="Ķ",P3="ķ",z3="К",L3="к",F3="𝔎",B3="𝔨",q3="ĸ",V3="Х",$3="х",j3="Ќ",H3="ќ",U3="𝕂",W3="𝕜",K3="𝒦",J3="𝓀",G3="⇚",Q3="Ĺ",Z3="ĺ",Y3="⦴",X3="ℒ",eB="Λ",tB="λ",nB="⟨",rB="⟪",oB="⦑",iB="⟨",sB="⪅",lB="ℒ",cB="«",aB="⇤",uB="⤟",fB="←",dB="↞",hB="⇐",pB="⤝",mB="↩",gB="↫",yB="⤹",kB="⥳",vB="↢",xB="⤙",SB="⤛",wB="⪫",CB="⪭",EB="⪭︀",_B="⤌",bB="⤎",MB="❲",TB="{",AB="[",DB="⦋",NB="⦏",OB="⦍",RB="Ľ",IB="ľ",PB="Ļ",zB="ļ",LB="⌈",FB="{",BB="Л",qB="л",VB="⤶",$B="“",jB="„",HB="⥧",UB="⥋",WB="↲",KB="≤",JB="≦",GB="⟨",QB="⇤",ZB="←",YB="←",XB="⇐",eq="⇆",tq="↢",nq="⌈",rq="⟦",oq="⥡",iq="⥙",sq="⇃",lq="⌊",cq="↽",aq="↼",uq="⇇",fq="↔",dq="↔",hq="⇔",pq="⇆",mq="⇋",gq="↭",yq="⥎",kq="↤",vq="⊣",xq="⥚",Sq="⋋",wq="⧏",Cq="⊲",Eq="⊴",_q="⥑",bq="⥠",Mq="⥘",Tq="↿",Aq="⥒",Dq="↼",Nq="⪋",Oq="⋚",Rq="≤",Iq="≦",Pq="⩽",zq="⪨",Lq="⩽",Fq="⩿",Bq="⪁",qq="⪃",Vq="⋚︀",$q="⪓",jq="⪅",Hq="⋖",Uq="⋚",Wq="⪋",Kq="⋚",Jq="≦",Gq="≶",Qq="≶",Zq="⪡",Yq="≲",Xq="⩽",e4="≲",t4="⥼",n4="⌊",r4="𝔏",o4="𝔩",i4="≶",s4="⪑",l4="⥢",c4="↽",a4="↼",u4="⥪",f4="▄",d4="Љ",h4="љ",p4="⇇",m4="≪",g4="⋘",y4="⌞",k4="⇚",v4="⥫",x4="◺",S4="Ŀ",w4="ŀ",C4="⎰",E4="⎰",_4="⪉",b4="⪉",M4="⪇",T4="≨",A4="⪇",D4="≨",N4="⋦",O4="⟬",R4="⇽",I4="⟦",P4="⟵",z4="⟵",L4="⟸",F4="⟷",B4="⟷",q4="⟺",V4="⟼",$4="⟶",j4="⟶",H4="⟹",U4="↫",W4="↬",K4="⦅",J4="𝕃",G4="𝕝",Q4="⨭",Z4="⨴",Y4="∗",X4="_",eV="↙",tV="↘",nV="◊",rV="◊",oV="⧫",iV="(",sV="⦓",lV="⇆",cV="⌟",aV="⇋",uV="⥭",fV="‎",dV="⊿",hV="‹",pV="𝓁",mV="ℒ",gV="↰",yV="↰",kV="≲",vV="⪍",xV="⪏",SV="[",wV="‘",CV="‚",EV="Ł",_V="ł",bV="⪦",MV="⩹",TV="<",AV="<",DV="≪",NV="⋖",OV="⋋",RV="⋉",IV="⥶",PV="⩻",zV="◃",LV="⊴",FV="◂",BV="⦖",qV="⥊",VV="⥦",$V="≨︀",jV="≨︀",HV="¯",UV="♂",WV="✠",KV="✠",JV="↦",GV="↦",QV="↧",ZV="↤",YV="↥",XV="▮",e$="⨩",t$="М",n$="м",r$="—",o$="∺",i$="∡",s$=" ",l$="ℳ",c$="𝔐",a$="𝔪",u$="℧",f$="µ",d$="*",h$="⫰",p$="∣",m$="·",g$="⊟",y$="−",k$="∸",v$="⨪",x$="∓",S$="⫛",w$="…",C$="∓",E$="⊧",_$="𝕄",b$="𝕞",M$="∓",T$="𝓂",A$="ℳ",D$="∾",N$="Μ",O$="μ",R$="⊸",I$="⊸",P$="∇",z$="Ń",L$="ń",F$="∠⃒",B$="≉",q$="⩰̸",V$="≋̸",$$="ŉ",j$="≉",H$="♮",U$="ℕ",W$="♮",K$=" ",J$="≎̸",G$="≏̸",Q$="⩃",Z$="Ň",Y$="ň",X$="Ņ",ej="ņ",tj="≇",nj="⩭̸",rj="⩂",oj="Н",ij="н",sj="–",lj="⤤",cj="↗",aj="⇗",uj="↗",fj="≠",dj="≐̸",hj="​",pj="​",mj="​",gj="​",yj="≢",kj="⤨",vj="≂̸",xj="≫",Sj="≪",wj=`
`,Cj="∄",Ej="∄",_j="𝔑",bj="𝔫",Mj="≧̸",Tj="≱",Aj="≱",Dj="≧̸",Nj="⩾̸",Oj="⩾̸",Rj="⋙̸",Ij="≵",Pj="≫⃒",zj="≯",Lj="≯",Fj="≫̸",Bj="↮",qj="⇎",Vj="⫲",$j="∋",jj="⋼",Hj="⋺",Uj="∋",Wj="Њ",Kj="њ",Jj="↚",Gj="⇍",Qj="‥",Zj="≦̸",Yj="≰",Xj="↚",e5="⇍",t5="↮",n5="⇎",r5="≰",o5="≦̸",i5="⩽̸",s5="⩽̸",l5="≮",c5="⋘̸",a5="≴",u5="≪⃒",f5="≮",d5="⋪",h5="⋬",p5="≪̸",m5="∤",g5="⁠",y5=" ",k5="𝕟",v5="ℕ",x5="⫬",S5="¬",w5="≢",C5="≭",E5="∦",_5="∉",b5="≠",M5="≂̸",T5="∄",A5="≯",D5="≱",N5="≧̸",O5="≫̸",R5="≹",I5="⩾̸",P5="≵",z5="≎̸",L5="≏̸",F5="∉",B5="⋵̸",q5="⋹̸",V5="∉",$5="⋷",j5="⋶",H5="⧏̸",U5="⋪",W5="⋬",K5="≮",J5="≰",G5="≸",Q5="≪̸",Z5="⩽̸",Y5="≴",X5="⪢̸",e6="⪡̸",t6="∌",n6="∌",r6="⋾",o6="⋽",i6="⊀",s6="⪯̸",l6="⋠",c6="∌",a6="⧐̸",u6="⋫",f6="⋭",d6="⊏̸",h6="⋢",p6="⊐̸",m6="⋣",g6="⊂⃒",y6="⊈",k6="⊁",v6="⪰̸",x6="⋡",S6="≿̸",w6="⊃⃒",C6="⊉",E6="≁",_6="≄",b6="≇",M6="≉",T6="∤",A6="∦",D6="∦",N6="⫽⃥",O6="∂̸",R6="⨔",I6="⊀",P6="⋠",z6="⊀",L6="⪯̸",F6="⪯̸",B6="⤳̸",q6="↛",V6="⇏",$6="↝̸",j6="↛",H6="⇏",U6="⋫",W6="⋭",K6="⊁",J6="⋡",G6="⪰̸",Q6="𝒩",Z6="𝓃",Y6="∤",X6="∦",e8="≁",t8="≄",n8="≄",r8="∤",o8="∦",i8="⋢",s8="⋣",l8="⊄",c8="⫅̸",a8="⊈",u8="⊂⃒",f8="⊈",d8="⫅̸",h8="⊁",p8="⪰̸",m8="⊅",g8="⫆̸",y8="⊉",k8="⊃⃒",v8="⊉",x8="⫆̸",S8="≹",w8="Ñ",C8="ñ",E8="≸",_8="⋪",b8="⋬",M8="⋫",T8="⋭",A8="Ν",D8="ν",N8="#",O8="№",R8=" ",I8="≍⃒",P8="⊬",z8="⊭",L8="⊮",F8="⊯",B8="≥⃒",q8=">⃒",V8="⤄",$8="⧞",j8="⤂",H8="≤⃒",U8="<⃒",W8="⊴⃒",K8="⤃",J8="⊵⃒",G8="∼⃒",Q8="⤣",Z8="↖",Y8="⇖",X8="↖",eH="⤧",tH="Ó",nH="ó",rH="⊛",oH="Ô",iH="ô",sH="⊚",lH="О",cH="о",aH="⊝",uH="Ő",fH="ő",dH="⨸",hH="⊙",pH="⦼",mH="Œ",gH="œ",yH="⦿",kH="𝔒",vH="𝔬",xH="˛",SH="Ò",wH="ò",CH="⧁",EH="⦵",_H="Ω",bH="∮",MH="↺",TH="⦾",AH="⦻",DH="‾",NH="⧀",OH="Ō",RH="ō",IH="Ω",PH="ω",zH="Ο",LH="ο",FH="⦶",BH="⊖",qH="𝕆",VH="𝕠",$H="⦷",jH="“",HH="‘",UH="⦹",WH="⊕",KH="↻",JH="⩔",GH="∨",QH="⩝",ZH="ℴ",YH="ℴ",XH="ª",e9="º",t9="⊶",n9="⩖",r9="⩗",o9="⩛",i9="Ⓢ",s9="𝒪",l9="ℴ",c9="Ø",a9="ø",u9="⊘",f9="Õ",d9="õ",h9="⨶",p9="⨷",m9="⊗",g9="Ö",y9="ö",k9="⌽",v9="‾",x9="⏞",S9="⎴",w9="⏜",C9="¶",E9="∥",_9="∥",b9="⫳",M9="⫽",T9="∂",A9="∂",D9="П",N9="п",O9="%",R9=".",I9="‰",P9="⊥",z9="‱",L9="𝔓",F9="𝔭",B9="Φ",q9="φ",V9="ϕ",$9="ℳ",j9="☎",H9="Π",U9="π",W9="⋔",K9="ϖ",J9="ℏ",G9="ℎ",Q9="ℏ",Z9="⨣",Y9="⊞",X9="⨢",eU="+",tU="∔",nU="⨥",rU="⩲",oU="±",iU="±",sU="⨦",lU="⨧",cU="±",aU="ℌ",uU="⨕",fU="𝕡",dU="ℙ",hU="£",pU="⪷",mU="⪻",gU="≺",yU="≼",kU="⪷",vU="≺",xU="≼",SU="≺",wU="⪯",CU="≼",EU="≾",_U="⪯",bU="⪹",MU="⪵",TU="⋨",AU="⪯",DU="⪳",NU="≾",OU="′",RU="″",IU="ℙ",PU="⪹",zU="⪵",LU="⋨",FU="∏",BU="∏",qU="⌮",VU="⌒",$U="⌓",jU="∝",HU="∝",UU="∷",WU="∝",KU="≾",JU="⊰",GU="𝒫",QU="𝓅",ZU="Ψ",YU="ψ",XU=" ",e7="𝔔",t7="𝔮",n7="⨌",r7="𝕢",o7="ℚ",i7="⁗",s7="𝒬",l7="𝓆",c7="ℍ",a7="⨖",u7="?",f7="≟",d7='"',h7='"',p7="⇛",m7="∽̱",g7="Ŕ",y7="ŕ",k7="√",v7="⦳",x7="⟩",S7="⟫",w7="⦒",C7="⦥",E7="⟩",_7="»",b7="⥵",M7="⇥",T7="⤠",A7="⤳",D7="→",N7="↠",O7="⇒",R7="⤞",I7="↪",P7="↬",z7="⥅",L7="⥴",F7="⤖",B7="↣",q7="↝",V7="⤚",$7="⤜",j7="∶",H7="ℚ",U7="⤍",W7="⤏",K7="⤐",J7="❳",G7="}",Q7="]",Z7="⦌",Y7="⦎",X7="⦐",eW="Ř",tW="ř",nW="Ŗ",rW="ŗ",oW="⌉",iW="}",sW="Р",lW="р",cW="⤷",aW="⥩",uW="”",fW="”",dW="↳",hW="ℜ",pW="ℛ",mW="ℜ",gW="ℝ",yW="ℜ",kW="▭",vW="®",xW="®",SW="∋",wW="⇋",CW="⥯",EW="⥽",_W="⌋",bW="𝔯",MW="ℜ",TW="⥤",AW="⇁",DW="⇀",NW="⥬",OW="Ρ",RW="ρ",IW="ϱ",PW="⟩",zW="⇥",LW="→",FW="→",BW="⇒",qW="⇄",VW="↣",$W="⌉",jW="⟧",HW="⥝",UW="⥕",WW="⇂",KW="⌋",JW="⇁",GW="⇀",QW="⇄",ZW="⇌",YW="⇉",XW="↝",eK="↦",tK="⊢",nK="⥛",rK="⋌",oK="⧐",iK="⊳",sK="⊵",lK="⥏",cK="⥜",aK="⥔",uK="↾",fK="⥓",dK="⇀",hK="˚",pK="≓",mK="⇄",gK="⇌",yK="‏",kK="⎱",vK="⎱",xK="⫮",SK="⟭",wK="⇾",CK="⟧",EK="⦆",_K="𝕣",bK="ℝ",MK="⨮",TK="⨵",AK="⥰",DK=")",NK="⦔",OK="⨒",RK="⇉",IK="⇛",PK="›",zK="𝓇",LK="ℛ",FK="↱",BK="↱",qK="]",VK="’",$K="’",jK="⋌",HK="⋊",UK="▹",WK="⊵",KK="▸",JK="⧎",GK="⧴",QK="⥨",ZK="℞",YK="Ś",XK="ś",eJ="‚",tJ="⪸",nJ="Š",rJ="š",oJ="⪼",iJ="≻",sJ="≽",lJ="⪰",cJ="⪴",aJ="Ş",uJ="ş",fJ="Ŝ",dJ="ŝ",hJ="⪺",pJ="⪶",mJ="⋩",gJ="⨓",yJ="≿",kJ="С",vJ="с",xJ="⊡",SJ="⋅",wJ="⩦",CJ="⤥",EJ="↘",_J="⇘",bJ="↘",MJ="§",TJ=";",AJ="⤩",DJ="∖",NJ="∖",OJ="✶",RJ="𝔖",IJ="𝔰",PJ="⌢",zJ="♯",LJ="Щ",FJ="щ",BJ="Ш",qJ="ш",VJ="↓",$J="←",jJ="∣",HJ="∥",UJ="→",WJ="↑",KJ="­",JJ="Σ",GJ="σ",QJ="ς",ZJ="ς",YJ="∼",XJ="⩪",eG="≃",tG="≃",nG="⪞",rG="⪠",oG="⪝",iG="⪟",sG="≆",lG="⨤",cG="⥲",aG="←",uG="∘",fG="∖",dG="⨳",hG="⧤",pG="∣",mG="⌣",gG="⪪",yG="⪬",kG="⪬︀",vG="Ь",xG="ь",SG="⌿",wG="⧄",CG="/",EG="𝕊",_G="𝕤",bG="♠",MG="♠",TG="∥",AG="⊓",DG="⊓︀",NG="⊔",OG="⊔︀",RG="√",IG="⊏",PG="⊑",zG="⊏",LG="⊑",FG="⊐",BG="⊒",qG="⊐",VG="⊒",$G="□",jG="□",HG="⊓",UG="⊏",WG="⊑",KG="⊐",JG="⊒",GG="⊔",QG="▪",ZG="□",YG="▪",XG="→",eQ="𝒮",tQ="𝓈",nQ="∖",rQ="⌣",oQ="⋆",iQ="⋆",sQ="☆",lQ="★",cQ="ϵ",aQ="ϕ",uQ="¯",fQ="⊂",dQ="⋐",hQ="⪽",pQ="⫅",mQ="⊆",gQ="⫃",yQ="⫁",kQ="⫋",vQ="⊊",xQ="⪿",SQ="⥹",wQ="⊂",CQ="⋐",EQ="⊆",_Q="⫅",bQ="⊆",MQ="⊊",TQ="⫋",AQ="⫇",DQ="⫕",NQ="⫓",OQ="⪸",RQ="≻",IQ="≽",PQ="≻",zQ="⪰",LQ="≽",FQ="≿",BQ="⪰",qQ="⪺",VQ="⪶",$Q="⋩",jQ="≿",HQ="∋",UQ="∑",WQ="∑",KQ="♪",JQ="¹",GQ="²",QQ="³",ZQ="⊃",YQ="⋑",XQ="⪾",eZ="⫘",tZ="⫆",nZ="⊇",rZ="⫄",oZ="⊃",iZ="⊇",sZ="⟉",lZ="⫗",cZ="⥻",aZ="⫂",uZ="⫌",fZ="⊋",dZ="⫀",hZ="⊃",pZ="⋑",mZ="⊇",gZ="⫆",yZ="⊋",kZ="⫌",vZ="⫈",xZ="⫔",SZ="⫖",wZ="⤦",CZ="↙",EZ="⇙",_Z="↙",bZ="⤪",MZ="ß",TZ="	",AZ="⌖",DZ="Τ",NZ="τ",OZ="⎴",RZ="Ť",IZ="ť",PZ="Ţ",zZ="ţ",LZ="Т",FZ="т",BZ="⃛",qZ="⌕",VZ="𝔗",$Z="𝔱",jZ="∴",HZ="∴",UZ="∴",WZ="Θ",KZ="θ",JZ="ϑ",GZ="ϑ",QZ="≈",ZZ="∼",YZ="  ",XZ=" ",eY=" ",tY="≈",nY="∼",rY="Þ",oY="þ",iY="˜",sY="∼",lY="≃",cY="≅",aY="≈",uY="⨱",fY="⊠",dY="×",hY="⨰",pY="∭",mY="⤨",gY="⌶",yY="⫱",kY="⊤",vY="𝕋",xY="𝕥",SY="⫚",wY="⤩",CY="‴",EY="™",_Y="™",bY="▵",MY="▿",TY="◃",AY="⊴",DY="≜",NY="▹",OY="⊵",RY="◬",IY="≜",PY="⨺",zY="⃛",LY="⨹",FY="⧍",BY="⨻",qY="⏢",VY="𝒯",$Y="𝓉",jY="Ц",HY="ц",UY="Ћ",WY="ћ",KY="Ŧ",JY="ŧ",GY="≬",QY="↞",ZY="↠",YY="Ú",XY="ú",eX="↑",tX="↟",nX="⇑",rX="⥉",oX="Ў",iX="ў",sX="Ŭ",lX="ŭ",cX="Û",aX="û",uX="У",fX="у",dX="⇅",hX="Ű",pX="ű",mX="⥮",gX="⥾",yX="𝔘",kX="𝔲",vX="Ù",xX="ù",SX="⥣",wX="↿",CX="↾",EX="▀",_X="⌜",bX="⌜",MX="⌏",TX="◸",AX="Ū",DX="ū",NX="¨",OX="_",RX="⏟",IX="⎵",PX="⏝",zX="⋃",LX="⊎",FX="Ų",BX="ų",qX="𝕌",VX="𝕦",$X="⤒",jX="↑",HX="↑",UX="⇑",WX="⇅",KX="↕",JX="↕",GX="⇕",QX="⥮",ZX="↿",YX="↾",XX="⊎",eee="↖",tee="↗",nee="υ",ree="ϒ",oee="ϒ",iee="Υ",see="υ",lee="↥",cee="⊥",aee="⇈",uee="⌝",fee="⌝",dee="⌎",hee="Ů",pee="ů",mee="◹",gee="𝒰",yee="𝓊",kee="⋰",vee="Ũ",xee="ũ",See="▵",wee="▴",Cee="⇈",Eee="Ü",_ee="ü",bee="⦧",Mee="⦜",Tee="ϵ",Aee="ϰ",Dee="∅",Nee="ϕ",Oee="ϖ",Ree="∝",Iee="↕",Pee="⇕",zee="ϱ",Lee="ς",Fee="⊊︀",Bee="⫋︀",qee="⊋︀",Vee="⫌︀",$ee="ϑ",jee="⊲",Hee="⊳",Uee="⫨",Wee="⫫",Kee="⫩",Jee="В",Gee="в",Qee="⊢",Zee="⊨",Yee="⊩",Xee="⊫",ete="⫦",tte="⊻",nte="∨",rte="⋁",ote="≚",ite="⋮",ste="|",lte="‖",cte="|",ate="‖",ute="∣",fte="|",dte="❘",hte="≀",pte=" ",mte="𝔙",gte="𝔳",yte="⊲",kte="⊂⃒",vte="⊃⃒",xte="𝕍",Ste="𝕧",wte="∝",Cte="⊳",Ete="𝒱",_te="𝓋",bte="⫋︀",Mte="⊊︀",Tte="⫌︀",Ate="⊋︀",Dte="⊪",Nte="⦚",Ote="Ŵ",Rte="ŵ",Ite="⩟",Pte="∧",zte="⋀",Lte="≙",Fte="℘",Bte="𝔚",qte="𝔴",Vte="𝕎",$te="𝕨",jte="℘",Hte="≀",Ute="≀",Wte="𝒲",Kte="𝓌",Jte="⋂",Gte="◯",Qte="⋃",Zte="▽",Yte="𝔛",Xte="𝔵",ene="⟷",tne="⟺",nne="Ξ",rne="ξ",one="⟵",ine="⟸",sne="⟼",lne="⋻",cne="⨀",ane="𝕏",une="𝕩",fne="⨁",dne="⨂",hne="⟶",pne="⟹",mne="𝒳",gne="𝓍",yne="⨆",kne="⨄",vne="△",xne="⋁",Sne="⋀",wne="Ý",Cne="ý",Ene="Я",_ne="я",bne="Ŷ",Mne="ŷ",Tne="Ы",Ane="ы",Dne="¥",Nne="𝔜",One="𝔶",Rne="Ї",Ine="ї",Pne="𝕐",zne="𝕪",Lne="𝒴",Fne="𝓎",Bne="Ю",qne="ю",Vne="ÿ",$ne="Ÿ",jne="Ź",Hne="ź",Une="Ž",Wne="ž",Kne="З",Jne="з",Gne="Ż",Qne="ż",Zne="ℨ",Yne="​",Xne="Ζ",ere="ζ",tre="𝔷",nre="ℨ",rre="Ж",ore="ж",ire="⇝",sre="𝕫",lre="ℤ",cre="𝒵",are="𝓏",ure="‍",fre="‌",dre={Aacute:G_,aacute:Q_,Abreve:Z_,abreve:Y_,ac:X_,acd:eb,acE:tb,Acirc:nb,acirc:rb,acute:ob,Acy:ib,acy:sb,AElig:lb,aelig:cb,af:ab,Afr:ub,afr:fb,Agrave:db,agrave:hb,alefsym:pb,aleph:mb,Alpha:gb,alpha:yb,Amacr:kb,amacr:vb,amalg:xb,amp:Sb,AMP:wb,andand:Cb,And:Eb,and:_b,andd:bb,andslope:Mb,andv:Tb,ang:Ab,ange:Db,angle:Nb,angmsdaa:Ob,angmsdab:Rb,angmsdac:Ib,angmsdad:Pb,angmsdae:zb,angmsdaf:Lb,angmsdag:Fb,angmsdah:Bb,angmsd:qb,angrt:Vb,angrtvb:$b,angrtvbd:jb,angsph:Hb,angst:Ub,angzarr:Wb,Aogon:Kb,aogon:Jb,Aopf:Gb,aopf:Qb,apacir:Zb,ap:Yb,apE:Xb,ape:eM,apid:tM,apos:nM,ApplyFunction:rM,approx:oM,approxeq:iM,Aring:sM,aring:lM,Ascr:cM,ascr:aM,Assign:uM,ast:fM,asymp:dM,asympeq:hM,Atilde:pM,atilde:mM,Auml:gM,auml:yM,awconint:kM,awint:vM,backcong:xM,backepsilon:SM,backprime:wM,backsim:CM,backsimeq:EM,Backslash:_M,Barv:bM,barvee:MM,barwed:TM,Barwed:AM,barwedge:DM,bbrk:NM,bbrktbrk:OM,bcong:RM,Bcy:IM,bcy:PM,bdquo:zM,becaus:LM,because:FM,Because:BM,bemptyv:qM,bepsi:VM,bernou:$M,Bernoullis:jM,Beta:HM,beta:UM,beth:WM,between:KM,Bfr:JM,bfr:GM,bigcap:QM,bigcirc:ZM,bigcup:YM,bigodot:XM,bigoplus:eT,bigotimes:tT,bigsqcup:nT,bigstar:rT,bigtriangledown:oT,bigtriangleup:iT,biguplus:sT,bigvee:lT,bigwedge:cT,bkarow:aT,blacklozenge:uT,blacksquare:fT,blacktriangle:dT,blacktriangledown:hT,blacktriangleleft:pT,blacktriangleright:mT,blank:gT,blk12:yT,blk14:kT,blk34:vT,block:xT,bne:ST,bnequiv:wT,bNot:CT,bnot:ET,Bopf:_T,bopf:bT,bot:MT,bottom:TT,bowtie:AT,boxbox:DT,boxdl:NT,boxdL:OT,boxDl:RT,boxDL:IT,boxdr:PT,boxdR:zT,boxDr:LT,boxDR:FT,boxh:BT,boxH:qT,boxhd:VT,boxHd:$T,boxhD:jT,boxHD:HT,boxhu:UT,boxHu:WT,boxhU:KT,boxHU:JT,boxminus:GT,boxplus:QT,boxtimes:ZT,boxul:YT,boxuL:XT,boxUl:eA,boxUL:tA,boxur:nA,boxuR:rA,boxUr:oA,boxUR:iA,boxv:sA,boxV:lA,boxvh:cA,boxvH:aA,boxVh:uA,boxVH:fA,boxvl:dA,boxvL:hA,boxVl:pA,boxVL:mA,boxvr:gA,boxvR:yA,boxVr:kA,boxVR:vA,bprime:xA,breve:SA,Breve:wA,brvbar:CA,bscr:EA,Bscr:_A,bsemi:bA,bsim:MA,bsime:TA,bsolb:AA,bsol:DA,bsolhsub:NA,bull:OA,bullet:RA,bump:IA,bumpE:PA,bumpe:zA,Bumpeq:LA,bumpeq:FA,Cacute:BA,cacute:qA,capand:VA,capbrcup:$A,capcap:jA,cap:HA,Cap:UA,capcup:WA,capdot:KA,CapitalDifferentialD:JA,caps:GA,caret:QA,caron:ZA,Cayleys:YA,ccaps:XA,Ccaron:eD,ccaron:tD,Ccedil:nD,ccedil:rD,Ccirc:oD,ccirc:iD,Cconint:sD,ccups:lD,ccupssm:cD,Cdot:aD,cdot:uD,cedil:fD,Cedilla:dD,cemptyv:hD,cent:pD,centerdot:mD,CenterDot:gD,cfr:yD,Cfr:kD,CHcy:vD,chcy:xD,check:SD,checkmark:wD,Chi:CD,chi:ED,circ:_D,circeq:bD,circlearrowleft:MD,circlearrowright:TD,circledast:AD,circledcirc:DD,circleddash:ND,CircleDot:OD,circledR:RD,circledS:ID,CircleMinus:PD,CirclePlus:zD,CircleTimes:LD,cir:FD,cirE:BD,cire:qD,cirfnint:VD,cirmid:$D,cirscir:jD,ClockwiseContourIntegral:HD,CloseCurlyDoubleQuote:UD,CloseCurlyQuote:WD,clubs:KD,clubsuit:JD,colon:GD,Colon:QD,Colone:ZD,colone:YD,coloneq:XD,comma:eN,commat:tN,comp:nN,compfn:rN,complement:oN,complexes:iN,cong:sN,congdot:lN,Congruent:cN,conint:aN,Conint:uN,ContourIntegral:fN,copf:dN,Copf:hN,coprod:pN,Coproduct:mN,copy:gN,COPY:yN,copysr:kN,CounterClockwiseContourIntegral:vN,crarr:xN,cross:SN,Cross:wN,Cscr:CN,cscr:EN,csub:_N,csube:bN,csup:MN,csupe:TN,ctdot:AN,cudarrl:DN,cudarrr:NN,cuepr:ON,cuesc:RN,cularr:IN,cularrp:PN,cupbrcap:zN,cupcap:LN,CupCap:FN,cup:BN,Cup:qN,cupcup:VN,cupdot:$N,cupor:jN,cups:HN,curarr:UN,curarrm:WN,curlyeqprec:KN,curlyeqsucc:JN,curlyvee:GN,curlywedge:QN,curren:ZN,curvearrowleft:YN,curvearrowright:XN,cuvee:eO,cuwed:tO,cwconint:nO,cwint:rO,cylcty:oO,dagger:iO,Dagger:sO,daleth:lO,darr:cO,Darr:aO,dArr:uO,dash:fO,Dashv:dO,dashv:hO,dbkarow:pO,dblac:mO,Dcaron:gO,dcaron:yO,Dcy:kO,dcy:vO,ddagger:xO,ddarr:SO,DD:wO,dd:CO,DDotrahd:EO,ddotseq:_O,deg:bO,Del:MO,Delta:TO,delta:AO,demptyv:DO,dfisht:NO,Dfr:OO,dfr:RO,dHar:IO,dharl:PO,dharr:zO,DiacriticalAcute:LO,DiacriticalDot:FO,DiacriticalDoubleAcute:BO,DiacriticalGrave:qO,DiacriticalTilde:VO,diam:$O,diamond:jO,Diamond:HO,diamondsuit:UO,diams:WO,die:KO,DifferentialD:JO,digamma:GO,disin:QO,div:ZO,divide:YO,divideontimes:XO,divonx:eR,DJcy:tR,djcy:nR,dlcorn:rR,dlcrop:oR,dollar:iR,Dopf:sR,dopf:lR,Dot:cR,dot:aR,DotDot:uR,doteq:fR,doteqdot:dR,DotEqual:hR,dotminus:pR,dotplus:mR,dotsquare:gR,doublebarwedge:yR,DoubleContourIntegral:kR,DoubleDot:vR,DoubleDownArrow:xR,DoubleLeftArrow:SR,DoubleLeftRightArrow:wR,DoubleLeftTee:CR,DoubleLongLeftArrow:ER,DoubleLongLeftRightArrow:_R,DoubleLongRightArrow:bR,DoubleRightArrow:MR,DoubleRightTee:TR,DoubleUpArrow:AR,DoubleUpDownArrow:DR,DoubleVerticalBar:NR,DownArrowBar:OR,downarrow:RR,DownArrow:IR,Downarrow:PR,DownArrowUpArrow:zR,DownBreve:LR,downdownarrows:FR,downharpoonleft:BR,downharpoonright:qR,DownLeftRightVector:VR,DownLeftTeeVector:$R,DownLeftVectorBar:jR,DownLeftVector:HR,DownRightTeeVector:UR,DownRightVectorBar:WR,DownRightVector:KR,DownTeeArrow:JR,DownTee:GR,drbkarow:QR,drcorn:ZR,drcrop:YR,Dscr:XR,dscr:eI,DScy:tI,dscy:nI,dsol:rI,Dstrok:oI,dstrok:iI,dtdot:sI,dtri:lI,dtrif:cI,duarr:aI,duhar:uI,dwangle:fI,DZcy:dI,dzcy:hI,dzigrarr:pI,Eacute:mI,eacute:gI,easter:yI,Ecaron:kI,ecaron:vI,Ecirc:xI,ecirc:SI,ecir:wI,ecolon:CI,Ecy:EI,ecy:_I,eDDot:bI,Edot:MI,edot:TI,eDot:AI,ee:DI,efDot:NI,Efr:OI,efr:RI,eg:II,Egrave:PI,egrave:zI,egs:LI,egsdot:FI,el:BI,Element:qI,elinters:VI,ell:$I,els:jI,elsdot:HI,Emacr:UI,emacr:WI,empty:KI,emptyset:JI,EmptySmallSquare:GI,emptyv:QI,EmptyVerySmallSquare:ZI,emsp13:YI,emsp14:XI,emsp:e2,ENG:t2,eng:n2,ensp:r2,Eogon:o2,eogon:i2,Eopf:s2,eopf:l2,epar:c2,eparsl:a2,eplus:u2,epsi:f2,Epsilon:d2,epsilon:h2,epsiv:p2,eqcirc:m2,eqcolon:g2,eqsim:y2,eqslantgtr:k2,eqslantless:v2,Equal:x2,equals:S2,EqualTilde:w2,equest:C2,Equilibrium:E2,equiv:_2,equivDD:b2,eqvparsl:M2,erarr:T2,erDot:A2,escr:D2,Escr:N2,esdot:O2,Esim:R2,esim:I2,Eta:P2,eta:z2,ETH:L2,eth:F2,Euml:B2,euml:q2,euro:V2,excl:$2,exist:j2,Exists:H2,expectation:U2,exponentiale:W2,ExponentialE:K2,fallingdotseq:J2,Fcy:G2,fcy:Q2,female:Z2,ffilig:Y2,fflig:X2,ffllig:eP,Ffr:tP,ffr:nP,filig:rP,FilledSmallSquare:oP,FilledVerySmallSquare:iP,fjlig:sP,flat:lP,fllig:cP,fltns:aP,fnof:uP,Fopf:fP,fopf:dP,forall:hP,ForAll:pP,fork:mP,forkv:gP,Fouriertrf:yP,fpartint:kP,frac12:vP,frac13:xP,frac14:SP,frac15:wP,frac16:CP,frac18:EP,frac23:_P,frac25:bP,frac34:MP,frac35:TP,frac38:AP,frac45:DP,frac56:NP,frac58:OP,frac78:RP,frasl:IP,frown:PP,fscr:zP,Fscr:LP,gacute:FP,Gamma:BP,gamma:qP,Gammad:VP,gammad:$P,gap:jP,Gbreve:HP,gbreve:UP,Gcedil:WP,Gcirc:KP,gcirc:JP,Gcy:GP,gcy:QP,Gdot:ZP,gdot:YP,ge:XP,gE:ez,gEl:tz,gel:nz,geq:rz,geqq:oz,geqslant:iz,gescc:sz,ges:lz,gesdot:cz,gesdoto:az,gesdotol:uz,gesl:fz,gesles:dz,Gfr:hz,gfr:pz,gg:mz,Gg:gz,ggg:yz,gimel:kz,GJcy:vz,gjcy:xz,gla:Sz,gl:wz,glE:Cz,glj:Ez,gnap:_z,gnapprox:bz,gne:Mz,gnE:Tz,gneq:Az,gneqq:Dz,gnsim:Nz,Gopf:Oz,gopf:Rz,grave:Iz,GreaterEqual:Pz,GreaterEqualLess:zz,GreaterFullEqual:Lz,GreaterGreater:Fz,GreaterLess:Bz,GreaterSlantEqual:qz,GreaterTilde:Vz,Gscr:$z,gscr:jz,gsim:Hz,gsime:Uz,gsiml:Wz,gtcc:Kz,gtcir:Jz,gt:Gz,GT:Qz,Gt:Zz,gtdot:Yz,gtlPar:Xz,gtquest:eL,gtrapprox:tL,gtrarr:nL,gtrdot:rL,gtreqless:oL,gtreqqless:iL,gtrless:sL,gtrsim:lL,gvertneqq:cL,gvnE:aL,Hacek:uL,hairsp:fL,half:dL,hamilt:hL,HARDcy:pL,hardcy:mL,harrcir:gL,harr:yL,hArr:kL,harrw:vL,Hat:xL,hbar:SL,Hcirc:wL,hcirc:CL,hearts:EL,heartsuit:_L,hellip:bL,hercon:ML,hfr:TL,Hfr:AL,HilbertSpace:DL,hksearow:NL,hkswarow:OL,hoarr:RL,homtht:IL,hookleftarrow:PL,hookrightarrow:zL,hopf:LL,Hopf:FL,horbar:BL,HorizontalLine:qL,hscr:VL,Hscr:$L,hslash:jL,Hstrok:HL,hstrok:UL,HumpDownHump:WL,HumpEqual:KL,hybull:JL,hyphen:GL,Iacute:QL,iacute:ZL,ic:YL,Icirc:XL,icirc:eF,Icy:tF,icy:nF,Idot:rF,IEcy:oF,iecy:iF,iexcl:sF,iff:lF,ifr:cF,Ifr:aF,Igrave:uF,igrave:fF,ii:dF,iiiint:hF,iiint:pF,iinfin:mF,iiota:gF,IJlig:yF,ijlig:kF,Imacr:vF,imacr:xF,image:SF,ImaginaryI:wF,imagline:CF,imagpart:EF,imath:_F,Im:bF,imof:MF,imped:TF,Implies:AF,incare:DF,in:"∈",infin:NF,infintie:OF,inodot:RF,intcal:IF,int:PF,Int:zF,integers:LF,Integral:FF,intercal:BF,Intersection:qF,intlarhk:VF,intprod:$F,InvisibleComma:jF,InvisibleTimes:HF,IOcy:UF,iocy:WF,Iogon:KF,iogon:JF,Iopf:GF,iopf:QF,Iota:ZF,iota:YF,iprod:XF,iquest:e3,iscr:t3,Iscr:n3,isin:r3,isindot:o3,isinE:i3,isins:s3,isinsv:l3,isinv:c3,it:a3,Itilde:u3,itilde:f3,Iukcy:d3,iukcy:h3,Iuml:p3,iuml:m3,Jcirc:g3,jcirc:y3,Jcy:k3,jcy:v3,Jfr:x3,jfr:S3,jmath:w3,Jopf:C3,jopf:E3,Jscr:_3,jscr:b3,Jsercy:M3,jsercy:T3,Jukcy:A3,jukcy:D3,Kappa:N3,kappa:O3,kappav:R3,Kcedil:I3,kcedil:P3,Kcy:z3,kcy:L3,Kfr:F3,kfr:B3,kgreen:q3,KHcy:V3,khcy:$3,KJcy:j3,kjcy:H3,Kopf:U3,kopf:W3,Kscr:K3,kscr:J3,lAarr:G3,Lacute:Q3,lacute:Z3,laemptyv:Y3,lagran:X3,Lambda:eB,lambda:tB,lang:nB,Lang:rB,langd:oB,langle:iB,lap:sB,Laplacetrf:lB,laquo:cB,larrb:aB,larrbfs:uB,larr:fB,Larr:dB,lArr:hB,larrfs:pB,larrhk:mB,larrlp:gB,larrpl:yB,larrsim:kB,larrtl:vB,latail:xB,lAtail:SB,lat:wB,late:CB,lates:EB,lbarr:_B,lBarr:bB,lbbrk:MB,lbrace:TB,lbrack:AB,lbrke:DB,lbrksld:NB,lbrkslu:OB,Lcaron:RB,lcaron:IB,Lcedil:PB,lcedil:zB,lceil:LB,lcub:FB,Lcy:BB,lcy:qB,ldca:VB,ldquo:$B,ldquor:jB,ldrdhar:HB,ldrushar:UB,ldsh:WB,le:KB,lE:JB,LeftAngleBracket:GB,LeftArrowBar:QB,leftarrow:ZB,LeftArrow:YB,Leftarrow:XB,LeftArrowRightArrow:eq,leftarrowtail:tq,LeftCeiling:nq,LeftDoubleBracket:rq,LeftDownTeeVector:oq,LeftDownVectorBar:iq,LeftDownVector:sq,LeftFloor:lq,leftharpoondown:cq,leftharpoonup:aq,leftleftarrows:uq,leftrightarrow:fq,LeftRightArrow:dq,Leftrightarrow:hq,leftrightarrows:pq,leftrightharpoons:mq,leftrightsquigarrow:gq,LeftRightVector:yq,LeftTeeArrow:kq,LeftTee:vq,LeftTeeVector:xq,leftthreetimes:Sq,LeftTriangleBar:wq,LeftTriangle:Cq,LeftTriangleEqual:Eq,LeftUpDownVector:_q,LeftUpTeeVector:bq,LeftUpVectorBar:Mq,LeftUpVector:Tq,LeftVectorBar:Aq,LeftVector:Dq,lEg:Nq,leg:Oq,leq:Rq,leqq:Iq,leqslant:Pq,lescc:zq,les:Lq,lesdot:Fq,lesdoto:Bq,lesdotor:qq,lesg:Vq,lesges:$q,lessapprox:jq,lessdot:Hq,lesseqgtr:Uq,lesseqqgtr:Wq,LessEqualGreater:Kq,LessFullEqual:Jq,LessGreater:Gq,lessgtr:Qq,LessLess:Zq,lesssim:Yq,LessSlantEqual:Xq,LessTilde:e4,lfisht:t4,lfloor:n4,Lfr:r4,lfr:o4,lg:i4,lgE:s4,lHar:l4,lhard:c4,lharu:a4,lharul:u4,lhblk:f4,LJcy:d4,ljcy:h4,llarr:p4,ll:m4,Ll:g4,llcorner:y4,Lleftarrow:k4,llhard:v4,lltri:x4,Lmidot:S4,lmidot:w4,lmoustache:C4,lmoust:E4,lnap:_4,lnapprox:b4,lne:M4,lnE:T4,lneq:A4,lneqq:D4,lnsim:N4,loang:O4,loarr:R4,lobrk:I4,longleftarrow:P4,LongLeftArrow:z4,Longleftarrow:L4,longleftrightarrow:F4,LongLeftRightArrow:B4,Longleftrightarrow:q4,longmapsto:V4,longrightarrow:$4,LongRightArrow:j4,Longrightarrow:H4,looparrowleft:U4,looparrowright:W4,lopar:K4,Lopf:J4,lopf:G4,loplus:Q4,lotimes:Z4,lowast:Y4,lowbar:X4,LowerLeftArrow:eV,LowerRightArrow:tV,loz:nV,lozenge:rV,lozf:oV,lpar:iV,lparlt:sV,lrarr:lV,lrcorner:cV,lrhar:aV,lrhard:uV,lrm:fV,lrtri:dV,lsaquo:hV,lscr:pV,Lscr:mV,lsh:gV,Lsh:yV,lsim:kV,lsime:vV,lsimg:xV,lsqb:SV,lsquo:wV,lsquor:CV,Lstrok:EV,lstrok:_V,ltcc:bV,ltcir:MV,lt:TV,LT:AV,Lt:DV,ltdot:NV,lthree:OV,ltimes:RV,ltlarr:IV,ltquest:PV,ltri:zV,ltrie:LV,ltrif:FV,ltrPar:BV,lurdshar:qV,luruhar:VV,lvertneqq:$V,lvnE:jV,macr:HV,male:UV,malt:WV,maltese:KV,Map:"⤅",map:JV,mapsto:GV,mapstodown:QV,mapstoleft:ZV,mapstoup:YV,marker:XV,mcomma:e$,Mcy:t$,mcy:n$,mdash:r$,mDDot:o$,measuredangle:i$,MediumSpace:s$,Mellintrf:l$,Mfr:c$,mfr:a$,mho:u$,micro:f$,midast:d$,midcir:h$,mid:p$,middot:m$,minusb:g$,minus:y$,minusd:k$,minusdu:v$,MinusPlus:x$,mlcp:S$,mldr:w$,mnplus:C$,models:E$,Mopf:_$,mopf:b$,mp:M$,mscr:T$,Mscr:A$,mstpos:D$,Mu:N$,mu:O$,multimap:R$,mumap:I$,nabla:P$,Nacute:z$,nacute:L$,nang:F$,nap:B$,napE:q$,napid:V$,napos:$$,napprox:j$,natural:H$,naturals:U$,natur:W$,nbsp:K$,nbump:J$,nbumpe:G$,ncap:Q$,Ncaron:Z$,ncaron:Y$,Ncedil:X$,ncedil:ej,ncong:tj,ncongdot:nj,ncup:rj,Ncy:oj,ncy:ij,ndash:sj,nearhk:lj,nearr:cj,neArr:aj,nearrow:uj,ne:fj,nedot:dj,NegativeMediumSpace:hj,NegativeThickSpace:pj,NegativeThinSpace:mj,NegativeVeryThinSpace:gj,nequiv:yj,nesear:kj,nesim:vj,NestedGreaterGreater:xj,NestedLessLess:Sj,NewLine:wj,nexist:Cj,nexists:Ej,Nfr:_j,nfr:bj,ngE:Mj,nge:Tj,ngeq:Aj,ngeqq:Dj,ngeqslant:Nj,nges:Oj,nGg:Rj,ngsim:Ij,nGt:Pj,ngt:zj,ngtr:Lj,nGtv:Fj,nharr:Bj,nhArr:qj,nhpar:Vj,ni:$j,nis:jj,nisd:Hj,niv:Uj,NJcy:Wj,njcy:Kj,nlarr:Jj,nlArr:Gj,nldr:Qj,nlE:Zj,nle:Yj,nleftarrow:Xj,nLeftarrow:e5,nleftrightarrow:t5,nLeftrightarrow:n5,nleq:r5,nleqq:o5,nleqslant:i5,nles:s5,nless:l5,nLl:c5,nlsim:a5,nLt:u5,nlt:f5,nltri:d5,nltrie:h5,nLtv:p5,nmid:m5,NoBreak:g5,NonBreakingSpace:y5,nopf:k5,Nopf:v5,Not:x5,not:S5,NotCongruent:w5,NotCupCap:C5,NotDoubleVerticalBar:E5,NotElement:_5,NotEqual:b5,NotEqualTilde:M5,NotExists:T5,NotGreater:A5,NotGreaterEqual:D5,NotGreaterFullEqual:N5,NotGreaterGreater:O5,NotGreaterLess:R5,NotGreaterSlantEqual:I5,NotGreaterTilde:P5,NotHumpDownHump:z5,NotHumpEqual:L5,notin:F5,notindot:B5,notinE:q5,notinva:V5,notinvb:$5,notinvc:j5,NotLeftTriangleBar:H5,NotLeftTriangle:U5,NotLeftTriangleEqual:W5,NotLess:K5,NotLessEqual:J5,NotLessGreater:G5,NotLessLess:Q5,NotLessSlantEqual:Z5,NotLessTilde:Y5,NotNestedGreaterGreater:X5,NotNestedLessLess:e6,notni:t6,notniva:n6,notnivb:r6,notnivc:o6,NotPrecedes:i6,NotPrecedesEqual:s6,NotPrecedesSlantEqual:l6,NotReverseElement:c6,NotRightTriangleBar:a6,NotRightTriangle:u6,NotRightTriangleEqual:f6,NotSquareSubset:d6,NotSquareSubsetEqual:h6,NotSquareSuperset:p6,NotSquareSupersetEqual:m6,NotSubset:g6,NotSubsetEqual:y6,NotSucceeds:k6,NotSucceedsEqual:v6,NotSucceedsSlantEqual:x6,NotSucceedsTilde:S6,NotSuperset:w6,NotSupersetEqual:C6,NotTilde:E6,NotTildeEqual:_6,NotTildeFullEqual:b6,NotTildeTilde:M6,NotVerticalBar:T6,nparallel:A6,npar:D6,nparsl:N6,npart:O6,npolint:R6,npr:I6,nprcue:P6,nprec:z6,npreceq:L6,npre:F6,nrarrc:B6,nrarr:q6,nrArr:V6,nrarrw:$6,nrightarrow:j6,nRightarrow:H6,nrtri:U6,nrtrie:W6,nsc:K6,nsccue:J6,nsce:G6,Nscr:Q6,nscr:Z6,nshortmid:Y6,nshortparallel:X6,nsim:e8,nsime:t8,nsimeq:n8,nsmid:r8,nspar:o8,nsqsube:i8,nsqsupe:s8,nsub:l8,nsubE:c8,nsube:a8,nsubset:u8,nsubseteq:f8,nsubseteqq:d8,nsucc:h8,nsucceq:p8,nsup:m8,nsupE:g8,nsupe:y8,nsupset:k8,nsupseteq:v8,nsupseteqq:x8,ntgl:S8,Ntilde:w8,ntilde:C8,ntlg:E8,ntriangleleft:_8,ntrianglelefteq:b8,ntriangleright:M8,ntrianglerighteq:T8,Nu:A8,nu:D8,num:N8,numero:O8,numsp:R8,nvap:I8,nvdash:P8,nvDash:z8,nVdash:L8,nVDash:F8,nvge:B8,nvgt:q8,nvHarr:V8,nvinfin:$8,nvlArr:j8,nvle:H8,nvlt:U8,nvltrie:W8,nvrArr:K8,nvrtrie:J8,nvsim:G8,nwarhk:Q8,nwarr:Z8,nwArr:Y8,nwarrow:X8,nwnear:eH,Oacute:tH,oacute:nH,oast:rH,Ocirc:oH,ocirc:iH,ocir:sH,Ocy:lH,ocy:cH,odash:aH,Odblac:uH,odblac:fH,odiv:dH,odot:hH,odsold:pH,OElig:mH,oelig:gH,ofcir:yH,Ofr:kH,ofr:vH,ogon:xH,Ograve:SH,ograve:wH,ogt:CH,ohbar:EH,ohm:_H,oint:bH,olarr:MH,olcir:TH,olcross:AH,oline:DH,olt:NH,Omacr:OH,omacr:RH,Omega:IH,omega:PH,Omicron:zH,omicron:LH,omid:FH,ominus:BH,Oopf:qH,oopf:VH,opar:$H,OpenCurlyDoubleQuote:jH,OpenCurlyQuote:HH,operp:UH,oplus:WH,orarr:KH,Or:JH,or:GH,ord:QH,order:ZH,orderof:YH,ordf:XH,ordm:e9,origof:t9,oror:n9,orslope:r9,orv:o9,oS:i9,Oscr:s9,oscr:l9,Oslash:c9,oslash:a9,osol:u9,Otilde:f9,otilde:d9,otimesas:h9,Otimes:p9,otimes:m9,Ouml:g9,ouml:y9,ovbar:k9,OverBar:v9,OverBrace:x9,OverBracket:S9,OverParenthesis:w9,para:C9,parallel:E9,par:_9,parsim:b9,parsl:M9,part:T9,PartialD:A9,Pcy:D9,pcy:N9,percnt:O9,period:R9,permil:I9,perp:P9,pertenk:z9,Pfr:L9,pfr:F9,Phi:B9,phi:q9,phiv:V9,phmmat:$9,phone:j9,Pi:H9,pi:U9,pitchfork:W9,piv:K9,planck:J9,planckh:G9,plankv:Q9,plusacir:Z9,plusb:Y9,pluscir:X9,plus:eU,plusdo:tU,plusdu:nU,pluse:rU,PlusMinus:oU,plusmn:iU,plussim:sU,plustwo:lU,pm:cU,Poincareplane:aU,pointint:uU,popf:fU,Popf:dU,pound:hU,prap:pU,Pr:mU,pr:gU,prcue:yU,precapprox:kU,prec:vU,preccurlyeq:xU,Precedes:SU,PrecedesEqual:wU,PrecedesSlantEqual:CU,PrecedesTilde:EU,preceq:_U,precnapprox:bU,precneqq:MU,precnsim:TU,pre:AU,prE:DU,precsim:NU,prime:OU,Prime:RU,primes:IU,prnap:PU,prnE:zU,prnsim:LU,prod:FU,Product:BU,profalar:qU,profline:VU,profsurf:$U,prop:jU,Proportional:HU,Proportion:UU,propto:WU,prsim:KU,prurel:JU,Pscr:GU,pscr:QU,Psi:ZU,psi:YU,puncsp:XU,Qfr:e7,qfr:t7,qint:n7,qopf:r7,Qopf:o7,qprime:i7,Qscr:s7,qscr:l7,quaternions:c7,quatint:a7,quest:u7,questeq:f7,quot:d7,QUOT:h7,rAarr:p7,race:m7,Racute:g7,racute:y7,radic:k7,raemptyv:v7,rang:x7,Rang:S7,rangd:w7,range:C7,rangle:E7,raquo:_7,rarrap:b7,rarrb:M7,rarrbfs:T7,rarrc:A7,rarr:D7,Rarr:N7,rArr:O7,rarrfs:R7,rarrhk:I7,rarrlp:P7,rarrpl:z7,rarrsim:L7,Rarrtl:F7,rarrtl:B7,rarrw:q7,ratail:V7,rAtail:$7,ratio:j7,rationals:H7,rbarr:U7,rBarr:W7,RBarr:K7,rbbrk:J7,rbrace:G7,rbrack:Q7,rbrke:Z7,rbrksld:Y7,rbrkslu:X7,Rcaron:eW,rcaron:tW,Rcedil:nW,rcedil:rW,rceil:oW,rcub:iW,Rcy:sW,rcy:lW,rdca:cW,rdldhar:aW,rdquo:uW,rdquor:fW,rdsh:dW,real:hW,realine:pW,realpart:mW,reals:gW,Re:yW,rect:kW,reg:vW,REG:xW,ReverseElement:SW,ReverseEquilibrium:wW,ReverseUpEquilibrium:CW,rfisht:EW,rfloor:_W,rfr:bW,Rfr:MW,rHar:TW,rhard:AW,rharu:DW,rharul:NW,Rho:OW,rho:RW,rhov:IW,RightAngleBracket:PW,RightArrowBar:zW,rightarrow:LW,RightArrow:FW,Rightarrow:BW,RightArrowLeftArrow:qW,rightarrowtail:VW,RightCeiling:$W,RightDoubleBracket:jW,RightDownTeeVector:HW,RightDownVectorBar:UW,RightDownVector:WW,RightFloor:KW,rightharpoondown:JW,rightharpoonup:GW,rightleftarrows:QW,rightleftharpoons:ZW,rightrightarrows:YW,rightsquigarrow:XW,RightTeeArrow:eK,RightTee:tK,RightTeeVector:nK,rightthreetimes:rK,RightTriangleBar:oK,RightTriangle:iK,RightTriangleEqual:sK,RightUpDownVector:lK,RightUpTeeVector:cK,RightUpVectorBar:aK,RightUpVector:uK,RightVectorBar:fK,RightVector:dK,ring:hK,risingdotseq:pK,rlarr:mK,rlhar:gK,rlm:yK,rmoustache:kK,rmoust:vK,rnmid:xK,roang:SK,roarr:wK,robrk:CK,ropar:EK,ropf:_K,Ropf:bK,roplus:MK,rotimes:TK,RoundImplies:AK,rpar:DK,rpargt:NK,rppolint:OK,rrarr:RK,Rrightarrow:IK,rsaquo:PK,rscr:zK,Rscr:LK,rsh:FK,Rsh:BK,rsqb:qK,rsquo:VK,rsquor:$K,rthree:jK,rtimes:HK,rtri:UK,rtrie:WK,rtrif:KK,rtriltri:JK,RuleDelayed:GK,ruluhar:QK,rx:ZK,Sacute:YK,sacute:XK,sbquo:eJ,scap:tJ,Scaron:nJ,scaron:rJ,Sc:oJ,sc:iJ,sccue:sJ,sce:lJ,scE:cJ,Scedil:aJ,scedil:uJ,Scirc:fJ,scirc:dJ,scnap:hJ,scnE:pJ,scnsim:mJ,scpolint:gJ,scsim:yJ,Scy:kJ,scy:vJ,sdotb:xJ,sdot:SJ,sdote:wJ,searhk:CJ,searr:EJ,seArr:_J,searrow:bJ,sect:MJ,semi:TJ,seswar:AJ,setminus:DJ,setmn:NJ,sext:OJ,Sfr:RJ,sfr:IJ,sfrown:PJ,sharp:zJ,SHCHcy:LJ,shchcy:FJ,SHcy:BJ,shcy:qJ,ShortDownArrow:VJ,ShortLeftArrow:$J,shortmid:jJ,shortparallel:HJ,ShortRightArrow:UJ,ShortUpArrow:WJ,shy:KJ,Sigma:JJ,sigma:GJ,sigmaf:QJ,sigmav:ZJ,sim:YJ,simdot:XJ,sime:eG,simeq:tG,simg:nG,simgE:rG,siml:oG,simlE:iG,simne:sG,simplus:lG,simrarr:cG,slarr:aG,SmallCircle:uG,smallsetminus:fG,smashp:dG,smeparsl:hG,smid:pG,smile:mG,smt:gG,smte:yG,smtes:kG,SOFTcy:vG,softcy:xG,solbar:SG,solb:wG,sol:CG,Sopf:EG,sopf:_G,spades:bG,spadesuit:MG,spar:TG,sqcap:AG,sqcaps:DG,sqcup:NG,sqcups:OG,Sqrt:RG,sqsub:IG,sqsube:PG,sqsubset:zG,sqsubseteq:LG,sqsup:FG,sqsupe:BG,sqsupset:qG,sqsupseteq:VG,square:$G,Square:jG,SquareIntersection:HG,SquareSubset:UG,SquareSubsetEqual:WG,SquareSuperset:KG,SquareSupersetEqual:JG,SquareUnion:GG,squarf:QG,squ:ZG,squf:YG,srarr:XG,Sscr:eQ,sscr:tQ,ssetmn:nQ,ssmile:rQ,sstarf:oQ,Star:iQ,star:sQ,starf:lQ,straightepsilon:cQ,straightphi:aQ,strns:uQ,sub:fQ,Sub:dQ,subdot:hQ,subE:pQ,sube:mQ,subedot:gQ,submult:yQ,subnE:kQ,subne:vQ,subplus:xQ,subrarr:SQ,subset:wQ,Subset:CQ,subseteq:EQ,subseteqq:_Q,SubsetEqual:bQ,subsetneq:MQ,subsetneqq:TQ,subsim:AQ,subsub:DQ,subsup:NQ,succapprox:OQ,succ:RQ,succcurlyeq:IQ,Succeeds:PQ,SucceedsEqual:zQ,SucceedsSlantEqual:LQ,SucceedsTilde:FQ,succeq:BQ,succnapprox:qQ,succneqq:VQ,succnsim:$Q,succsim:jQ,SuchThat:HQ,sum:UQ,Sum:WQ,sung:KQ,sup1:JQ,sup2:GQ,sup3:QQ,sup:ZQ,Sup:YQ,supdot:XQ,supdsub:eZ,supE:tZ,supe:nZ,supedot:rZ,Superset:oZ,SupersetEqual:iZ,suphsol:sZ,suphsub:lZ,suplarr:cZ,supmult:aZ,supnE:uZ,supne:fZ,supplus:dZ,supset:hZ,Supset:pZ,supseteq:mZ,supseteqq:gZ,supsetneq:yZ,supsetneqq:kZ,supsim:vZ,supsub:xZ,supsup:SZ,swarhk:wZ,swarr:CZ,swArr:EZ,swarrow:_Z,swnwar:bZ,szlig:MZ,Tab:TZ,target:AZ,Tau:DZ,tau:NZ,tbrk:OZ,Tcaron:RZ,tcaron:IZ,Tcedil:PZ,tcedil:zZ,Tcy:LZ,tcy:FZ,tdot:BZ,telrec:qZ,Tfr:VZ,tfr:$Z,there4:jZ,therefore:HZ,Therefore:UZ,Theta:WZ,theta:KZ,thetasym:JZ,thetav:GZ,thickapprox:QZ,thicksim:ZZ,ThickSpace:YZ,ThinSpace:XZ,thinsp:eY,thkap:tY,thksim:nY,THORN:rY,thorn:oY,tilde:iY,Tilde:sY,TildeEqual:lY,TildeFullEqual:cY,TildeTilde:aY,timesbar:uY,timesb:fY,times:dY,timesd:hY,tint:pY,toea:mY,topbot:gY,topcir:yY,top:kY,Topf:vY,topf:xY,topfork:SY,tosa:wY,tprime:CY,trade:EY,TRADE:_Y,triangle:bY,triangledown:MY,triangleleft:TY,trianglelefteq:AY,triangleq:DY,triangleright:NY,trianglerighteq:OY,tridot:RY,trie:IY,triminus:PY,TripleDot:zY,triplus:LY,trisb:FY,tritime:BY,trpezium:qY,Tscr:VY,tscr:$Y,TScy:jY,tscy:HY,TSHcy:UY,tshcy:WY,Tstrok:KY,tstrok:JY,twixt:GY,twoheadleftarrow:QY,twoheadrightarrow:ZY,Uacute:YY,uacute:XY,uarr:eX,Uarr:tX,uArr:nX,Uarrocir:rX,Ubrcy:oX,ubrcy:iX,Ubreve:sX,ubreve:lX,Ucirc:cX,ucirc:aX,Ucy:uX,ucy:fX,udarr:dX,Udblac:hX,udblac:pX,udhar:mX,ufisht:gX,Ufr:yX,ufr:kX,Ugrave:vX,ugrave:xX,uHar:SX,uharl:wX,uharr:CX,uhblk:EX,ulcorn:_X,ulcorner:bX,ulcrop:MX,ultri:TX,Umacr:AX,umacr:DX,uml:NX,UnderBar:OX,UnderBrace:RX,UnderBracket:IX,UnderParenthesis:PX,Union:zX,UnionPlus:LX,Uogon:FX,uogon:BX,Uopf:qX,uopf:VX,UpArrowBar:$X,uparrow:jX,UpArrow:HX,Uparrow:UX,UpArrowDownArrow:WX,updownarrow:KX,UpDownArrow:JX,Updownarrow:GX,UpEquilibrium:QX,upharpoonleft:ZX,upharpoonright:YX,uplus:XX,UpperLeftArrow:eee,UpperRightArrow:tee,upsi:nee,Upsi:ree,upsih:oee,Upsilon:iee,upsilon:see,UpTeeArrow:lee,UpTee:cee,upuparrows:aee,urcorn:uee,urcorner:fee,urcrop:dee,Uring:hee,uring:pee,urtri:mee,Uscr:gee,uscr:yee,utdot:kee,Utilde:vee,utilde:xee,utri:See,utrif:wee,uuarr:Cee,Uuml:Eee,uuml:_ee,uwangle:bee,vangrt:Mee,varepsilon:Tee,varkappa:Aee,varnothing:Dee,varphi:Nee,varpi:Oee,varpropto:Ree,varr:Iee,vArr:Pee,varrho:zee,varsigma:Lee,varsubsetneq:Fee,varsubsetneqq:Bee,varsupsetneq:qee,varsupsetneqq:Vee,vartheta:$ee,vartriangleleft:jee,vartriangleright:Hee,vBar:Uee,Vbar:Wee,vBarv:Kee,Vcy:Jee,vcy:Gee,vdash:Qee,vDash:Zee,Vdash:Yee,VDash:Xee,Vdashl:ete,veebar:tte,vee:nte,Vee:rte,veeeq:ote,vellip:ite,verbar:ste,Verbar:lte,vert:cte,Vert:ate,VerticalBar:ute,VerticalLine:fte,VerticalSeparator:dte,VerticalTilde:hte,VeryThinSpace:pte,Vfr:mte,vfr:gte,vltri:yte,vnsub:kte,vnsup:vte,Vopf:xte,vopf:Ste,vprop:wte,vrtri:Cte,Vscr:Ete,vscr:_te,vsubnE:bte,vsubne:Mte,vsupnE:Tte,vsupne:Ate,Vvdash:Dte,vzigzag:Nte,Wcirc:Ote,wcirc:Rte,wedbar:Ite,wedge:Pte,Wedge:zte,wedgeq:Lte,weierp:Fte,Wfr:Bte,wfr:qte,Wopf:Vte,wopf:$te,wp:jte,wr:Hte,wreath:Ute,Wscr:Wte,wscr:Kte,xcap:Jte,xcirc:Gte,xcup:Qte,xdtri:Zte,Xfr:Yte,xfr:Xte,xharr:ene,xhArr:tne,Xi:nne,xi:rne,xlarr:one,xlArr:ine,xmap:sne,xnis:lne,xodot:cne,Xopf:ane,xopf:une,xoplus:fne,xotime:dne,xrarr:hne,xrArr:pne,Xscr:mne,xscr:gne,xsqcup:yne,xuplus:kne,xutri:vne,xvee:xne,xwedge:Sne,Yacute:wne,yacute:Cne,YAcy:Ene,yacy:_ne,Ycirc:bne,ycirc:Mne,Ycy:Tne,ycy:Ane,yen:Dne,Yfr:Nne,yfr:One,YIcy:Rne,yicy:Ine,Yopf:Pne,yopf:zne,Yscr:Lne,yscr:Fne,YUcy:Bne,yucy:qne,yuml:Vne,Yuml:$ne,Zacute:jne,zacute:Hne,Zcaron:Une,zcaron:Wne,Zcy:Kne,zcy:Jne,Zdot:Gne,zdot:Qne,zeetrf:Zne,ZeroWidthSpace:Yne,Zeta:Xne,zeta:ere,zfr:tre,Zfr:nre,ZHcy:rre,zhcy:ore,zigrarr:ire,zopf:sre,Zopf:lre,Zscr:cre,zscr:are,zwj:ure,zwnj:fre};var Ya,mg;function m1(){return mg||(mg=1,Ya=dre),Ya}var Xa,gg;function Gf(){return gg||(gg=1,Xa=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/),Xa}var lo={},eu,yg;function hre(){if(yg)return eu;yg=1;var r={};function e(n){var o,s,c=r[n];if(c)return c;for(c=r[n]=[],o=0;o<128;o++)s=String.fromCharCode(o),/^[0-9a-z]$/i.test(s)?c.push(s):c.push("%"+("0"+o.toString(16).toUpperCase()).slice(-2));for(o=0;o<n.length;o++)c[n.charCodeAt(o)]=n[o];return c}function t(n,o,s){var c,a,f,d,p,m="";for(typeof o!="string"&&(s=o,o=t.defaultChars),typeof s>"u"&&(s=!0),p=e(o),c=0,a=n.length;c<a;c++){if(f=n.charCodeAt(c),s&&f===37&&c+2<a&&/^[0-9a-f]{2}$/i.test(n.slice(c+1,c+3))){m+=n.slice(c,c+3),c+=2;continue}if(f<128){m+=p[f];continue}if(f>=55296&&f<=57343){if(f>=55296&&f<=56319&&c+1<a&&(d=n.charCodeAt(c+1),d>=56320&&d<=57343)){m+=encodeURIComponent(n[c]+n[c+1]),c++;continue}m+="%EF%BF%BD";continue}m+=encodeURIComponent(n[c])}return m}return t.defaultChars=";/?:@&=+$,-_.!~*'()#",t.componentChars="-_.!~*'()",eu=t,eu}var tu,kg;function pre(){if(kg)return tu;kg=1;var r={};function e(n){var o,s,c=r[n];if(c)return c;for(c=r[n]=[],o=0;o<128;o++)s=String.fromCharCode(o),c.push(s);for(o=0;o<n.length;o++)s=n.charCodeAt(o),c[s]="%"+("0"+s.toString(16).toUpperCase()).slice(-2);return c}function t(n,o){var s;return typeof o!="string"&&(o=t.defaultChars),s=e(o),n.replace(/(%[a-f0-9]{2})+/gi,function(c){var a,f,d,p,m,v,k,x="";for(a=0,f=c.length;a<f;a+=3){if(d=parseInt(c.slice(a+1,a+3),16),d<128){x+=s[d];continue}if((d&224)===192&&a+3<f&&(p=parseInt(c.slice(a+4,a+6),16),(p&192)===128)){k=d<<6&1984|p&63,k<128?x+="��":x+=String.fromCharCode(k),a+=3;continue}if((d&240)===224&&a+6<f&&(p=parseInt(c.slice(a+4,a+6),16),m=parseInt(c.slice(a+7,a+9),16),(p&192)===128&&(m&192)===128)){k=d<<12&61440|p<<6&4032|m&63,k<2048||k>=55296&&k<=57343?x+="���":x+=String.fromCharCode(k),a+=6;continue}if((d&248)===240&&a+9<f&&(p=parseInt(c.slice(a+4,a+6),16),m=parseInt(c.slice(a+7,a+9),16),v=parseInt(c.slice(a+10,a+12),16),(p&192)===128&&(m&192)===128&&(v&192)===128)){k=d<<18&1835008|p<<12&258048|m<<6&4032|v&63,k<65536||k>1114111?x+="����":(k-=65536,x+=String.fromCharCode(55296+(k>>10),56320+(k&1023))),a+=9;continue}x+="�"}return x})}return t.defaultChars=";/?:@&=+$,#",t.componentChars="",tu=t,tu}var nu,vg;function mre(){return vg||(vg=1,nu=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}),nu}var ru,xg;function gre(){if(xg)return ru;xg=1;function r(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var e=/^([a-z0-9.+-]+:)/i,t=/:[0-9]*$/,n=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],s=["{","}","|","\\","^","`"].concat(o),c=["'"].concat(s),a=["%","/","?",";","#"].concat(c),f=["/","?","#"],d=255,p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function x(w,C){if(w&&w instanceof r)return w;var E=new r;return E.parse(w,C),E}return r.prototype.parse=function(w,C){var E,A,b,T,I,O=w;if(O=O.trim(),!C&&w.split("#").length===1){var W=n.exec(O);if(W)return this.pathname=W[1],W[2]&&(this.search=W[2]),this}var L=e.exec(O);if(L&&(L=L[0],b=L.toLowerCase(),this.protocol=L,O=O.substr(L.length)),(C||L||O.match(/^\/\/[^@\/]+@[^@\/]+/))&&(I=O.substr(0,2)==="//",I&&!(L&&v[L])&&(O=O.substr(2),this.slashes=!0)),!v[L]&&(I||L&&!k[L])){var F=-1;for(E=0;E<f.length;E++)T=O.indexOf(f[E]),T!==-1&&(F===-1||T<F)&&(F=T);var K,X;for(F===-1?X=O.lastIndexOf("@"):X=O.lastIndexOf("@",F),X!==-1&&(K=O.slice(0,X),O=O.slice(X+1),this.auth=K),F=-1,E=0;E<a.length;E++)T=O.indexOf(a[E]),T!==-1&&(F===-1||T<F)&&(F=T);F===-1&&(F=O.length),O[F-1]===":"&&F--;var ae=O.slice(0,F);O=O.slice(F),this.parseHost(ae),this.hostname=this.hostname||"";var xe=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!xe){var V=this.hostname.split(/\./);for(E=0,A=V.length;E<A;E++){var he=V[E];if(he&&!he.match(p)){for(var pe="",ke=0,G=he.length;ke<G;ke++)he.charCodeAt(ke)>127?pe+="x":pe+=he[ke];if(!pe.match(p)){var Y=V.slice(0,E),B=V.slice(E+1),N=he.match(m);N&&(Y.push(N[1]),B.unshift(N[2])),B.length&&(O=B.join(".")+O),this.hostname=Y.join(".");break}}}}this.hostname.length>d&&(this.hostname=""),xe&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var q=O.indexOf("#");q!==-1&&(this.hash=O.substr(q),O=O.slice(0,q));var fe=O.indexOf("?");return fe!==-1&&(this.search=O.substr(fe),O=O.slice(0,fe)),O&&(this.pathname=O),k[b]&&this.hostname&&!this.pathname&&(this.pathname=""),this},r.prototype.parseHost=function(w){var C=t.exec(w);C&&(C=C[0],C!==":"&&(this.port=C.substr(1)),w=w.substr(0,w.length-C.length)),w&&(this.hostname=w)},ru=x,ru}var Sg;function g1(){return Sg||(Sg=1,lo.encode=hre(),lo.decode=pre(),lo.format=mre(),lo.parse=gre()),lo}var vr={},ou,wg;function y1(){return wg||(wg=1,ou=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),ou}var iu,Cg;function k1(){return Cg||(Cg=1,iu=/[\0-\x1F\x7F-\x9F]/),iu}var su,Eg;function yre(){return Eg||(Eg=1,su=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/),su}var lu,_g;function v1(){return _g||(_g=1,lu=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/),lu}var bg;function kre(){return bg||(bg=1,vr.Any=y1(),vr.Cc=k1(),vr.Cf=yre(),vr.P=Gf(),vr.Z=v1()),vr}var Mg;function Ee(){return Mg||(Mg=1,function(r){function e(V){return Object.prototype.toString.call(V)}function t(V){return e(V)==="[object String]"}var n=Object.prototype.hasOwnProperty;function o(V,he){return n.call(V,he)}function s(V){var he=Array.prototype.slice.call(arguments,1);return he.forEach(function(pe){if(pe){if(typeof pe!="object")throw new TypeError(pe+"must be object");Object.keys(pe).forEach(function(ke){V[ke]=pe[ke]})}}),V}function c(V,he,pe){return[].concat(V.slice(0,he),pe,V.slice(he+1))}function a(V){return!(V>=55296&&V<=57343||V>=64976&&V<=65007||(V&65535)===65535||(V&65535)===65534||V>=0&&V<=8||V===11||V>=14&&V<=31||V>=127&&V<=159||V>1114111)}function f(V){if(V>65535){V-=65536;var he=55296+(V>>10),pe=56320+(V&1023);return String.fromCharCode(he,pe)}return String.fromCharCode(V)}var d=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,p=/&([a-z#][a-z0-9]{1,31});/gi,m=new RegExp(d.source+"|"+p.source,"gi"),v=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i,k=m1();function x(V,he){var pe;return o(k,he)?k[he]:he.charCodeAt(0)===35&&v.test(he)&&(pe=he[1].toLowerCase()==="x"?parseInt(he.slice(2),16):parseInt(he.slice(1),10),a(pe))?f(pe):V}function w(V){return V.indexOf("\\")<0?V:V.replace(d,"$1")}function C(V){return V.indexOf("\\")<0&&V.indexOf("&")<0?V:V.replace(m,function(he,pe,ke){return pe||x(he,ke)})}var E=/[&<>"]/,A=/[&<>"]/g,b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function T(V){return b[V]}function I(V){return E.test(V)?V.replace(A,T):V}var O=/[.?*+^$[\]\\(){}|-]/g;function W(V){return V.replace(O,"\\$&")}function L(V){switch(V){case 9:case 32:return!0}return!1}function F(V){if(V>=8192&&V<=8202)return!0;switch(V){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var K=Gf();function X(V){return K.test(V)}function ae(V){switch(V){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function xe(V){return V=V.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(V=V.replace(/ẞ/g,"ß")),V.toLowerCase().toUpperCase()}r.lib={},r.lib.mdurl=g1(),r.lib.ucmicro=kre(),r.assign=s,r.isString=t,r.has=o,r.unescapeMd=w,r.unescapeAll=C,r.isValidEntityCode=a,r.fromCodePoint=f,r.escapeHtml=I,r.arrayReplaceAt=c,r.isSpace=L,r.isWhiteSpace=F,r.isMdAsciiPunct=ae,r.isPunctChar=X,r.escapeRE=W,r.normalizeReference=xe}(Za)),Za}var fi={},cu,Tg;function vre(){return Tg||(Tg=1,cu=function(e,t,n){var o,s,c,a,f=-1,d=e.posMax,p=e.pos;for(e.pos=t+1,o=1;e.pos<d;){if(c=e.src.charCodeAt(e.pos),c===93&&(o--,o===0)){s=!0;break}if(a=e.pos,e.md.inline.skipToken(e),c===91){if(a===e.pos-1)o++;else if(n)return e.pos=p,-1}}return s&&(f=e.pos),e.pos=p,f}),cu}var au,Ag;function xre(){if(Ag)return au;Ag=1;var r=Ee().unescapeAll;return au=function(t,n,o){var s,c,a=n,f={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(a)===60){for(a++;a<o;){if(s=t.charCodeAt(a),s===10||s===60)return f;if(s===62)return f.pos=a+1,f.str=r(t.slice(n+1,a)),f.ok=!0,f;if(s===92&&a+1<o){a+=2;continue}a++}return f}for(c=0;a<o&&(s=t.charCodeAt(a),!(s===32||s<32||s===127));){if(s===92&&a+1<o){if(t.charCodeAt(a+1)===32)break;a+=2;continue}if(s===40&&(c++,c>32))return f;if(s===41){if(c===0)break;c--}a++}return n===a||c!==0||(f.str=r(t.slice(n,a)),f.pos=a,f.ok=!0),f},au}var uu,Dg;function Sre(){if(Dg)return uu;Dg=1;var r=Ee().unescapeAll;return uu=function(t,n,o){var s,c,a=0,f=n,d={ok:!1,pos:0,lines:0,str:""};if(f>=o||(c=t.charCodeAt(f),c!==34&&c!==39&&c!==40))return d;for(f++,c===40&&(c=41);f<o;){if(s=t.charCodeAt(f),s===c)return d.pos=f+1,d.lines=a,d.str=r(t.slice(n+1,f)),d.ok=!0,d;if(s===40&&c===41)return d;s===10?a++:s===92&&f+1<o&&(f++,t.charCodeAt(f)===10&&a++),f++}return d},uu}var Ng;function wre(){return Ng||(Ng=1,fi.parseLinkLabel=vre(),fi.parseLinkDestination=xre(),fi.parseLinkTitle=Sre()),fi}var fu,Og;function Cre(){if(Og)return fu;Og=1;var r=Ee().assign,e=Ee().unescapeAll,t=Ee().escapeHtml,n={};n.code_inline=function(s,c,a,f,d){var p=s[c];return"<code"+d.renderAttrs(p)+">"+t(p.content)+"</code>"},n.code_block=function(s,c,a,f,d){var p=s[c];return"<pre"+d.renderAttrs(p)+"><code>"+t(s[c].content)+`</code></pre>
`},n.fence=function(s,c,a,f,d){var p=s[c],m=p.info?e(p.info).trim():"",v="",k="",x,w,C,E,A;return m&&(C=m.split(/(\s+)/g),v=C[0],k=C.slice(2).join("")),a.highlight?x=a.highlight(p.content,v,k)||t(p.content):x=t(p.content),x.indexOf("<pre")===0?x+`
`:m?(w=p.attrIndex("class"),E=p.attrs?p.attrs.slice():[],w<0?E.push(["class",a.langPrefix+v]):(E[w]=E[w].slice(),E[w][1]+=" "+a.langPrefix+v),A={attrs:E},"<pre><code"+d.renderAttrs(A)+">"+x+`</code></pre>
`):"<pre><code"+d.renderAttrs(p)+">"+x+`</code></pre>
`},n.image=function(s,c,a,f,d){var p=s[c];return p.attrs[p.attrIndex("alt")][1]=d.renderInlineAsText(p.children,a,f),d.renderToken(s,c,a)},n.hardbreak=function(s,c,a){return a.xhtmlOut?`<br />
`:`<br>
`},n.softbreak=function(s,c,a){return a.breaks?a.xhtmlOut?`<br />
`:`<br>
`:`
`},n.text=function(s,c){return t(s[c].content)},n.html_block=function(s,c){return s[c].content},n.html_inline=function(s,c){return s[c].content};function o(){this.rules=r({},n)}return o.prototype.renderAttrs=function(c){var a,f,d;if(!c.attrs)return"";for(d="",a=0,f=c.attrs.length;a<f;a++)d+=" "+t(c.attrs[a][0])+'="'+t(c.attrs[a][1])+'"';return d},o.prototype.renderToken=function(c,a,f){var d,p="",m=!1,v=c[a];return v.hidden?"":(v.block&&v.nesting!==-1&&a&&c[a-1].hidden&&(p+=`
`),p+=(v.nesting===-1?"</":"<")+v.tag,p+=this.renderAttrs(v),v.nesting===0&&f.xhtmlOut&&(p+=" /"),v.block&&(m=!0,v.nesting===1&&a+1<c.length&&(d=c[a+1],(d.type==="inline"||d.hidden||d.nesting===-1&&d.tag===v.tag)&&(m=!1))),p+=m?`>
`:">",p)},o.prototype.renderInline=function(s,c,a){for(var f,d="",p=this.rules,m=0,v=s.length;m<v;m++)f=s[m].type,typeof p[f]<"u"?d+=p[f](s,m,c,a,this):d+=this.renderToken(s,m,c);return d},o.prototype.renderInlineAsText=function(s,c,a){for(var f="",d=0,p=s.length;d<p;d++)s[d].type==="text"?f+=s[d].content:s[d].type==="image"?f+=this.renderInlineAsText(s[d].children,c,a):s[d].type==="softbreak"&&(f+=`
`);return f},o.prototype.render=function(s,c,a){var f,d,p,m="",v=this.rules;for(f=0,d=s.length;f<d;f++)p=s[f].type,p==="inline"?m+=this.renderInline(s[f].children,c,a):typeof v[p]<"u"?m+=v[p](s,f,c,a,this):m+=this.renderToken(s,f,c,a);return m},fu=o,fu}var du,Rg;function Qf(){if(Rg)return du;Rg=1;function r(){this.__rules__=[],this.__cache__=null}return r.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},r.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(o){t.indexOf(o)<0&&t.push(o)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(o){o.enabled&&(n&&o.alt.indexOf(n)<0||e.__cache__[n].push(o.fn))})})},r.prototype.at=function(e,t,n){var o=this.__find__(e),s=n||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__[o].fn=t,this.__rules__[o].alt=s.alt||[],this.__cache__=null},r.prototype.before=function(e,t,n,o){var s=this.__find__(e),c=o||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s,0,{name:t,enabled:!0,fn:n,alt:c.alt||[]}),this.__cache__=null},r.prototype.after=function(e,t,n,o){var s=this.__find__(e),c=o||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s+1,0,{name:t,enabled:!0,fn:n,alt:c.alt||[]}),this.__cache__=null},r.prototype.push=function(e,t,n){var o=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null},r.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(o){var s=this.__find__(o);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[s].enabled=!0,n.push(o)},this),this.__cache__=null,n},r.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)},r.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(o){var s=this.__find__(o);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[s].enabled=!1,n.push(o)},this),this.__cache__=null,n},r.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]},du=r,du}var hu,Ig;function Ere(){if(Ig)return hu;Ig=1;var r=/\r\n?|\n/g,e=/\0/g;return hu=function(n){var o;o=n.src.replace(r,`
`),o=o.replace(e,"�"),n.src=o},hu}var pu,Pg;function _re(){return Pg||(Pg=1,pu=function(e){var t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}),pu}var mu,zg;function bre(){return zg||(zg=1,mu=function(e){var t=e.tokens,n,o,s;for(o=0,s=t.length;o<s;o++)n=t[o],n.type==="inline"&&e.md.inline.parse(n.content,e.md,e.env,n.children)}),mu}var gu,Lg;function Mre(){if(Lg)return gu;Lg=1;var r=Ee().arrayReplaceAt;function e(n){return/^<a[>\s]/i.test(n)}function t(n){return/^<\/a\s*>/i.test(n)}return gu=function(o){var s,c,a,f,d,p,m,v,k,x,w,C,E,A,b,T,I=o.tokens,O;if(o.md.options.linkify){for(c=0,a=I.length;c<a;c++)if(!(I[c].type!=="inline"||!o.md.linkify.pretest(I[c].content)))for(f=I[c].children,E=0,s=f.length-1;s>=0;s--){if(p=f[s],p.type==="link_close"){for(s--;f[s].level!==p.level&&f[s].type!=="link_open";)s--;continue}if(p.type==="html_inline"&&(e(p.content)&&E>0&&E--,t(p.content)&&E++),!(E>0)&&p.type==="text"&&o.md.linkify.test(p.content)){for(k=p.content,O=o.md.linkify.match(k),m=[],C=p.level,w=0,O.length>0&&O[0].index===0&&s>0&&f[s-1].type==="text_special"&&(O=O.slice(1)),v=0;v<O.length;v++)A=O[v].url,b=o.md.normalizeLink(A),o.md.validateLink(b)&&(T=O[v].text,O[v].schema?O[v].schema==="mailto:"&&!/^mailto:/i.test(T)?T=o.md.normalizeLinkText("mailto:"+T).replace(/^mailto:/,""):T=o.md.normalizeLinkText(T):T=o.md.normalizeLinkText("http://"+T).replace(/^http:\/\//,""),x=O[v].index,x>w&&(d=new o.Token("text","",0),d.content=k.slice(w,x),d.level=C,m.push(d)),d=new o.Token("link_open","a",1),d.attrs=[["href",b]],d.level=C++,d.markup="linkify",d.info="auto",m.push(d),d=new o.Token("text","",0),d.content=T,d.level=C,m.push(d),d=new o.Token("link_close","a",-1),d.level=--C,d.markup="linkify",d.info="auto",m.push(d),w=O[v].lastIndex);w<k.length&&(d=new o.Token("text","",0),d.content=k.slice(w),d.level=C,m.push(d)),I[c].children=f=r(f,s,m)}}}},gu}var yu,Fg;function Tre(){if(Fg)return yu;Fg=1;var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,e=/\((c|tm|r)\)/i,t=/\((c|tm|r)\)/ig,n={c:"©",r:"®",tm:"™"};function o(a,f){return n[f.toLowerCase()]}function s(a){var f,d,p=0;for(f=a.length-1;f>=0;f--)d=a[f],d.type==="text"&&!p&&(d.content=d.content.replace(t,o)),d.type==="link_open"&&d.info==="auto"&&p--,d.type==="link_close"&&d.info==="auto"&&p++}function c(a){var f,d,p=0;for(f=a.length-1;f>=0;f--)d=a[f],d.type==="text"&&!p&&r.test(d.content)&&(d.content=d.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),d.type==="link_open"&&d.info==="auto"&&p--,d.type==="link_close"&&d.info==="auto"&&p++}return yu=function(f){var d;if(f.md.options.typographer)for(d=f.tokens.length-1;d>=0;d--)f.tokens[d].type==="inline"&&(e.test(f.tokens[d].content)&&s(f.tokens[d].children),r.test(f.tokens[d].content)&&c(f.tokens[d].children))},yu}var ku,Bg;function Are(){if(Bg)return ku;Bg=1;var r=Ee().isWhiteSpace,e=Ee().isPunctChar,t=Ee().isMdAsciiPunct,n=/['"]/,o=/['"]/g,s="’";function c(f,d,p){return f.slice(0,d)+p+f.slice(d+1)}function a(f,d){var p,m,v,k,x,w,C,E,A,b,T,I,O,W,L,F,K,X,ae,xe,V;for(ae=[],p=0;p<f.length;p++){for(m=f[p],C=f[p].level,K=ae.length-1;K>=0&&!(ae[K].level<=C);K--);if(ae.length=K+1,m.type==="text"){v=m.content,x=0,w=v.length;e:for(;x<w&&(o.lastIndex=x,k=o.exec(v),!!k);){if(L=F=!0,x=k.index+1,X=k[0]==="'",A=32,k.index-1>=0)A=v.charCodeAt(k.index-1);else for(K=p-1;K>=0&&!(f[K].type==="softbreak"||f[K].type==="hardbreak");K--)if(f[K].content){A=f[K].content.charCodeAt(f[K].content.length-1);break}if(b=32,x<w)b=v.charCodeAt(x);else for(K=p+1;K<f.length&&!(f[K].type==="softbreak"||f[K].type==="hardbreak");K++)if(f[K].content){b=f[K].content.charCodeAt(0);break}if(T=t(A)||e(String.fromCharCode(A)),I=t(b)||e(String.fromCharCode(b)),O=r(A),W=r(b),W?L=!1:I&&(O||T||(L=!1)),O?F=!1:T&&(W||I||(F=!1)),b===34&&k[0]==='"'&&A>=48&&A<=57&&(F=L=!1),L&&F&&(L=T,F=I),!L&&!F){X&&(m.content=c(m.content,k.index,s));continue}if(F){for(K=ae.length-1;K>=0&&(E=ae[K],!(ae[K].level<C));K--)if(E.single===X&&ae[K].level===C){E=ae[K],X?(xe=d.md.options.quotes[2],V=d.md.options.quotes[3]):(xe=d.md.options.quotes[0],V=d.md.options.quotes[1]),m.content=c(m.content,k.index,V),f[E.token].content=c(f[E.token].content,E.pos,xe),x+=V.length-1,E.token===p&&(x+=xe.length-1),v=m.content,w=v.length,ae.length=K;continue e}}L?ae.push({token:p,pos:k.index,single:X,level:C}):F&&X&&(m.content=c(m.content,k.index,s))}}}}return ku=function(d){var p;if(d.md.options.typographer)for(p=d.tokens.length-1;p>=0;p--)d.tokens[p].type!=="inline"||!n.test(d.tokens[p].content)||a(d.tokens[p].children,d)},ku}var vu,qg;function Dre(){return qg||(qg=1,vu=function(e){var t,n,o,s,c,a,f=e.tokens;for(t=0,n=f.length;t<n;t++)if(f[t].type==="inline"){for(o=f[t].children,c=o.length,s=0;s<c;s++)o[s].type==="text_special"&&(o[s].type="text");for(s=a=0;s<c;s++)o[s].type==="text"&&s+1<c&&o[s+1].type==="text"?o[s+1].content=o[s].content+o[s+1].content:(s!==a&&(o[a]=o[s]),a++);s!==a&&(o.length=a)}}),vu}var xu,Vg;function Zf(){if(Vg)return xu;Vg=1;function r(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}return r.prototype.attrIndex=function(t){var n,o,s;if(!this.attrs)return-1;for(n=this.attrs,o=0,s=n.length;o<s;o++)if(n[o][0]===t)return o;return-1},r.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},r.prototype.attrSet=function(t,n){var o=this.attrIndex(t),s=[t,n];o<0?this.attrPush(s):this.attrs[o]=s},r.prototype.attrGet=function(t){var n=this.attrIndex(t),o=null;return n>=0&&(o=this.attrs[n][1]),o},r.prototype.attrJoin=function(t,n){var o=this.attrIndex(t);o<0?this.attrPush([t,n]):this.attrs[o][1]=this.attrs[o][1]+" "+n},xu=r,xu}var Su,$g;function Nre(){if($g)return Su;$g=1;var r=Zf();function e(t,n,o){this.src=t,this.env=o,this.tokens=[],this.inlineMode=!1,this.md=n}return e.prototype.Token=r,Su=e,Su}var wu,jg;function Ore(){if(jg)return wu;jg=1;var r=Qf(),e=[["normalize",Ere()],["block",_re()],["inline",bre()],["linkify",Mre()],["replacements",Tre()],["smartquotes",Are()],["text_join",Dre()]];function t(){this.ruler=new r;for(var n=0;n<e.length;n++)this.ruler.push(e[n][0],e[n][1])}return t.prototype.process=function(n){var o,s,c;for(c=this.ruler.getRules(""),o=0,s=c.length;o<s;o++)c[o](n)},t.prototype.State=Nre(),wu=t,wu}var Cu,Hg;function Rre(){if(Hg)return Cu;Hg=1;var r=Ee().isSpace;function e(n,o){var s=n.bMarks[o]+n.tShift[o],c=n.eMarks[o];return n.src.slice(s,c)}function t(n){var o=[],s=0,c=n.length,a,f=!1,d=0,p="";for(a=n.charCodeAt(s);s<c;)a===124&&(f?(p+=n.substring(d,s-1),d=s):(o.push(p+n.substring(d,s)),p="",d=s+1)),f=a===92,s++,a=n.charCodeAt(s);return o.push(p+n.substring(d)),o}return Cu=function(o,s,c,a){var f,d,p,m,v,k,x,w,C,E,A,b,T,I,O,W,L,F;if(s+2>c||(k=s+1,o.sCount[k]<o.blkIndent)||o.sCount[k]-o.blkIndent>=4||(p=o.bMarks[k]+o.tShift[k],p>=o.eMarks[k])||(L=o.src.charCodeAt(p++),L!==124&&L!==45&&L!==58)||p>=o.eMarks[k]||(F=o.src.charCodeAt(p++),F!==124&&F!==45&&F!==58&&!r(F))||L===45&&r(F))return!1;for(;p<o.eMarks[k];){if(f=o.src.charCodeAt(p),f!==124&&f!==45&&f!==58&&!r(f))return!1;p++}for(d=e(o,s+1),x=d.split("|"),E=[],m=0;m<x.length;m++){if(A=x[m].trim(),!A){if(m===0||m===x.length-1)continue;return!1}if(!/^:?-+:?$/.test(A))return!1;A.charCodeAt(A.length-1)===58?E.push(A.charCodeAt(0)===58?"center":"right"):A.charCodeAt(0)===58?E.push("left"):E.push("")}if(d=e(o,s).trim(),d.indexOf("|")===-1||o.sCount[s]-o.blkIndent>=4||(x=t(d),x.length&&x[0]===""&&x.shift(),x.length&&x[x.length-1]===""&&x.pop(),w=x.length,w===0||w!==E.length))return!1;if(a)return!0;for(I=o.parentType,o.parentType="table",W=o.md.block.ruler.getRules("blockquote"),C=o.push("table_open","table",1),C.map=b=[s,0],C=o.push("thead_open","thead",1),C.map=[s,s+1],C=o.push("tr_open","tr",1),C.map=[s,s+1],m=0;m<x.length;m++)C=o.push("th_open","th",1),E[m]&&(C.attrs=[["style","text-align:"+E[m]]]),C=o.push("inline","",0),C.content=x[m].trim(),C.children=[],C=o.push("th_close","th",-1);for(C=o.push("tr_close","tr",-1),C=o.push("thead_close","thead",-1),k=s+2;k<c&&!(o.sCount[k]<o.blkIndent);k++){for(O=!1,m=0,v=W.length;m<v;m++)if(W[m](o,k,c,!0)){O=!0;break}if(O||(d=e(o,k).trim(),!d)||o.sCount[k]-o.blkIndent>=4)break;for(x=t(d),x.length&&x[0]===""&&x.shift(),x.length&&x[x.length-1]===""&&x.pop(),k===s+2&&(C=o.push("tbody_open","tbody",1),C.map=T=[s+2,0]),C=o.push("tr_open","tr",1),C.map=[k,k+1],m=0;m<w;m++)C=o.push("td_open","td",1),E[m]&&(C.attrs=[["style","text-align:"+E[m]]]),C=o.push("inline","",0),C.content=x[m]?x[m].trim():"",C.children=[],C=o.push("td_close","td",-1);C=o.push("tr_close","tr",-1)}return T&&(C=o.push("tbody_close","tbody",-1),T[1]=k),C=o.push("table_close","table",-1),b[1]=k,o.parentType=I,o.line=k,!0},Cu}var Eu,Ug;function Ire(){return Ug||(Ug=1,Eu=function(e,t,n){var o,s,c;if(e.sCount[t]-e.blkIndent<4)return!1;for(s=o=t+1;o<n;){if(e.isEmpty(o)){o++;continue}if(e.sCount[o]-e.blkIndent>=4){o++,s=o;continue}break}return e.line=s,c=e.push("code_block","code",0),c.content=e.getLines(t,s,4+e.blkIndent,!1)+`
`,c.map=[t,e.line],!0}),Eu}var _u,Wg;function Pre(){return Wg||(Wg=1,_u=function(e,t,n,o){var s,c,a,f,d,p,m,v=!1,k=e.bMarks[t]+e.tShift[t],x=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||k+3>x||(s=e.src.charCodeAt(k),s!==126&&s!==96)||(d=k,k=e.skipChars(k,s),c=k-d,c<3)||(m=e.src.slice(d,k),a=e.src.slice(k,x),s===96&&a.indexOf(String.fromCharCode(s))>=0))return!1;if(o)return!0;for(f=t;f++,!(f>=n||(k=d=e.bMarks[f]+e.tShift[f],x=e.eMarks[f],k<x&&e.sCount[f]<e.blkIndent));)if(e.src.charCodeAt(k)===s&&!(e.sCount[f]-e.blkIndent>=4)&&(k=e.skipChars(k,s),!(k-d<c)&&(k=e.skipSpaces(k),!(k<x)))){v=!0;break}return c=e.sCount[t],e.line=f+(v?1:0),p=e.push("fence","code",0),p.info=a,p.content=e.getLines(t+1,f,c,!0),p.markup=m,p.map=[t,e.line],!0}),_u}var bu,Kg;function zre(){if(Kg)return bu;Kg=1;var r=Ee().isSpace;return bu=function(t,n,o,s){var c,a,f,d,p,m,v,k,x,w,C,E,A,b,T,I,O,W,L,F,K=t.lineMax,X=t.bMarks[n]+t.tShift[n],ae=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(X)!==62)return!1;if(s)return!0;for(w=[],C=[],b=[],T=[],W=t.md.block.ruler.getRules("blockquote"),A=t.parentType,t.parentType="blockquote",k=n;k<o&&(F=t.sCount[k]<t.blkIndent,X=t.bMarks[k]+t.tShift[k],ae=t.eMarks[k],!(X>=ae));k++){if(t.src.charCodeAt(X++)===62&&!F){for(d=t.sCount[k]+1,t.src.charCodeAt(X)===32?(X++,d++,c=!1,I=!0):t.src.charCodeAt(X)===9?(I=!0,(t.bsCount[k]+d)%4===3?(X++,d++,c=!1):c=!0):I=!1,x=d,w.push(t.bMarks[k]),t.bMarks[k]=X;X<ae&&(a=t.src.charCodeAt(X),r(a));){a===9?x+=4-(x+t.bsCount[k]+(c?1:0))%4:x++;X++}m=X>=ae,C.push(t.bsCount[k]),t.bsCount[k]=t.sCount[k]+1+(I?1:0),b.push(t.sCount[k]),t.sCount[k]=x-d,T.push(t.tShift[k]),t.tShift[k]=X-t.bMarks[k];continue}if(m)break;for(O=!1,f=0,p=W.length;f<p;f++)if(W[f](t,k,o,!0)){O=!0;break}if(O){t.lineMax=k,t.blkIndent!==0&&(w.push(t.bMarks[k]),C.push(t.bsCount[k]),T.push(t.tShift[k]),b.push(t.sCount[k]),t.sCount[k]-=t.blkIndent);break}w.push(t.bMarks[k]),C.push(t.bsCount[k]),T.push(t.tShift[k]),b.push(t.sCount[k]),t.sCount[k]=-1}for(E=t.blkIndent,t.blkIndent=0,L=t.push("blockquote_open","blockquote",1),L.markup=">",L.map=v=[n,0],t.md.block.tokenize(t,n,k),L=t.push("blockquote_close","blockquote",-1),L.markup=">",t.lineMax=K,t.parentType=A,v[1]=t.line,f=0;f<T.length;f++)t.bMarks[f+n]=w[f],t.tShift[f+n]=T[f],t.sCount[f+n]=b[f],t.bsCount[f+n]=C[f];return t.blkIndent=E,!0},bu}var Mu,Jg;function Lre(){if(Jg)return Mu;Jg=1;var r=Ee().isSpace;return Mu=function(t,n,o,s){var c,a,f,d,p=t.bMarks[n]+t.tShift[n],m=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(c=t.src.charCodeAt(p++),c!==42&&c!==45&&c!==95))return!1;for(a=1;p<m;){if(f=t.src.charCodeAt(p++),f!==c&&!r(f))return!1;f===c&&a++}return a<3?!1:(s||(t.line=n+1,d=t.push("hr","hr",0),d.map=[n,t.line],d.markup=Array(a+1).join(String.fromCharCode(c))),!0)},Mu}var Tu,Gg;function Fre(){if(Gg)return Tu;Gg=1;var r=Ee().isSpace;function e(o,s){var c,a,f,d;return a=o.bMarks[s]+o.tShift[s],f=o.eMarks[s],c=o.src.charCodeAt(a++),c!==42&&c!==45&&c!==43||a<f&&(d=o.src.charCodeAt(a),!r(d))?-1:a}function t(o,s){var c,a=o.bMarks[s]+o.tShift[s],f=a,d=o.eMarks[s];if(f+1>=d||(c=o.src.charCodeAt(f++),c<48||c>57))return-1;for(;;){if(f>=d)return-1;if(c=o.src.charCodeAt(f++),c>=48&&c<=57){if(f-a>=10)return-1;continue}if(c===41||c===46)break;return-1}return f<d&&(c=o.src.charCodeAt(f),!r(c))?-1:f}function n(o,s){var c,a,f=o.level+2;for(c=s+2,a=o.tokens.length-2;c<a;c++)o.tokens[c].level===f&&o.tokens[c].type==="paragraph_open"&&(o.tokens[c+2].hidden=!0,o.tokens[c].hidden=!0,c+=2)}return Tu=function(s,c,a,f){var d,p,m,v,k,x,w,C,E,A,b,T,I,O,W,L,F,K,X,ae,xe,V,he,pe,ke,G,Y,B=c,N=!1,q=!0;if(s.sCount[B]-s.blkIndent>=4||s.listIndent>=0&&s.sCount[B]-s.listIndent>=4&&s.sCount[B]<s.blkIndent)return!1;if(f&&s.parentType==="paragraph"&&s.sCount[B]>=s.blkIndent&&(N=!0),(V=t(s,B))>=0){if(w=!0,pe=s.bMarks[B]+s.tShift[B],I=Number(s.src.slice(pe,V-1)),N&&I!==1)return!1}else if((V=e(s,B))>=0)w=!1;else return!1;if(N&&s.skipSpaces(V)>=s.eMarks[B])return!1;if(f)return!0;for(T=s.src.charCodeAt(V-1),b=s.tokens.length,w?(Y=s.push("ordered_list_open","ol",1),I!==1&&(Y.attrs=[["start",I]])):Y=s.push("bullet_list_open","ul",1),Y.map=A=[B,0],Y.markup=String.fromCharCode(T),he=!1,G=s.md.block.ruler.getRules("list"),F=s.parentType,s.parentType="list";B<a;){for(xe=V,O=s.eMarks[B],x=W=s.sCount[B]+V-(s.bMarks[B]+s.tShift[B]);xe<O;){if(d=s.src.charCodeAt(xe),d===9)W+=4-(W+s.bsCount[B])%4;else if(d===32)W++;else break;xe++}if(p=xe,p>=O?k=1:k=W-x,k>4&&(k=1),v=x+k,Y=s.push("list_item_open","li",1),Y.markup=String.fromCharCode(T),Y.map=C=[B,0],w&&(Y.info=s.src.slice(pe,V-1)),ae=s.tight,X=s.tShift[B],K=s.sCount[B],L=s.listIndent,s.listIndent=s.blkIndent,s.blkIndent=v,s.tight=!0,s.tShift[B]=p-s.bMarks[B],s.sCount[B]=W,p>=O&&s.isEmpty(B+1)?s.line=Math.min(s.line+2,a):s.md.block.tokenize(s,B,a,!0),(!s.tight||he)&&(q=!1),he=s.line-B>1&&s.isEmpty(s.line-1),s.blkIndent=s.listIndent,s.listIndent=L,s.tShift[B]=X,s.sCount[B]=K,s.tight=ae,Y=s.push("list_item_close","li",-1),Y.markup=String.fromCharCode(T),B=s.line,C[1]=B,B>=a||s.sCount[B]<s.blkIndent||s.sCount[B]-s.blkIndent>=4)break;for(ke=!1,m=0,E=G.length;m<E;m++)if(G[m](s,B,a,!0)){ke=!0;break}if(ke)break;if(w){if(V=t(s,B),V<0)break;pe=s.bMarks[B]+s.tShift[B]}else if(V=e(s,B),V<0)break;if(T!==s.src.charCodeAt(V-1))break}return w?Y=s.push("ordered_list_close","ol",-1):Y=s.push("bullet_list_close","ul",-1),Y.markup=String.fromCharCode(T),A[1]=B,s.line=B,s.parentType=F,q&&n(s,b),!0},Tu}var Au,Qg;function Bre(){if(Qg)return Au;Qg=1;var r=Ee().normalizeReference,e=Ee().isSpace;return Au=function(n,o,s,c){var a,f,d,p,m,v,k,x,w,C,E,A,b,T,I,O,W=0,L=n.bMarks[o]+n.tShift[o],F=n.eMarks[o],K=o+1;if(n.sCount[o]-n.blkIndent>=4||n.src.charCodeAt(L)!==91)return!1;for(;++L<F;)if(n.src.charCodeAt(L)===93&&n.src.charCodeAt(L-1)!==92){if(L+1===F||n.src.charCodeAt(L+1)!==58)return!1;break}for(p=n.lineMax,I=n.md.block.ruler.getRules("reference"),C=n.parentType,n.parentType="reference";K<p&&!n.isEmpty(K);K++)if(!(n.sCount[K]-n.blkIndent>3)&&!(n.sCount[K]<0)){for(T=!1,v=0,k=I.length;v<k;v++)if(I[v](n,K,p,!0)){T=!0;break}if(T)break}for(b=n.getLines(o,K,n.blkIndent,!1).trim(),F=b.length,L=1;L<F;L++){if(a=b.charCodeAt(L),a===91)return!1;if(a===93){w=L;break}else a===10?W++:a===92&&(L++,L<F&&b.charCodeAt(L)===10&&W++)}if(w<0||b.charCodeAt(w+1)!==58)return!1;for(L=w+2;L<F;L++)if(a=b.charCodeAt(L),a===10)W++;else if(!e(a))break;if(E=n.md.helpers.parseLinkDestination(b,L,F),!E.ok||(m=n.md.normalizeLink(E.str),!n.md.validateLink(m)))return!1;for(L=E.pos,W+=E.lines,f=L,d=W,A=L;L<F;L++)if(a=b.charCodeAt(L),a===10)W++;else if(!e(a))break;for(E=n.md.helpers.parseLinkTitle(b,L,F),L<F&&A!==L&&E.ok?(O=E.str,L=E.pos,W+=E.lines):(O="",L=f,W=d);L<F&&(a=b.charCodeAt(L),!!e(a));)L++;if(L<F&&b.charCodeAt(L)!==10&&O)for(O="",L=f,W=d;L<F&&(a=b.charCodeAt(L),!!e(a));)L++;return L<F&&b.charCodeAt(L)!==10||(x=r(b.slice(1,w)),!x)?!1:(c||(typeof n.env.references>"u"&&(n.env.references={}),typeof n.env.references[x]>"u"&&(n.env.references[x]={title:O,href:m}),n.parentType=C,n.line=o+W+1),!0)},Au}var Du,Zg;function qre(){return Zg||(Zg=1,Du=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]),Du}var Gs={},Yg;function x1(){if(Yg)return Gs;Yg=1;var r="[a-zA-Z_:][a-zA-Z0-9:._-]*",e="[^\"'=<>`\\x00-\\x20]+",t="'[^']*'",n='"[^"]*"',o="(?:"+e+"|"+t+"|"+n+")",s="(?:\\s+"+r+"(?:\\s*=\\s*"+o+")?)",c="<[A-Za-z][A-Za-z0-9\\-]*"+s+"*\\s*\\/?>",a="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",f="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",d="<[?][\\s\\S]*?[?]>",p="<![A-Z]+\\s+[^>]*>",m="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",v=new RegExp("^(?:"+c+"|"+a+"|"+f+"|"+d+"|"+p+"|"+m+")"),k=new RegExp("^(?:"+c+"|"+a+")");return Gs.HTML_TAG_RE=v,Gs.HTML_OPEN_CLOSE_TAG_RE=k,Gs}var Nu,Xg;function Vre(){if(Xg)return Nu;Xg=1;var r=qre(),e=x1().HTML_OPEN_CLOSE_TAG_RE,t=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(e.source+"\\s*$"),/^$/,!1]];return Nu=function(o,s,c,a){var f,d,p,m,v=o.bMarks[s]+o.tShift[s],k=o.eMarks[s];if(o.sCount[s]-o.blkIndent>=4||!o.md.options.html||o.src.charCodeAt(v)!==60)return!1;for(m=o.src.slice(v,k),f=0;f<t.length&&!t[f][0].test(m);f++);if(f===t.length)return!1;if(a)return t[f][2];if(d=s+1,!t[f][1].test(m)){for(;d<c&&!(o.sCount[d]<o.blkIndent);d++)if(v=o.bMarks[d]+o.tShift[d],k=o.eMarks[d],m=o.src.slice(v,k),t[f][1].test(m)){m.length!==0&&d++;break}}return o.line=d,p=o.push("html_block","",0),p.map=[s,d],p.content=o.getLines(s,d,o.blkIndent,!0),!0},Nu}var Ou,e0;function $re(){if(e0)return Ou;e0=1;var r=Ee().isSpace;return Ou=function(t,n,o,s){var c,a,f,d,p=t.bMarks[n]+t.tShift[n],m=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(c=t.src.charCodeAt(p),c!==35||p>=m))return!1;for(a=1,c=t.src.charCodeAt(++p);c===35&&p<m&&a<=6;)a++,c=t.src.charCodeAt(++p);return a>6||p<m&&!r(c)?!1:(s||(m=t.skipSpacesBack(m,p),f=t.skipCharsBack(m,35,p),f>p&&r(t.src.charCodeAt(f-1))&&(m=f),t.line=n+1,d=t.push("heading_open","h"+String(a),1),d.markup="########".slice(0,a),d.map=[n,t.line],d=t.push("inline","",0),d.content=t.src.slice(p,m).trim(),d.map=[n,t.line],d.children=[],d=t.push("heading_close","h"+String(a),-1),d.markup="########".slice(0,a)),!0)},Ou}var Ru,t0;function jre(){return t0||(t0=1,Ru=function(e,t,n){var o,s,c,a,f,d,p,m,v,k=t+1,x,w=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(x=e.parentType,e.parentType="paragraph";k<n&&!e.isEmpty(k);k++)if(!(e.sCount[k]-e.blkIndent>3)){if(e.sCount[k]>=e.blkIndent&&(d=e.bMarks[k]+e.tShift[k],p=e.eMarks[k],d<p&&(v=e.src.charCodeAt(d),(v===45||v===61)&&(d=e.skipChars(d,v),d=e.skipSpaces(d),d>=p)))){m=v===61?1:2;break}if(!(e.sCount[k]<0)){for(s=!1,c=0,a=w.length;c<a;c++)if(w[c](e,k,n,!0)){s=!0;break}if(s)break}}return m?(o=e.getLines(t,k,e.blkIndent,!1).trim(),e.line=k+1,f=e.push("heading_open","h"+String(m),1),f.markup=String.fromCharCode(v),f.map=[t,e.line],f=e.push("inline","",0),f.content=o,f.map=[t,e.line-1],f.children=[],f=e.push("heading_close","h"+String(m),-1),f.markup=String.fromCharCode(v),e.parentType=x,!0):!1}),Ru}var Iu,n0;function Hre(){return n0||(n0=1,Iu=function(e,t,n){var o,s,c,a,f,d,p=t+1,m=e.md.block.ruler.getRules("paragraph");for(d=e.parentType,e.parentType="paragraph";p<n&&!e.isEmpty(p);p++)if(!(e.sCount[p]-e.blkIndent>3)&&!(e.sCount[p]<0)){for(s=!1,c=0,a=m.length;c<a;c++)if(m[c](e,p,n,!0)){s=!0;break}if(s)break}return o=e.getLines(t,p,e.blkIndent,!1).trim(),e.line=p,f=e.push("paragraph_open","p",1),f.map=[t,e.line],f=e.push("inline","",0),f.content=o,f.map=[t,e.line],f.children=[],f=e.push("paragraph_close","p",-1),e.parentType=d,!0}),Iu}var Pu,r0;function Ure(){if(r0)return Pu;r0=1;var r=Zf(),e=Ee().isSpace;function t(n,o,s,c){var a,f,d,p,m,v,k,x;for(this.src=n,this.md=o,this.env=s,this.tokens=c,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",f=this.src,x=!1,d=p=v=k=0,m=f.length;p<m;p++){if(a=f.charCodeAt(p),!x)if(e(a)){v++,a===9?k+=4-k%4:k++;continue}else x=!0;(a===10||p===m-1)&&(a!==10&&p++,this.bMarks.push(d),this.eMarks.push(p),this.tShift.push(v),this.sCount.push(k),this.bsCount.push(0),x=!1,v=0,k=0,d=p+1)}this.bMarks.push(f.length),this.eMarks.push(f.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}return t.prototype.push=function(n,o,s){var c=new r(n,o,s);return c.block=!0,s<0&&this.level--,c.level=this.level,s>0&&this.level++,this.tokens.push(c),c},t.prototype.isEmpty=function(o){return this.bMarks[o]+this.tShift[o]>=this.eMarks[o]},t.prototype.skipEmptyLines=function(o){for(var s=this.lineMax;o<s&&!(this.bMarks[o]+this.tShift[o]<this.eMarks[o]);o++);return o},t.prototype.skipSpaces=function(o){for(var s,c=this.src.length;o<c&&(s=this.src.charCodeAt(o),!!e(s));o++);return o},t.prototype.skipSpacesBack=function(o,s){if(o<=s)return o;for(;o>s;)if(!e(this.src.charCodeAt(--o)))return o+1;return o},t.prototype.skipChars=function(o,s){for(var c=this.src.length;o<c&&this.src.charCodeAt(o)===s;o++);return o},t.prototype.skipCharsBack=function(o,s,c){if(o<=c)return o;for(;o>c;)if(s!==this.src.charCodeAt(--o))return o+1;return o},t.prototype.getLines=function(o,s,c,a){var f,d,p,m,v,k,x,w=o;if(o>=s)return"";for(k=new Array(s-o),f=0;w<s;w++,f++){for(d=0,x=m=this.bMarks[w],w+1<s||a?v=this.eMarks[w]+1:v=this.eMarks[w];m<v&&d<c;){if(p=this.src.charCodeAt(m),e(p))p===9?d+=4-(d+this.bsCount[w])%4:d++;else if(m-x<this.tShift[w])d++;else break;m++}d>c?k[f]=new Array(d-c+1).join(" ")+this.src.slice(m,v):k[f]=this.src.slice(m,v)}return k.join("")},t.prototype.Token=r,Pu=t,Pu}var zu,o0;function Wre(){if(o0)return zu;o0=1;var r=Qf(),e=[["table",Rre(),["paragraph","reference"]],["code",Ire()],["fence",Pre(),["paragraph","reference","blockquote","list"]],["blockquote",zre(),["paragraph","reference","blockquote","list"]],["hr",Lre(),["paragraph","reference","blockquote","list"]],["list",Fre(),["paragraph","reference","blockquote"]],["reference",Bre()],["html_block",Vre(),["paragraph","reference","blockquote"]],["heading",$re(),["paragraph","reference","blockquote"]],["lheading",jre()],["paragraph",Hre()]];function t(){this.ruler=new r;for(var n=0;n<e.length;n++)this.ruler.push(e[n][0],e[n][1],{alt:(e[n][2]||[]).slice()})}return t.prototype.tokenize=function(n,o,s){for(var c,a,f,d=this.ruler.getRules(""),p=d.length,m=o,v=!1,k=n.md.options.maxNesting;m<s&&(n.line=m=n.skipEmptyLines(m),!(m>=s||n.sCount[m]<n.blkIndent));){if(n.level>=k){n.line=s;break}for(f=n.line,a=0;a<p;a++)if(c=d[a](n,m,s,!1),c){if(f>=n.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");n.tight=!v,n.isEmpty(n.line-1)&&(v=!0),m=n.line,m<s&&n.isEmpty(m)&&(v=!0,m++,n.line=m)}},t.prototype.parse=function(n,o,s,c){var a;n&&(a=new this.State(n,o,s,c),this.tokenize(a,a.line,a.lineMax))},t.prototype.State=Ure(),zu=t,zu}var Lu,i0;function Kre(){if(i0)return Lu;i0=1;function r(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}return Lu=function(t,n){for(var o=t.pos;o<t.posMax&&!r(t.src.charCodeAt(o));)o++;return o===t.pos?!1:(n||(t.pending+=t.src.slice(t.pos,o)),t.pos=o,!0)},Lu}var Fu,s0;function Jre(){if(s0)return Fu;s0=1;var r=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;return Fu=function(t,n){var o,s,c,a,f,d,p,m;return!t.md.options.linkify||t.linkLevel>0||(o=t.pos,s=t.posMax,o+3>s)||t.src.charCodeAt(o)!==58||t.src.charCodeAt(o+1)!==47||t.src.charCodeAt(o+2)!==47||(c=t.pending.match(r),!c)||(a=c[1],f=t.md.linkify.matchAtStart(t.src.slice(o-a.length)),!f)||(d=f.url,d.length<=a.length)||(d=d.replace(/\*+$/,""),p=t.md.normalizeLink(d),!t.md.validateLink(p))?!1:(n||(t.pending=t.pending.slice(0,-a.length),m=t.push("link_open","a",1),m.attrs=[["href",p]],m.markup="linkify",m.info="auto",m=t.push("text","",0),m.content=t.md.normalizeLinkText(d),m=t.push("link_close","a",-1),m.markup="linkify",m.info="auto"),t.pos+=d.length-a.length,!0)},Fu}var Bu,l0;function Gre(){if(l0)return Bu;l0=1;var r=Ee().isSpace;return Bu=function(t,n){var o,s,c,a=t.pos;if(t.src.charCodeAt(a)!==10)return!1;if(o=t.pending.length-1,s=t.posMax,!n)if(o>=0&&t.pending.charCodeAt(o)===32)if(o>=1&&t.pending.charCodeAt(o-1)===32){for(c=o-1;c>=1&&t.pending.charCodeAt(c-1)===32;)c--;t.pending=t.pending.slice(0,c),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(a++;a<s&&r(t.src.charCodeAt(a));)a++;return t.pos=a,!0},Bu}var qu,c0;function Qre(){if(c0)return qu;c0=1;for(var r=Ee().isSpace,e=[],t=0;t<256;t++)e.push(0);return"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(n){e[n.charCodeAt(0)]=1}),qu=function(o,s){var c,a,f,d,p,m=o.pos,v=o.posMax;if(o.src.charCodeAt(m)!==92||(m++,m>=v))return!1;if(c=o.src.charCodeAt(m),c===10){for(s||o.push("hardbreak","br",0),m++;m<v&&(c=o.src.charCodeAt(m),!!r(c));)m++;return o.pos=m,!0}return d=o.src[m],c>=55296&&c<=56319&&m+1<v&&(a=o.src.charCodeAt(m+1),a>=56320&&a<=57343&&(d+=o.src[m+1],m++)),f="\\"+d,s||(p=o.push("text_special","",0),c<256&&e[c]!==0?p.content=d:p.content=f,p.markup=f,p.info="escape"),o.pos=m+1,!0},qu}var Vu,a0;function Zre(){return a0||(a0=1,Vu=function(e,t){var n,o,s,c,a,f,d,p,m=e.pos,v=e.src.charCodeAt(m);if(v!==96)return!1;for(n=m,m++,o=e.posMax;m<o&&e.src.charCodeAt(m)===96;)m++;if(s=e.src.slice(n,m),d=s.length,e.backticksScanned&&(e.backticks[d]||0)<=n)return t||(e.pending+=s),e.pos+=d,!0;for(f=m;(a=e.src.indexOf("`",f))!==-1;){for(f=a+1;f<o&&e.src.charCodeAt(f)===96;)f++;if(p=f-a,p===d)return t||(c=e.push("code_inline","code",0),c.markup=s,c.content=e.src.slice(m,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=f,!0;e.backticks[p]=a}return e.backticksScanned=!0,t||(e.pending+=s),e.pos+=d,!0}),Vu}var Qs={},u0;function f0(){if(u0)return Qs;u0=1,Qs.tokenize=function(t,n){var o,s,c,a,f,d=t.pos,p=t.src.charCodeAt(d);if(n||p!==126||(s=t.scanDelims(t.pos,!0),a=s.length,f=String.fromCharCode(p),a<2))return!1;for(a%2&&(c=t.push("text","",0),c.content=f,a--),o=0;o<a;o+=2)c=t.push("text","",0),c.content=f+f,t.delimiters.push({marker:p,length:0,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0};function r(e,t){var n,o,s,c,a,f=[],d=t.length;for(n=0;n<d;n++)s=t[n],s.marker===126&&s.end!==-1&&(c=t[s.end],a=e.tokens[s.token],a.type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",a=e.tokens[c.token],a.type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="",e.tokens[c.token-1].type==="text"&&e.tokens[c.token-1].content==="~"&&f.push(c.token-1));for(;f.length;){for(n=f.pop(),o=n+1;o<e.tokens.length&&e.tokens[o].type==="s_close";)o++;o--,n!==o&&(a=e.tokens[o],e.tokens[o]=e.tokens[n],e.tokens[n]=a)}}return Qs.postProcess=function(t){var n,o=t.tokens_meta,s=t.tokens_meta.length;for(r(t,t.delimiters),n=0;n<s;n++)o[n]&&o[n].delimiters&&r(t,o[n].delimiters)},Qs}var Zs={},d0;function h0(){if(d0)return Zs;d0=1,Zs.tokenize=function(t,n){var o,s,c,a=t.pos,f=t.src.charCodeAt(a);if(n||f!==95&&f!==42)return!1;for(s=t.scanDelims(t.pos,f===42),o=0;o<s.length;o++)c=t.push("text","",0),c.content=String.fromCharCode(f),t.delimiters.push({marker:f,length:s.length,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0};function r(e,t){var n,o,s,c,a,f,d=t.length;for(n=d-1;n>=0;n--)o=t[n],!(o.marker!==95&&o.marker!==42)&&o.end!==-1&&(s=t[o.end],f=n>0&&t[n-1].end===o.end+1&&t[n-1].marker===o.marker&&t[n-1].token===o.token-1&&t[o.end+1].token===s.token+1,a=String.fromCharCode(o.marker),c=e.tokens[o.token],c.type=f?"strong_open":"em_open",c.tag=f?"strong":"em",c.nesting=1,c.markup=f?a+a:a,c.content="",c=e.tokens[s.token],c.type=f?"strong_close":"em_close",c.tag=f?"strong":"em",c.nesting=-1,c.markup=f?a+a:a,c.content="",f&&(e.tokens[t[n-1].token].content="",e.tokens[t[o.end+1].token].content="",n--))}return Zs.postProcess=function(t){var n,o=t.tokens_meta,s=t.tokens_meta.length;for(r(t,t.delimiters),n=0;n<s;n++)o[n]&&o[n].delimiters&&r(t,o[n].delimiters)},Zs}var $u,p0;function Yre(){if(p0)return $u;p0=1;var r=Ee().normalizeReference,e=Ee().isSpace;return $u=function(n,o){var s,c,a,f,d,p,m,v,k,x="",w="",C=n.pos,E=n.posMax,A=n.pos,b=!0;if(n.src.charCodeAt(n.pos)!==91||(d=n.pos+1,f=n.md.helpers.parseLinkLabel(n,n.pos,!0),f<0))return!1;if(p=f+1,p<E&&n.src.charCodeAt(p)===40){for(b=!1,p++;p<E&&(c=n.src.charCodeAt(p),!(!e(c)&&c!==10));p++);if(p>=E)return!1;if(A=p,m=n.md.helpers.parseLinkDestination(n.src,p,n.posMax),m.ok){for(x=n.md.normalizeLink(m.str),n.md.validateLink(x)?p=m.pos:x="",A=p;p<E&&(c=n.src.charCodeAt(p),!(!e(c)&&c!==10));p++);if(m=n.md.helpers.parseLinkTitle(n.src,p,n.posMax),p<E&&A!==p&&m.ok)for(w=m.str,p=m.pos;p<E&&(c=n.src.charCodeAt(p),!(!e(c)&&c!==10));p++);}(p>=E||n.src.charCodeAt(p)!==41)&&(b=!0),p++}if(b){if(typeof n.env.references>"u")return!1;if(p<E&&n.src.charCodeAt(p)===91?(A=p+1,p=n.md.helpers.parseLinkLabel(n,p),p>=0?a=n.src.slice(A,p++):p=f+1):p=f+1,a||(a=n.src.slice(d,f)),v=n.env.references[r(a)],!v)return n.pos=C,!1;x=v.href,w=v.title}return o||(n.pos=d,n.posMax=f,k=n.push("link_open","a",1),k.attrs=s=[["href",x]],w&&s.push(["title",w]),n.linkLevel++,n.md.inline.tokenize(n),n.linkLevel--,k=n.push("link_close","a",-1)),n.pos=p,n.posMax=E,!0},$u}var ju,m0;function Xre(){if(m0)return ju;m0=1;var r=Ee().normalizeReference,e=Ee().isSpace;return ju=function(n,o){var s,c,a,f,d,p,m,v,k,x,w,C,E,A="",b=n.pos,T=n.posMax;if(n.src.charCodeAt(n.pos)!==33||n.src.charCodeAt(n.pos+1)!==91||(p=n.pos+2,d=n.md.helpers.parseLinkLabel(n,n.pos+1,!1),d<0))return!1;if(m=d+1,m<T&&n.src.charCodeAt(m)===40){for(m++;m<T&&(c=n.src.charCodeAt(m),!(!e(c)&&c!==10));m++);if(m>=T)return!1;for(E=m,k=n.md.helpers.parseLinkDestination(n.src,m,n.posMax),k.ok&&(A=n.md.normalizeLink(k.str),n.md.validateLink(A)?m=k.pos:A=""),E=m;m<T&&(c=n.src.charCodeAt(m),!(!e(c)&&c!==10));m++);if(k=n.md.helpers.parseLinkTitle(n.src,m,n.posMax),m<T&&E!==m&&k.ok)for(x=k.str,m=k.pos;m<T&&(c=n.src.charCodeAt(m),!(!e(c)&&c!==10));m++);else x="";if(m>=T||n.src.charCodeAt(m)!==41)return n.pos=b,!1;m++}else{if(typeof n.env.references>"u")return!1;if(m<T&&n.src.charCodeAt(m)===91?(E=m+1,m=n.md.helpers.parseLinkLabel(n,m),m>=0?f=n.src.slice(E,m++):m=d+1):m=d+1,f||(f=n.src.slice(p,d)),v=n.env.references[r(f)],!v)return n.pos=b,!1;A=v.href,x=v.title}return o||(a=n.src.slice(p,d),n.md.inline.parse(a,n.md,n.env,C=[]),w=n.push("image","img",0),w.attrs=s=[["src",A],["alt",""]],w.children=C,w.content=a,x&&s.push(["title",x])),n.pos=m,n.posMax=T,!0},ju}var Hu,g0;function eoe(){if(g0)return Hu;g0=1;var r=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,e=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;return Hu=function(n,o){var s,c,a,f,d,p,m=n.pos;if(n.src.charCodeAt(m)!==60)return!1;for(d=n.pos,p=n.posMax;;){if(++m>=p||(f=n.src.charCodeAt(m),f===60))return!1;if(f===62)break}return s=n.src.slice(d+1,m),e.test(s)?(c=n.md.normalizeLink(s),n.md.validateLink(c)?(o||(a=n.push("link_open","a",1),a.attrs=[["href",c]],a.markup="autolink",a.info="auto",a=n.push("text","",0),a.content=n.md.normalizeLinkText(s),a=n.push("link_close","a",-1),a.markup="autolink",a.info="auto"),n.pos+=s.length+2,!0):!1):r.test(s)?(c=n.md.normalizeLink("mailto:"+s),n.md.validateLink(c)?(o||(a=n.push("link_open","a",1),a.attrs=[["href",c]],a.markup="autolink",a.info="auto",a=n.push("text","",0),a.content=n.md.normalizeLinkText(s),a=n.push("link_close","a",-1),a.markup="autolink",a.info="auto"),n.pos+=s.length+2,!0):!1):!1},Hu}var Uu,y0;function toe(){if(y0)return Uu;y0=1;var r=x1().HTML_TAG_RE;function e(o){return/^<a[>\s]/i.test(o)}function t(o){return/^<\/a\s*>/i.test(o)}function n(o){var s=o|32;return s>=97&&s<=122}return Uu=function(s,c){var a,f,d,p,m=s.pos;return!s.md.options.html||(d=s.posMax,s.src.charCodeAt(m)!==60||m+2>=d)||(a=s.src.charCodeAt(m+1),a!==33&&a!==63&&a!==47&&!n(a))||(f=s.src.slice(m).match(r),!f)?!1:(c||(p=s.push("html_inline","",0),p.content=f[0],e(p.content)&&s.linkLevel++,t(p.content)&&s.linkLevel--),s.pos+=f[0].length,!0)},Uu}var Wu,k0;function noe(){if(k0)return Wu;k0=1;var r=m1(),e=Ee().has,t=Ee().isValidEntityCode,n=Ee().fromCodePoint,o=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,s=/^&([a-z][a-z0-9]{1,31});/i;return Wu=function(a,f){var d,p,m,v,k=a.pos,x=a.posMax;if(a.src.charCodeAt(k)!==38||k+1>=x)return!1;if(d=a.src.charCodeAt(k+1),d===35){if(m=a.src.slice(k).match(o),m)return f||(p=m[1][0].toLowerCase()==="x"?parseInt(m[1].slice(1),16):parseInt(m[1],10),v=a.push("text_special","",0),v.content=t(p)?n(p):n(65533),v.markup=m[0],v.info="entity"),a.pos+=m[0].length,!0}else if(m=a.src.slice(k).match(s),m&&e(r,m[1]))return f||(v=a.push("text_special","",0),v.content=r[m[1]],v.markup=m[0],v.info="entity"),a.pos+=m[0].length,!0;return!1},Wu}var Ku,v0;function roe(){if(v0)return Ku;v0=1;function r(e){var t,n,o,s,c,a,f,d,p={},m=e.length;if(m){var v=0,k=-2,x=[];for(t=0;t<m;t++)if(o=e[t],x.push(0),(e[v].marker!==o.marker||k!==o.token-1)&&(v=t),k=o.token,o.length=o.length||0,!!o.close){for(p.hasOwnProperty(o.marker)||(p[o.marker]=[-1,-1,-1,-1,-1,-1]),c=p[o.marker][(o.open?3:0)+o.length%3],n=v-x[v]-1,a=n;n>c;n-=x[n]+1)if(s=e[n],s.marker===o.marker&&s.open&&s.end<0&&(f=!1,(s.close||o.open)&&(s.length+o.length)%3===0&&(s.length%3!==0||o.length%3!==0)&&(f=!0),!f)){d=n>0&&!e[n-1].open?x[n-1]+1:0,x[t]=t-n+d,x[n]=d,o.open=!1,s.end=t,s.close=!1,a=-1,k=-2;break}a!==-1&&(p[o.marker][(o.open?3:0)+(o.length||0)%3]=a)}}}return Ku=function(t){var n,o=t.tokens_meta,s=t.tokens_meta.length;for(r(t.delimiters),n=0;n<s;n++)o[n]&&o[n].delimiters&&r(o[n].delimiters)},Ku}var Ju,x0;function ooe(){return x0||(x0=1,Ju=function(e){var t,n,o=0,s=e.tokens,c=e.tokens.length;for(t=n=0;t<c;t++)s[t].nesting<0&&o--,s[t].level=o,s[t].nesting>0&&o++,s[t].type==="text"&&t+1<c&&s[t+1].type==="text"?s[t+1].content=s[t].content+s[t+1].content:(t!==n&&(s[n]=s[t]),n++);t!==n&&(s.length=n)}),Ju}var Gu,S0;function ioe(){if(S0)return Gu;S0=1;var r=Zf(),e=Ee().isWhiteSpace,t=Ee().isPunctChar,n=Ee().isMdAsciiPunct;function o(s,c,a,f){this.src=s,this.env=a,this.md=c,this.tokens=f,this.tokens_meta=Array(f.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}return o.prototype.pushPending=function(){var s=new r("text","",0);return s.content=this.pending,s.level=this.pendingLevel,this.tokens.push(s),this.pending="",s},o.prototype.push=function(s,c,a){this.pending&&this.pushPending();var f=new r(s,c,a),d=null;return a<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),f.level=this.level,a>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],d={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(f),this.tokens_meta.push(d),f},o.prototype.scanDelims=function(s,c){var a=s,f,d,p,m,v,k,x,w,C,E=!0,A=!0,b=this.posMax,T=this.src.charCodeAt(s);for(f=s>0?this.src.charCodeAt(s-1):32;a<b&&this.src.charCodeAt(a)===T;)a++;return p=a-s,d=a<b?this.src.charCodeAt(a):32,x=n(f)||t(String.fromCharCode(f)),C=n(d)||t(String.fromCharCode(d)),k=e(f),w=e(d),w?E=!1:C&&(k||x||(E=!1)),k?A=!1:x&&(w||C||(A=!1)),c?(m=E,v=A):(m=E&&(!A||x),v=A&&(!E||C)),{can_open:m,can_close:v,length:p}},o.prototype.Token=r,Gu=o,Gu}var Qu,w0;function soe(){if(w0)return Qu;w0=1;var r=Qf(),e=[["text",Kre()],["linkify",Jre()],["newline",Gre()],["escape",Qre()],["backticks",Zre()],["strikethrough",f0().tokenize],["emphasis",h0().tokenize],["link",Yre()],["image",Xre()],["autolink",eoe()],["html_inline",toe()],["entity",noe()]],t=[["balance_pairs",roe()],["strikethrough",f0().postProcess],["emphasis",h0().postProcess],["fragments_join",ooe()]];function n(){var o;for(this.ruler=new r,o=0;o<e.length;o++)this.ruler.push(e[o][0],e[o][1]);for(this.ruler2=new r,o=0;o<t.length;o++)this.ruler2.push(t[o][0],t[o][1])}return n.prototype.skipToken=function(o){var s,c,a=o.pos,f=this.ruler.getRules(""),d=f.length,p=o.md.options.maxNesting,m=o.cache;if(typeof m[a]<"u"){o.pos=m[a];return}if(o.level<p){for(c=0;c<d;c++)if(o.level++,s=f[c](o,!0),o.level--,s){if(a>=o.pos)throw new Error("inline rule didn't increment state.pos");break}}else o.pos=o.posMax;s||o.pos++,m[a]=o.pos},n.prototype.tokenize=function(o){for(var s,c,a,f=this.ruler.getRules(""),d=f.length,p=o.posMax,m=o.md.options.maxNesting;o.pos<p;){if(a=o.pos,o.level<m){for(c=0;c<d;c++)if(s=f[c](o,!1),s){if(a>=o.pos)throw new Error("inline rule didn't increment state.pos");break}}if(s){if(o.pos>=p)break;continue}o.pending+=o.src[o.pos++]}o.pending&&o.pushPending()},n.prototype.parse=function(o,s,c,a){var f,d,p,m=new this.State(o,s,c,a);for(this.tokenize(m),d=this.ruler2.getRules(""),p=d.length,f=0;f<p;f++)d[f](m)},n.prototype.State=ioe(),Qu=n,Qu}var Zu,C0;function loe(){return C0||(C0=1,Zu=function(r){var e={};r=r||{},e.src_Any=y1().source,e.src_Cc=k1().source,e.src_Z=v1().source,e.src_P=Gf().source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");var t="[><｜]";return e.src_pseudo_letter="(?:(?!"+t+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+t+"|"+e.src_ZPCc+")(?!"+(r["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+t+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(r["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+t+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}),Zu}var Yu,E0;function coe(){if(E0)return Yu;E0=1;function r(b){var T=Array.prototype.slice.call(arguments,1);return T.forEach(function(I){I&&Object.keys(I).forEach(function(O){b[O]=I[O]})}),b}function e(b){return Object.prototype.toString.call(b)}function t(b){return e(b)==="[object String]"}function n(b){return e(b)==="[object Object]"}function o(b){return e(b)==="[object RegExp]"}function s(b){return e(b)==="[object Function]"}function c(b){return b.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var a={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function f(b){return Object.keys(b||{}).reduce(function(T,I){return T||a.hasOwnProperty(I)},!1)}var d={"http:":{validate:function(b,T,I){var O=b.slice(T);return I.re.http||(I.re.http=new RegExp("^\\/\\/"+I.re.src_auth+I.re.src_host_port_strict+I.re.src_path,"i")),I.re.http.test(O)?O.match(I.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(b,T,I){var O=b.slice(T);return I.re.no_http||(I.re.no_http=new RegExp("^"+I.re.src_auth+"(?:localhost|(?:(?:"+I.re.src_domain+")\\.)+"+I.re.src_domain_root+")"+I.re.src_port+I.re.src_host_terminator+I.re.src_path,"i")),I.re.no_http.test(O)?T>=3&&b[T-3]===":"||T>=3&&b[T-3]==="/"?0:O.match(I.re.no_http)[0].length:0}},"mailto:":{validate:function(b,T,I){var O=b.slice(T);return I.re.mailto||(I.re.mailto=new RegExp("^"+I.re.src_email_name+"@"+I.re.src_host_strict,"i")),I.re.mailto.test(O)?O.match(I.re.mailto)[0].length:0}}},p="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",m="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function v(b){b.__index__=-1,b.__text_cache__=""}function k(b){return function(T,I){var O=T.slice(I);return b.test(O)?O.match(b)[0].length:0}}function x(){return function(b,T){T.normalize(b)}}function w(b){var T=b.re=loe()(b.__opts__),I=b.__tlds__.slice();b.onCompile(),b.__tlds_replaced__||I.push(p),I.push(T.src_xn),T.src_tlds=I.join("|");function O(K){return K.replace("%TLDS%",T.src_tlds)}T.email_fuzzy=RegExp(O(T.tpl_email_fuzzy),"i"),T.link_fuzzy=RegExp(O(T.tpl_link_fuzzy),"i"),T.link_no_ip_fuzzy=RegExp(O(T.tpl_link_no_ip_fuzzy),"i"),T.host_fuzzy_test=RegExp(O(T.tpl_host_fuzzy_test),"i");var W=[];b.__compiled__={};function L(K,X){throw new Error('(LinkifyIt) Invalid schema "'+K+'": '+X)}Object.keys(b.__schemas__).forEach(function(K){var X=b.__schemas__[K];if(X!==null){var ae={validate:null,link:null};if(b.__compiled__[K]=ae,n(X)){o(X.validate)?ae.validate=k(X.validate):s(X.validate)?ae.validate=X.validate:L(K,X),s(X.normalize)?ae.normalize=X.normalize:X.normalize?L(K,X):ae.normalize=x();return}if(t(X)){W.push(K);return}L(K,X)}}),W.forEach(function(K){b.__compiled__[b.__schemas__[K]]&&(b.__compiled__[K].validate=b.__compiled__[b.__schemas__[K]].validate,b.__compiled__[K].normalize=b.__compiled__[b.__schemas__[K]].normalize)}),b.__compiled__[""]={validate:null,normalize:x()};var F=Object.keys(b.__compiled__).filter(function(K){return K.length>0&&b.__compiled__[K]}).map(c).join("|");b.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+T.src_ZPCc+"))("+F+")","i"),b.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+T.src_ZPCc+"))("+F+")","ig"),b.re.schema_at_start=RegExp("^"+b.re.schema_search.source,"i"),b.re.pretest=RegExp("("+b.re.schema_test.source+")|("+b.re.host_fuzzy_test.source+")|@","i"),v(b)}function C(b,T){var I=b.__index__,O=b.__last_index__,W=b.__text_cache__.slice(I,O);this.schema=b.__schema__.toLowerCase(),this.index=I+T,this.lastIndex=O+T,this.raw=W,this.text=W,this.url=W}function E(b,T){var I=new C(b,T);return b.__compiled__[I.schema].normalize(I,b),I}function A(b,T){if(!(this instanceof A))return new A(b,T);T||f(b)&&(T=b,b={}),this.__opts__=r({},a,T),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},d,b),this.__compiled__={},this.__tlds__=m,this.__tlds_replaced__=!1,this.re={},w(this)}return A.prototype.add=function(T,I){return this.__schemas__[T]=I,w(this),this},A.prototype.set=function(T){return this.__opts__=r(this.__opts__,T),this},A.prototype.test=function(T){if(this.__text_cache__=T,this.__index__=-1,!T.length)return!1;var I,O,W,L,F,K,X,ae,xe;if(this.re.schema_test.test(T)){for(X=this.re.schema_search,X.lastIndex=0;(I=X.exec(T))!==null;)if(L=this.testSchemaAt(T,I[2],X.lastIndex),L){this.__schema__=I[2],this.__index__=I.index+I[1].length,this.__last_index__=I.index+I[0].length+L;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(ae=T.search(this.re.host_fuzzy_test),ae>=0&&(this.__index__<0||ae<this.__index__)&&(O=T.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(F=O.index+O[1].length,(this.__index__<0||F<this.__index__)&&(this.__schema__="",this.__index__=F,this.__last_index__=O.index+O[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(xe=T.indexOf("@"),xe>=0&&(W=T.match(this.re.email_fuzzy))!==null&&(F=W.index+W[1].length,K=W.index+W[0].length,(this.__index__<0||F<this.__index__||F===this.__index__&&K>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=F,this.__last_index__=K))),this.__index__>=0},A.prototype.pretest=function(T){return this.re.pretest.test(T)},A.prototype.testSchemaAt=function(T,I,O){return this.__compiled__[I.toLowerCase()]?this.__compiled__[I.toLowerCase()].validate(T,O,this):0},A.prototype.match=function(T){var I=0,O=[];this.__index__>=0&&this.__text_cache__===T&&(O.push(E(this,I)),I=this.__last_index__);for(var W=I?T.slice(I):T;this.test(W);)O.push(E(this,I)),W=W.slice(this.__last_index__),I+=this.__last_index__;return O.length?O:null},A.prototype.matchAtStart=function(T){if(this.__text_cache__=T,this.__index__=-1,!T.length)return null;var I=this.re.schema_at_start.exec(T);if(!I)return null;var O=this.testSchemaAt(T,I[2],I[0].length);return O?(this.__schema__=I[2],this.__index__=I.index+I[1].length,this.__last_index__=I.index+I[0].length+O,E(this,0)):null},A.prototype.tlds=function(T,I){return T=Array.isArray(T)?T:[T],I?(this.__tlds__=this.__tlds__.concat(T).sort().filter(function(O,W,L){return O!==L[W-1]}).reverse(),w(this),this):(this.__tlds__=T.slice(),this.__tlds_replaced__=!0,w(this),this)},A.prototype.normalize=function(T){T.schema||(T.url="http://"+T.url),T.schema==="mailto:"&&!/^mailto:/i.test(T.url)&&(T.url="mailto:"+T.url)},A.prototype.onCompile=function(){},Yu=A,Yu}const aoe={},uoe=Object.freeze(Object.defineProperty({__proto__:null,default:aoe},Symbol.toStringTag,{value:"Module"})),foe=yv(uoe);var Xu,_0;function doe(){return _0||(_0=1,Xu={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}),Xu}var ef,b0;function hoe(){return b0||(b0=1,ef={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}}),ef}var tf,M0;function poe(){return M0||(M0=1,tf={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}),tf}var nf,T0;function moe(){if(T0)return nf;T0=1;var r=Ee(),e=wre(),t=Cre(),n=Ore(),o=Wre(),s=soe(),c=coe(),a=g1(),f=foe,d={default:doe(),zero:hoe(),commonmark:poe()},p=/^(vbscript|javascript|file|data):/,m=/^data:image\/(gif|png|jpeg|webp);/;function v(E){var A=E.trim().toLowerCase();return p.test(A)?!!m.test(A):!0}var k=["http:","https:","mailto:"];function x(E){var A=a.parse(E,!0);if(A.hostname&&(!A.protocol||k.indexOf(A.protocol)>=0))try{A.hostname=f.toASCII(A.hostname)}catch{}return a.encode(a.format(A))}function w(E){var A=a.parse(E,!0);if(A.hostname&&(!A.protocol||k.indexOf(A.protocol)>=0))try{A.hostname=f.toUnicode(A.hostname)}catch{}return a.decode(a.format(A),a.decode.defaultChars+"%")}function C(E,A){if(!(this instanceof C))return new C(E,A);A||r.isString(E)||(A=E||{},E="default"),this.inline=new s,this.block=new o,this.core=new n,this.renderer=new t,this.linkify=new c,this.validateLink=v,this.normalizeLink=x,this.normalizeLinkText=w,this.utils=r,this.helpers=r.assign({},e),this.options={},this.configure(E),A&&this.set(A)}return C.prototype.set=function(E){return r.assign(this.options,E),this},C.prototype.configure=function(E){var A=this,b;if(r.isString(E)&&(b=E,E=d[b],!E))throw new Error('Wrong `markdown-it` preset "'+b+'", check name');if(!E)throw new Error("Wrong `markdown-it` preset, can't be empty");return E.options&&A.set(E.options),E.components&&Object.keys(E.components).forEach(function(T){E.components[T].rules&&A[T].ruler.enableOnly(E.components[T].rules),E.components[T].rules2&&A[T].ruler2.enableOnly(E.components[T].rules2)}),this},C.prototype.enable=function(E,A){var b=[];Array.isArray(E)||(E=[E]),["core","block","inline"].forEach(function(I){b=b.concat(this[I].ruler.enable(E,!0))},this),b=b.concat(this.inline.ruler2.enable(E,!0));var T=E.filter(function(I){return b.indexOf(I)<0});if(T.length&&!A)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+T);return this},C.prototype.disable=function(E,A){var b=[];Array.isArray(E)||(E=[E]),["core","block","inline"].forEach(function(I){b=b.concat(this[I].ruler.disable(E,!0))},this),b=b.concat(this.inline.ruler2.disable(E,!0));var T=E.filter(function(I){return b.indexOf(I)<0});if(T.length&&!A)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+T);return this},C.prototype.use=function(E){var A=[this].concat(Array.prototype.slice.call(arguments,1));return E.apply(E,A),this},C.prototype.parse=function(E,A){if(typeof E!="string")throw new Error("Input data should be a String");var b=new this.core.State(E,this,A);return this.core.process(b),b.tokens},C.prototype.render=function(E,A){return A=A||{},this.renderer.render(this.parse(E,A),this.options,A)},C.prototype.parseInline=function(E,A){var b=new this.core.State(E,this,A);return b.inlineMode=!0,this.core.process(b),b.tokens},C.prototype.renderInline=function(E,A){return A=A||{},this.renderer.render(this.parseInline(E,A),this.options,A)},nf=C,nf}var rf,A0;function goe(){return A0||(A0=1,rf=moe()),rf}var yoe=goe();const koe=_f(yoe),voe=()=>{const[r,e]=Le.useState(""),t=jE({extensions:[W_,J_],content:"<p>Start writing ✍️</p>",onUpdate:({editor:p})=>{e(p.getHTML())}}),n=Le.useRef(null),o=Le.useCallback(p=>{t&&t.chain().focus().setImage({src:p}).run()},[t]),s=Le.useCallback(p=>{var k;const m=(k=p.target.files)==null?void 0:k[0];if(!m)return;if(!m.type.startsWith("image/")){alert("画像ファイルを選択してください");return}if(m.size>5*1024*1024){alert("ファイルサイズは5MB以下にしてください");return}const v=new FileReader;v.onload=x=>{var C;const w=(C=x.target)==null?void 0:C.result;typeof w=="string"&&o(w)},v.onerror=()=>{alert("画像の読み込みに失敗しました")},v.readAsDataURL(m),p.target.value=""},[o]),c=Le.useCallback(()=>{var p;(p=n.current)==null||p.click()},[]),a=Le.useCallback(()=>{if(!t)return;const p=new koe,m=t.getHTML(),v=p.render(m),k=new Blob([v],{type:"text/markdown"}),x=URL.createObjectURL(k),w=document.createElement("a"),C=new Date().toISOString().replace(/[:.]/g,"-");w.href=x,w.download=`dad-notes-${C}.md`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(x),console.log("保存された内容 (Markdown):",v)},[t]),f=Le.useCallback(()=>{if(!t)return;const p=t.getHTML(),m=`
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Saved dad-notes</title>
    <style>
        body { max-width: 800px; margin: 40px auto; padding: 0 20px; }
        img { max-width: 100%; height: auto; }
    </style>
</head>
<body>
    ${p}
</body>
</html>`,v=new Blob([m],{type:"text/html"}),k=URL.createObjectURL(v),x=document.createElement("a"),w=new Date().toISOString().replace(/[:.]/g,"-");x.href=k,x.download=`dad-notes-${w}.html`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(k),console.log("保存された内容:",p)},[t]),d=Le.useCallback(()=>{t&&window.confirm("エディタの内容をリセットしますか？")&&(t.commands.setContent("<p>Start writing ✍️</p>"),e("<p>Start writing ✍️</p>"))},[t]);return tt.jsxs("div",{className:"editor-container",children:[tt.jsx("div",{className:"editor-main",children:tt.jsx(OE,{editor:t})}),tt.jsx("div",{className:"editor-source",children:tt.jsx("pre",{children:tt.jsx("code",{children:r})})}),tt.jsxs("div",{className:"button-container",children:[tt.jsx("button",{type:"button",onClick:c,children:"画像を挿入"}),tt.jsx("button",{type:"button",onClick:a,children:"Markdownとして保存"}),tt.jsx("button",{type:"button",onClick:f,children:"HTMLとして保存"}),tt.jsx("button",{type:"button",onClick:d,className:"reset-button",children:"リセット"})]}),tt.jsx("input",{ref:n,type:"file",accept:"image/*",onChange:s,style:{display:"none"}})]})},xoe=()=>tt.jsxs("div",{children:[tt.jsx("h1",{children:"dad-tiptap-editor"}),tt.jsx(voe,{})]});_v.createRoot(document.getElementById("root")).render(tt.jsx(Le.StrictMode,{children:tt.jsx(xoe,{})}));
